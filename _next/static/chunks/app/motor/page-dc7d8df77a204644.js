(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{4744:function(e,t,r){Promise.resolve().then(r.bind(r,4116))},4116:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ef}});var a=r(7437),s=r(2265),i=r(8614),l=r(9376),n=r(8515),o=r(6602),c=r(4588),d=r(397),x=r(6825),p=r(6612),u=r(123),m=r(7648);let h=["vehicle_type","registration","vehicle_fetch","manual_entry","pre_quote","quote","customization","review","payment"];function v(){let{currentModule:e,vehicleType:t,updateState:r}=(0,n.x)(),{theme:s}=(0,o.f)(),i=Math.round(Math.max(0,h.indexOf(e))/(h.length-1)*100);return(0,a.jsxs)("header",{className:"sticky top-0 z-30",style:{background:"var(--motor-bg)",borderBottom:"1px solid var(--motor-border)"},children:[(0,a.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-2.5 flex items-center justify-between",children:[(0,a.jsxs)(m.default,{href:"/",className:"flex items-center gap-2.5",children:[(0,a.jsx)(p.Z,{variant:"light"===s?"color":"white",className:"h-5"}),t&&(0,a.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-semibold uppercase tracking-wider",style:{background:"var(--motor-surface-2)",color:"#C084FC",border:"1px solid var(--motor-border)"},children:"bike"===t?"Bike":"Car"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>r({showAIChat:!0}),className:"group relative w-9 h-9 rounded-full flex items-center justify-center transition-all active:scale-95 overflow-hidden",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},title:"AI Assistant",children:[(0,a.jsx)("img",{src:(0,x.u)("/ai-assistant.png"),alt:"AI",className:"w-9 h-9 object-cover"}),(0,a.jsx)("span",{className:"absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-green-400 rounded-full",style:{border:"var(--motor-progress-border)"}})]}),(0,a.jsxs)("button",{onClick:()=>r({showExpertPanel:!0}),className:"group relative flex items-center gap-1.5 pl-1 pr-3 py-1 rounded-full transition-all active:scale-95",style:{background:"var(--motor-overlay-bg)",border:"1px solid var(--motor-border)"},title:"Talk to Expert",children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-full overflow-hidden",children:(0,a.jsx)("img",{src:(0,x.u)("/motor-expert.png"),alt:"Expert",className:"w-7 h-7 object-cover"})}),(0,a.jsx)("span",{className:"text-xs font-medium",style:{color:"var(--motor-text)",opacity:.9},children:"Expert"})]}),(0,a.jsx)(u.Z,{})]})]}),(0,a.jsx)("div",{className:"h-[2px]",style:{background:"var(--motor-border)"},children:(0,a.jsx)("div",{className:"h-full transition-all duration-700 ease-out",style:{width:"".concat(i,"%"),background:"var(--motor-progress-gradient)",boxShadow:"0 0 8px rgba(168,85,247,0.5)"}})})]})}var g=r(521),b=r(4214),f=r(4991),y=r(3450);let j={car:"Car.svg",bike:"Bike.svg",scooter:"Scooter.svg",shield:"Car coverage.svg",shield_search:"Third Party.svg",document:"Policy document.svg",claim_doc:"Claim_Document.svg",check:"Tick.svg",clock:"Time.svg",star:"special_car_star.svg",new_car:"New car.svg",new_bike:"New Bike.svg",user:"Profile.svg",building:"industry.svg",forward:"chevron right.svg",help:"Customer service.svg",chat_bubble:"Messages.svg",search:"magnifier.svg",switch:"Transfer policy.svg",fuel:"Fuel.svg",petrol:"Petrol.svg",diesel:"Diesel.svg",electric:"Flash.svg",cng:"CNG.svg",upload:"Document received.svg",download:"Download.svg",refresh:"Refresh.svg",map_pin:"Location.svg",phone:"Phone.svg",camera:"Camera.svg",garage:"Garage.svg",towing:"Towing.svg",claim:"Claim.svg",zero_dep:"Zero Dep Car.svg",engine:"Engine_protect.svg",passenger:"Passenger_Protection.svg",theft:"Theft_cover.svg",consumables:"Consumables_cover.svg",police:"Police.svg",renew:"Renew.svg",payment:"Payment.svg",pdf:"PDF file.svg",edit:"Edit.svg",policy:"Policy.svg",add_on:"add-on.svg",compare:"Compare.svg",discount:"Discount.svg",gift:"Gift.svg",key:"Key.svg",mail:"Mail.svg",notification:"Notification.svg",print:"Print.svg",profile:"Profile.svg",settings:"settings.svg",share:"Share.svg",trash:"Delete.svg",wallet:"wallet.svg",accident:"Car_accident.svg",bike_accident:"Bike_Accident.svg",broken_glass:"Broken Car Glass.svg",commercial_car:"Commercial Use_Taxi_car.svg",commercial_bike:"Commercial Use_Taxi_bike.svg",extra_car_protect:"Extra_car_protect.svg",fire:"Fire Accident Cover.svg",used_car:"Used_car.svg",sold_car:"Sold_car.svg",fastag:"Fastag.svg"};function w(e){let{icon:t,className:r="w-6 h-6"}=e,s=j[t];return s?(0,a.jsx)("img",{src:(0,x.u)("/icons/".concat(encodeURIComponent(s))),alt:t,className:r,style:{filter:"var(--motor-icon-filter, brightness(0) invert(1))",opacity:"var(--motor-icon-opacity, 0.85)"}}):(0,a.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827m0 0v.75m0-3.75h.008v.008H12v-.008z"})})}function N(e){let{options:t,onSelect:r}=e,[i,l]=(0,s.useState)(null),n=t.length<=4&&t.every(e=>e.icon),o=t.filter(e=>e.logoUrl).length>=3,c=e=>{l(e),setTimeout(()=>r(e),250)};if(n)return(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 max-w-md",children:t.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.06*t},onClick:()=>c(e.id),className:"\n              relative flex flex-col items-center text-center p-5 rounded-2xl border transition-all duration-200 active:scale-[0.96] min-h-[120px] justify-center\n              ".concat(i===e.id?"border-purple-400 shadow-lg shadow-purple-900/20":"hover:border-purple-300/30","\n            "),style:{background:i===e.id?"var(--motor-selected-bg)":"var(--motor-surface)",borderColor:i===e.id?void 0:"var(--motor-border)"},children:[e.badge&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 text-[11px] bg-pink-500 text-white px-2.5 py-0.5 rounded-full font-semibold shadow-sm",children:e.badge}),(0,a.jsx)("div",{className:"mb-2 w-10 h-10 rounded-xl flex items-center justify-center overflow-hidden",style:{background:"var(--motor-surface-2)"},children:e.logoUrl?(0,a.jsx)("img",{src:(0,x.u)(e.logoUrl),alt:e.label,className:"w-7 h-7 object-contain"}):(0,a.jsx)(w,{icon:e.icon,className:"w-6 h-6 text-purple-300"})}),(0,a.jsx)("span",{className:"text-[15px] font-medium",style:{color:"var(--motor-text)"},children:e.label}),e.description&&(0,a.jsx)("p",{className:"text-[12px] mt-1",style:{color:"var(--motor-text-subtle)"},children:e.description})]},e.id))});if(o){let e=t.filter(e=>e.logoUrl),r=t.filter(e=>!e.logoUrl);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:e.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.025*t},onClick:()=>c(e.id),className:"\n                relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl border transition-all duration-200 active:scale-[0.95]\n                ".concat(i===e.id?"border-purple-400 ring-1 ring-purple-400/30":"","\n              "),style:{background:i===e.id?"var(--motor-selected-bg)":"var(--motor-surface)",borderColor:i===e.id?void 0:"var(--motor-border)"},children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",style:{background:"var(--motor-surface-2)"},children:(0,a.jsx)("img",{src:(0,x.u)(e.logoUrl),alt:e.label,className:"w-7 h-7 object-contain"})}),(0,a.jsx)("span",{className:"text-[11px] font-medium text-center leading-tight",style:{color:"var(--motor-text)"},children:e.label}),e.description&&(0,a.jsx)("span",{className:"text-[9px] text-center leading-tight",style:{color:"var(--motor-text-subtle)"},children:e.description}),i===e.id&&(0,a.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1.5 right-1.5 w-4 h-4 rounded-full bg-purple-500 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e.id))}),r.map((t,r)=>(0,a.jsx)(g.E.button,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:(e.length+r)*.025},onClick:()=>c(t.id),className:"\n              w-full mt-2 text-left px-4 py-3 rounded-xl border transition-all duration-200 active:scale-[0.97]\n              ".concat(i===t.id?"border-purple-400":"","\n            "),style:{background:i===t.id?"var(--motor-selected-bg)":"var(--motor-surface)",borderColor:i===t.id?void 0:"var(--motor-border)"},children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t.icon&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"var(--motor-surface-2)"},children:(0,a.jsx)(w,{icon:t.icon,className:"w-4 h-4 text-purple-300"})}),(0,a.jsx)("span",{className:"text-[13px] font-medium",style:{color:"var(--motor-text)"},children:t.label})]})},t.id))]})}return(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2.5 max-w-md",children:t.map((e,t)=>(0,a.jsx)(g.E.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.04*t},onClick:()=>c(e.id),className:"\n            text-left px-4 py-3.5 rounded-xl border transition-all duration-200 active:scale-[0.97]\n            ".concat(i===e.id?"border-purple-400 shadow-md shadow-purple-900/20":"","\n          "),style:{background:i===e.id?"var(--motor-selected-bg)":"var(--motor-surface)",borderColor:i===e.id?void 0:"var(--motor-border)"},children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(e.logoUrl||e.icon)&&(0,a.jsx)("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",style:{background:"var(--motor-surface-2)"},children:e.logoUrl?(0,a.jsx)("img",{src:(0,x.u)(e.logoUrl),alt:e.label,className:"w-6 h-6 object-contain"}):(0,a.jsx)(w,{icon:e.icon,className:"w-4.5 h-4.5 text-purple-300"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-[15px] font-medium",style:{color:"var(--motor-text)"},children:e.label}),e.description&&(0,a.jsx)("p",{className:"text-[12px] mt-0.5",style:{color:"var(--motor-text-subtle)"},children:e.description})]})]})},e.id))})}function k(e){let{placeholder:t,onSubmit:r}=e,[i,l]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.focus()},[]);let x=e=>{let t=e.toUpperCase().replace(/[^A-Z0-9]/g,"");return t.length<=2?t:t.length<=4?"".concat(t.slice(0,2)," ").concat(t.slice(2)):t.length<=6?"".concat(t.slice(0,2)," ").concat(t.slice(2,4)," ").concat(t.slice(4)):"".concat(t.slice(0,2)," ").concat(t.slice(2,4)," ").concat(t.slice(4,6)," ").concat(t.slice(6,10))},p=()=>{if(i.replace(/\s/g,"").length<5){c("Please enter a valid registration number");return}r(i)};return(0,a.jsxs)("div",{className:"max-w-sm",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-8 h-5 bg-blue-600 rounded-sm flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-[8px] font-bold",children:"IND"})}),(0,a.jsx)("input",{ref:d,type:"text",value:i,onChange:e=>{l(x(e.target.value)),c("")},onKeyDown:e=>"Enter"===e.key&&p(),placeholder:t||"MH 04 EQ 4392",className:"w-full pl-16 pr-4 py-4 rounded-xl text-[18px] font-semibold focus:outline-none focus:border-purple-400 transition-colors tracking-wider uppercase",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},maxLength:16,autoComplete:"off"})]}),o&&(0,a.jsx)("p",{className:"text-[12px] text-red-400 mt-1.5",children:o}),(0,a.jsxs)("button",{onClick:p,className:"mt-4 w-full py-3.5 bg-purple-600 text-white rounded-xl text-[15px] font-semibold hover:bg-purple-500 transition-colors active:scale-[0.97]",children:["Find my ","bike"===n.x.getState().vehicleType?"bike":"car"]})]})}function C(e){let{placeholder:t,inputType:r="text",onSubmit:i}=e,[l,n]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.focus()},[]);let x=()=>{if(!l.trim()){c("Please enter a value");return}i(l.trim())};return(0,a.jsxs)("div",{className:"max-w-sm",children:[(0,a.jsx)("input",{ref:d,type:r,value:l,onChange:e=>{n(e.target.value),c("")},onKeyDown:e=>"Enter"===e.key&&x(),placeholder:t||"Type here...",className:"w-full px-4 py-4 rounded-xl text-[16px] focus:outline-none focus:border-purple-400 transition-colors",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},autoComplete:"off"}),o&&(0,a.jsx)("p",{className:"text-[12px] text-red-400 mt-1.5",children:o}),(0,a.jsx)("button",{onClick:x,className:"mt-3 w-full py-3.5 rounded-xl text-[15px] font-semibold transition-colors active:scale-[0.97]",style:{background:"linear-gradient(135deg, #7C3AED, #A855F7)",color:"#FFFFFF"},children:"Continue"})]})}let S=[{message:"Searching Vaahan portal...",duration:1500},{message:"Fetching vehicle details...",duration:1500},{message:"Checking registration certificate...",duration:1200},{message:"Loading existing policy data...",duration:1200},{message:"Almost there...",duration:800}];function _(e){let{onComplete:t}=e,[r,i]=(0,s.useState)(0),[l,o]=(0,s.useState)(!1),{vehicleType:c,registrationNumber:d}=(0,n.x)();return(0,s.useEffect)(()=>{let e;return(async()=>{for(let t=0;t<S.length;t++)await new Promise(r=>{e=setTimeout(()=>{i(t+1),r()},S[t].duration)});o(!0),setTimeout(()=>{t(Math.random()>.15?"success":"failed")},600)})(),()=>clearTimeout(e)},[]),(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,a.jsx)("div",{className:"bg-white/8 border border-white/15 rounded-xl p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:(0,a.jsx)(w,{icon:"bike"===c?"bike":"car",className:"w-5 h-5 text-purple-300"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[11px] text-white/40 uppercase tracking-wider",children:"Registration"}),(0,a.jsx)("p",{className:"text-[16px] font-bold text-white tracking-wider",children:d||"N/A"})]})]})}),(0,a.jsx)("div",{className:"space-y-3",children:S.map((e,t)=>(0,a.jsxs)(g.E.div,{initial:{opacity:0,x:-10},animate:{opacity:t<r?1:.3,x:0},transition:{delay:.1,duration:.3},className:"flex items-center gap-3",children:[t<r?(0,a.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}):t===r?(0,a.jsx)("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(g.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-purple-400/30 border-t-purple-400 rounded-full"})}):(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-white/5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-[13px] ".concat(t<r?"text-white/70":t===r?"text-white":"text-white/30"),children:e.message})]},t))}),(0,a.jsx)("div",{className:"mt-4 h-1 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)(g.E.div,{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400 rounded-full",initial:{width:"0%"},animate:{width:l?"100%":"".concat(r/S.length*100,"%")},transition:{duration:.5,ease:"easeOut"}})})]})}let M={"Maruti Suzuki":"/car-images/Swift.png",Hyundai:"/car-images/Venue.png",Tata:"/car-images/Nexon.png",Kia:"/car-images/Verna.png",Mahindra:"/car-images/XUV700.png",Toyota:"/car-images/Toyota.png",Honda:"/car-images/Citroen.png",MG:"/car-images/MG comet.png",Volkswagen:"/car-images/Citroen.png",Skoda:"/car-images/Verna.png",BMW:"/car-images/harrier.png",Audi:"/car-images/harrier.png","Mercedes-Benz":"/car-images/harrier.png",Jeep:"/car-images/XUV700.png",Renault:"/car-images/Citroen.png",Nissan:"/car-images/Venue.png"},P={Hero:"/car-images/Splendor.png",Honda:"/car-images/Activa.png",Bajaj:"/car-images/Pulsar.png",TVS:"/car-images/CT 100.png","Royal Enfield":"/car-images/KTM.png",Yamaha:"/car-images/Pulsar.png",Suzuki:"/car-images/Activa.png",KTM:"/car-images/KTM.png",Kawasaki:"/car-images/kawasaki.png",Ola:"/car-images/Activa.png",Ather:"/car-images/Activa.png"};function T(e){var t,r;let{onConfirm:i}=e,l=n.x.getState(),o=l.vehicleData,c=l.previousPolicy,[d,p]=(0,s.useState)(!1),u=(t=o.make,r=l.vehicleType||"car",(0,x.u)(("bike"===r?P:M)[t]||("bike"===r?"/car-images/Splendor.png":"/car-images/Swift.png")));return(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,a.jsxs)("div",{className:"bg-white/8 border border-white/15 rounded-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500/20 to-purple-400/10 px-5 py-4 border-b border-white/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-xl bg-white/10 flex items-center justify-center overflow-hidden p-1",children:u?(0,a.jsx)("img",{src:u,alt:"".concat(o.make," ").concat(o.model),className:"w-full h-full object-contain"}):(0,a.jsx)(w,{icon:"bike"===l.vehicleType?"bike":"car",className:"w-6 h-6 text-purple-300"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-[16px] font-bold text-white",children:[o.make," ",o.model]}),(0,a.jsxs)("p",{className:"text-[12px] text-white/50",children:[o.variant," \xb7 ",o.fuelType," \xb7 ",o.registrationYear]})]})]})}),(0,a.jsxs)("div",{className:"px-5 py-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[12px] text-white/40",children:"Registration"}),(0,a.jsx)("span",{className:"text-[13px] font-semibold text-white tracking-wider",children:l.registrationNumber})]}),c.insurer&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[12px] text-white/40",children:"Current Insurer"}),(0,a.jsx)("span",{className:"text-[13px] font-medium text-white/80",children:c.insurer})]}),c.expiryDate&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[12px] text-white/40",children:"Policy Expiry"}),(0,a.jsx)("span",{className:"text-[13px] font-medium text-white/80",children:c.expiryDate})]}),c.ncbPercentage>0&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[12px] text-white/40",children:"NCB"}),(0,a.jsxs)("span",{className:"text-[13px] font-medium text-green-400",children:[c.ncbPercentage,"%"]})]})]})]}),(0,a.jsx)("button",{onClick:()=>{p(!0),setTimeout(()=>i(),300)},disabled:d,className:"mt-4 w-full py-3.5 bg-purple-700 text-white rounded-xl text-[15px] font-semibold hover:bg-purple-600 transition-colors active:scale-[0.97] disabled:opacity-60",children:d?"Confirmed":"Yes, this is correct"}),(0,a.jsx)("button",{className:"mt-2 w-full py-2.5 text-[13px] text-white/50 hover:text-white/70 transition-colors",children:"This is not my vehicle"})]})}let L=["Maruti Suzuki","Hyundai","Tata","Kia","Mahindra","Toyota","Honda","MG","Volkswagen","Skoda","Renault","Nissan","Jeep","Mercedes-Benz","BMW","Audi"],E=["Hero","Honda","Bajaj","TVS","Royal Enfield","Yamaha","Suzuki","KTM","Kawasaki","Jawa","Ola","Ather","Revolt","Aprilia","Benelli","BMW Motorrad"],A={"Maruti Suzuki":"/logos/Suzuki.svg",Hyundai:"/logos/Hyundai.svg",Tata:"/logos/TATA.svg",Kia:"/logos/Kia.svg",Mahindra:"/logos/Mahindra.svg",Toyota:"/logos/TATA.svg",Honda:"/logos/Honda.svg",MG:"/logos/MG.svg",Volkswagen:"/logos/Volvo.svg",Skoda:"/logos/Opel.svg",Renault:"/logos/Renault.svg",Nissan:"/logos/Mitsubishi.svg",Jeep:"/logos/Jeep.svg","Mercedes-Benz":"/logos/Mercedez.svg",BMW:"/logos/BMW.svg",Audi:"/logos/Audi.svg",Hero:"/logos/Hero.svg",Bajaj:"/logos/Bajaj.svg",TVS:"/logos/TVS.svg","Royal Enfield":"/logos/Royal Enfield.svg",Yamaha:"/logos/Suzuki.svg",Suzuki:"/logos/Suzuki.svg",KTM:"/logos/BMW.svg",Kawasaki:"/logos/Honda.svg",Jawa:"/logos/Mahindra.svg",Ola:"/logos/ola.svg",Ather:"/logos/Ather.svg",Revolt:"/logos/Revolt.svg",Aprilia:"/logos/Ferrari.svg",Benelli:"/logos/Ferrari.svg","BMW Motorrad":"/logos/BMW.svg"};function B(e){let{onSelect:t}=e,r=n.x.getState().vehicleType,i="bike"===r?E:L,[l,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),p=l?i.filter(e=>e.toLowerCase().includes(l.toLowerCase())):i,u=e=>{d(e),setTimeout(()=>t(e),300)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative mb-3",children:[(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--motor-text-subtle)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"Search ".concat("bike"===r?"bike":"car"," brand"),className:"w-full pl-9 pr-4 py-2.5 rounded-xl text-[14px] focus:outline-none focus:border-purple-400/50 transition-colors",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},autoFocus:!0})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:p.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.02*t},onClick:()=>u(e),className:"relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl transition-all duration-200 active:scale-[0.95]",style:c===e?{background:"var(--motor-selected-bg)",border:"1px solid var(--motor-selected-border, #A855F7)"}:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",style:{background:"var(--motor-surface-2)"},children:A[e]?(0,a.jsx)("img",{src:(0,x.u)(A[e]),alt:e,className:"w-7 h-7 object-contain"}):(0,a.jsx)("span",{className:"text-[11px] font-bold",style:{color:"var(--motor-text-muted)"},children:e.slice(0,2)})}),(0,a.jsx)("span",{className:"text-[11px] font-medium text-center leading-tight",style:{color:"var(--motor-text)"},children:e}),c===e&&(0,a.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1.5 right-1.5 w-4 h-4 rounded-full bg-purple-500 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e))})]})}let F={"Maruti Suzuki":["Swift","Swift Dzire","Baleno","Brezza","WagonR","Ertiga","Celerio","Alto K10","Fronx","Jimny","Grand Vitara","XL6","Ignis","S-Presso","Ciaz","Invicto"],Hyundai:["i20","Creta","Venue","i10 Nios","Verna","Tucson","Alcazar","Aura","Exter","Ioniq 5"],Tata:["Nexon","Punch","Altroz","Harrier","Safari","Tiago","Tigor","Nexon EV","Punch EV","Curvv"],Kia:["Seltos","Sonet","Carens","EV6","Carnival"],Mahindra:["Thar","XUV700","Scorpio-N","XUV400","XUV300","Bolero","Bolero Neo","XUV.e8"],Toyota:["Innova Crysta","Fortuner","Urban Cruiser Hyryder","Glanza","Camry","Vellfire","Land Cruiser"],Honda:["City","Amaze","Elevate","WR-V"],MG:["Hector","Astor","ZS EV","Gloster","Comet EV"],Volkswagen:["Taigun","Virtus","Tiguan"],Skoda:["Slavia","Kushaq","Superb","Kodiaq"]},D={Hero:["Splendor Plus","HF Deluxe","Xtreme 160R","Xpulse 200","Glamour","Passion Pro","Pleasure Plus","Destini 125","Mavrick 440"],Honda:["Activa 6G","Shine","Unicorn","CB350","Hornet 2.0","CB200X","Dio","SP 125"],Bajaj:["Pulsar NS200","Pulsar 150","Dominar 400","Avenger","Platina","Chetak"],TVS:["Apache RTR 200","Jupiter","Raider","Ronin","Ntorq","Star City Plus","iQube"],"Royal Enfield":["Classic 350","Hunter 350","Meteor 350","Himalayan","Bullet 350","Continental GT 650","Interceptor 650","Super Meteor 650","Shotgun 650"],Yamaha:["MT-15","R15","FZ-S","Ray ZR","Fascino","Aerox"]};function I(e){let{onSelect:t}=e,r=n.x.getState(),i=r.vehicleData.make,l=("bike"===r.vehicleType?D:F)[i]||["Other"],[o,c]=(0,s.useState)(""),[d,x]=(0,s.useState)(null),p=o?l.filter(e=>e.toLowerCase().includes(o.toLowerCase())):l,u=e=>{x(e),setTimeout(()=>t(e),300)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative mb-3",children:[(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--motor-text-subtle)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Search ".concat(i," model"),className:"w-full pl-9 pr-4 py-2.5 rounded-xl text-[14px] focus:outline-none focus:border-purple-400/50 transition-colors",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},autoFocus:!0})]}),(0,a.jsx)("div",{className:"space-y-1",children:p.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.025*t},onClick:()=>u(e),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 active:scale-[0.98]",style:d===e?{background:"var(--motor-selected-bg)",border:"1px solid var(--motor-selected-border, #A855F7)"}:{border:"1px solid transparent"},children:[(0,a.jsx)("span",{className:"text-[14px] font-medium",style:{color:"var(--motor-text)"},children:e}),(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",style:d===e?{borderColor:"#A855F7",background:"#A855F7"}:{borderColor:"var(--motor-border-strong)"},children:d===e&&(0,a.jsx)(g.E.svg,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e))})]})}let z={Petrol:["Smart","Smart (O)","Pure","Pure (O)","Pure Plus","Pure Plus S","Pure Plus AT","Pure Plus S Dark"],Diesel:["Smart","Smart (O)","Pure","Pure (O)","Pure Plus","Pure Plus S","Pure Plus AT"],Electric:["Prime","Prime (O)","Creative","Creative Pro","Empowered","Empowered+"],CNG:["Smart","Smart S-CNG","Pure","Pure S-CNG"]},W=["Petrol","Diesel","Electric","CNG"];function V(e){let{onSelect:t}=e,r=n.x.getState(),i=r.vehicleData.fuelType,[l,o]=(0,s.useState)(i||"Petrol"),[c,d]=(0,s.useState)(null),x="bike"===r.vehicleType,p=z[l]||z.Petrol,u=e=>{d(e),setTimeout(()=>t(e),300)};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex gap-1.5 mb-3 p-1 rounded-xl",style:{background:"var(--motor-surface-2)"},children:(x?["Petrol","Electric"]:W).map(e=>(0,a.jsx)("button",{onClick:()=>{o(e),d(null)},className:"flex-1 py-2 rounded-lg text-[12px] font-semibold transition-all",style:l===e?{background:"linear-gradient(135deg, #7C47E1, #A855F7)",color:"#FFFFFF"}:{color:"var(--motor-text-muted)"},children:e},e))}),!c&&(0,a.jsxs)("p",{className:"text-[11px] mb-2 px-1",style:{color:"var(--motor-text-subtle)"},children:["Select your ",r.vehicleData.model||"car","'s fuel type to see variants"]}),(0,a.jsx)("div",{className:"space-y-1",children:p.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.025*t},onClick:()=>u(e),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 active:scale-[0.98]",style:c===e?{background:"var(--motor-selected-bg)",border:"1px solid var(--motor-selected-border, #A855F7)"}:{border:"1px solid transparent"},children:[(0,a.jsx)("span",{className:"text-[14px] font-medium",style:{color:"var(--motor-text)"},children:e}),(0,a.jsx)("svg",{className:"w-4 h-4",style:{color:"var(--motor-text-subtle)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]},e))})]})}let R=["January","February","March","April","May","June","July","August","September","October","November","December"];function H(e){let{onSelect:t}=e,r=new Date().getFullYear(),i=new Date().getMonth(),l=Array.from({length:20},(e,t)=>r-t),[n,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),x=e=>{o(e)},p=n===r?R.slice(0,i+1):R;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsxs)("select",{value:null!=n?n:"",onChange:e=>o(Number(e.target.value)),className:"w-full px-3 py-2.5 rounded-xl text-[14px] focus:outline-none cursor-pointer pr-8 appearance-none",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Year"}),l.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none",style:{color:"var(--motor-text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsxs)("select",{value:null!=c?c:"",onChange:e=>d(e.target.value),className:"w-full px-3 py-2.5 rounded-xl text-[14px] focus:outline-none cursor-pointer pr-8 appearance-none",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Month"}),p.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none",style:{color:"var(--motor-text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-1.5",children:l.map((e,t)=>(0,a.jsx)(g.E.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.012*t},onClick:()=>x(e),className:"py-2.5 rounded-lg text-center transition-all duration-200 active:scale-[0.95]",style:n===e?{background:"linear-gradient(135deg, #7C47E1, #A855F7)",color:"#FFFFFF",fontWeight:700}:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)",color:"var(--motor-text-muted)"},children:(0,a.jsx)("span",{className:"text-[13px]",children:e})},e))}),n&&(0,a.jsxs)(g.E.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},onClick:()=>{n&&t(String(n))},className:"mt-3 w-full py-3 rounded-xl text-[14px] font-semibold text-white transition-colors active:scale-[0.97]",style:{background:"linear-gradient(135deg, #7C47E1, #A855F7)"},children:["Continue with ",n,c?" \xb7 ".concat(c):""]})]})}let U=[{value:0,label:"0%",description:"First policy / Made a claim"},{value:20,label:"20%",description:"1 claim-free year"},{value:25,label:"25%",description:"2 claim-free years"},{value:35,label:"35%",description:"3 claim-free years"},{value:45,label:"45%",description:"4 claim-free years"},{value:50,label:"50%",description:"5+ claim-free years"}];function G(e){let{onSelect:t}=e,[r,i]=(0,s.useState)(null),l=e=>{i(e),setTimeout(()=>t(String(e)),300)};return(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:U.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.04*t},onClick:()=>l(e.value),className:"relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl transition-all duration-200 active:scale-[0.95]",style:r===e.value?{background:"var(--motor-selected-bg)",border:"1px solid var(--motor-selected-border, #A855F7)"}:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[r===e.value&&(0,a.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1.5 right-1.5 w-4 h-4 rounded-full bg-purple-500 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,a.jsx)("span",{className:"text-[20px] font-bold leading-none",style:{color:r===e.value?"#A855F7":"var(--motor-text)"},children:e.label}),(0,a.jsx)("span",{className:"text-[10px] text-center leading-tight",style:{color:"var(--motor-text-muted)"},children:e.description})]},e.value))})}function O(e){let{onContinue:t}=e,r=n.x.getState(),[i,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{setTimeout(()=>l(!0),300)},[]),(0,a.jsxs)(g.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-sm",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-green-400/10 border border-green-400/20 rounded-2xl p-5 text-center",children:[(0,a.jsx)(g.E.div,{initial:{scale:0},animate:i?{scale:1}:{},transition:{type:"spring",damping:12},className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83C\uDF89"})}),(0,a.jsx)("h3",{className:"text-[18px] font-bold mb-1",style:{color:"var(--motor-text)"},children:"NCB Reward Applied!"}),(0,a.jsxs)("p",{className:"text-[14px] mb-3",style:{color:"var(--motor-text-muted)"},children:[r.newNcbPercentage,"% discount on your Own Damage premium"]}),(0,a.jsxs)("div",{className:"rounded-xl p-3",style:{background:"var(--motor-surface-2)"},children:[(0,a.jsx)("p",{className:"text-[12px]",style:{color:"var(--motor-text-subtle)"},children:"For staying claim-free"}),(0,a.jsxs)("p",{className:"text-[20px] font-bold text-green-400",children:[r.newNcbPercentage,"% OFF"]})]})]}),(0,a.jsx)("button",{onClick:t,className:"mt-4 w-full py-3.5 rounded-xl text-[15px] font-semibold text-white transition-colors active:scale-[0.97]",style:{background:"linear-gradient(135deg, #7C47E1, #A855F7)"},children:"Continue"})]})}let Y=["ACKO General Insurance","TATA AIG","ICICI Lombard","Bajaj Allianz","HDFC Ergo","New India Assurance","United India Insurance","National Insurance","Oriental Insurance","SBI General","Reliance General","Royal Sundaram","Digit Insurance","Other"];function K(e){let{onSelect:t}=e,[r,i]=(0,s.useState)(""),[l,n]=(0,s.useState)(null),o=r?Y.filter(e=>e.toLowerCase().includes(r.toLowerCase())):Y,c=e=>{n(e),setTimeout(()=>t(e),300)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative mb-3",children:[(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--motor-text-subtle)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Search insurer",className:"w-full pl-9 pr-4 py-2.5 rounded-xl text-[14px] focus:outline-none focus:border-purple-400/50 transition-colors",style:{background:"var(--motor-input-bg)",border:"1px solid var(--motor-input-border)",color:"var(--motor-input-text)"},autoFocus:!0})]}),(0,a.jsx)("div",{className:"space-y-1",children:o.map((e,t)=>(0,a.jsxs)(g.E.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.02*t},onClick:()=>c(e),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 active:scale-[0.98]",style:l===e?{background:"var(--motor-selected-bg)",border:"1px solid var(--motor-selected-border, #A855F7)"}:{border:"1px solid transparent"},children:[(0,a.jsx)("span",{className:"text-[14px] font-medium",style:{color:"var(--motor-text)"},children:e}),(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",style:l===e?{borderColor:"#A855F7",background:"#A855F7"}:{borderColor:"var(--motor-border-strong)"},children:l===e&&(0,a.jsx)(g.E.svg,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e))}),(0,a.jsx)("button",{onClick:()=>t("skip"),className:"mt-3 w-full py-2.5 text-[12px] transition-colors",style:{color:"var(--motor-text-subtle)"},children:"Skip this step"})]})}function X(e){let{onConfirm:t}=e,r=n.x.getState(),s=r.vehicleData,i="bike"===r.vehicleType?"Bike":"Car";return(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,a.jsxs)("div",{className:"rounded-2xl overflow-hidden",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[(0,a.jsx)("div",{className:"px-5 py-3",style:{background:"var(--motor-selected-bg)",borderBottom:"1px solid var(--motor-border)"},children:(0,a.jsx)("h3",{className:"text-[14px] font-semibold",style:{color:"var(--motor-text)"},children:"Vehicle Summary"})}),(0,a.jsxs)("div",{className:"px-5 py-4 space-y-3",children:[(0,a.jsx)(q,{label:"Vehicle Type",value:i}),s.make&&(0,a.jsx)(q,{label:"Brand",value:s.make}),s.model&&(0,a.jsx)(q,{label:"Model",value:s.model}),s.variant&&(0,a.jsx)(q,{label:"Variant",value:s.variant}),s.fuelType&&(0,a.jsx)(q,{label:"Fuel",value:s.fuelType}),s.registrationYear&&(0,a.jsx)(q,{label:"Reg. Year",value:String(s.registrationYear)}),r.registrationNumber&&(0,a.jsx)(q,{label:"Reg. Number",value:r.registrationNumber}),r.policyStatus&&(0,a.jsx)(q,{label:"Policy Status",value:"active"===r.policyStatus?"Active":"Expired"}),r.previousPolicy.ncbPercentage>0&&(0,a.jsx)(q,{label:"NCB",value:"".concat(r.previousPolicy.ncbPercentage,"%"),highlight:!0})]})]}),(0,a.jsx)("button",{onClick:t,className:"mt-4 w-full py-3.5 rounded-xl text-[15px] font-semibold text-white transition-colors active:scale-[0.97]",style:{background:"linear-gradient(135deg, #7C47E1, #A855F7)"},children:"View prices"})]})}function q(e){let{label:t,value:r,highlight:s}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[12px]",style:{color:"var(--motor-text-subtle)"},children:t}),(0,a.jsx)("span",{className:"text-[13px] font-medium",style:{color:s?"#22C55E":"var(--motor-text)"},children:r})]})}function J(){return(0,a.jsx)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm text-center",children:(0,a.jsxs)("div",{className:"bg-red-500/10 border border-red-400/20 rounded-2xl p-6",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)("svg",{className:"w-7 h-7 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),(0,a.jsx)("h3",{className:"text-[16px] font-bold text-white mb-2",children:"Unable to insure"}),(0,a.jsx)("p",{className:"text-[13px] text-white/50",children:"We're currently unable to offer insurance for commercial vehicles. We'll notify you when this changes."})]})})}let Z=[{message:"Analyzing your vehicle details...",duration:1e3},{message:"Calculating Insured Declared Value...",duration:1200},{message:"Fetching OD & TP premiums...",duration:1e3},{message:"Applying NCB discount...",duration:800},{message:"Preparing your personalized plans...",duration:1e3}];function Q(e){let{onComplete:t}=e,[i,l]=(0,s.useState)(0),[o,c]=(0,s.useState)(!1),{vehicleType:d,vehicleData:x,registrationNumber:p}=(0,n.x)();return(0,s.useEffect)(()=>{let e;return(async()=>{for(let t=0;t<Z.length;t++)await new Promise(r=>{e=setTimeout(()=>{l(t+1),r()},Z[t].duration)});c(!0),setTimeout(async()=>{try{let{getMotorPlanDetails:e,calculateIDV:a}=await Promise.resolve().then(r.bind(r,3450)),s=n.x.getState(),i=x.registrationYear?new Date().getFullYear()-x.registrationYear:3,l=a(8e5,i),o=e(s,"comprehensive","all"),c=e(s,"comprehensive","network"),d=e(s,"zero_dep"),p=e(s,"third_party");t({plans:[o,c,d,p],idv:l.recommended,idvMin:l.min,idvMax:l.max})}catch(e){console.error("Error generating plans:",e),t({plans:[],idv:75e4,idvMin:675e3,idvMax:787500})}},600)})(),()=>clearTimeout(e)},[t,x.registrationYear]),(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,a.jsx)("div",{className:"bg-white/8 border border-white/15 rounded-xl p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:(0,a.jsx)(w,{icon:"bike"===d?"bike":"car",className:"w-5 h-5 text-purple-300"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-[13px] font-semibold text-white",children:[x.make," ",x.model]}),(0,a.jsxs)("p",{className:"text-[11px] text-white/40",children:[x.variant," \xb7 ",x.fuelType]})]})]})}),(0,a.jsx)("div",{className:"space-y-3",children:Z.map((e,t)=>(0,a.jsxs)(g.E.div,{initial:{opacity:0,x:-10},animate:{opacity:t<i?1:.3,x:0},transition:{delay:.1,duration:.3},className:"flex items-center gap-3",children:[t<i?(0,a.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}):t===i?(0,a.jsx)("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(g.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-purple-400/30 border-t-purple-400 rounded-full"})}):(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-white/5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-[13px] ".concat(t<i?"text-white/70":t===i?"text-white":"text-white/30"),children:e.message})]},t))}),(0,a.jsx)("div",{className:"mt-4 h-1 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)(g.E.div,{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400 rounded-full",initial:{width:"0%"},animate:{width:o?"100%":"".concat(i/Z.length*100,"%")},transition:{duration:.5,ease:"easeOut"}})})]})}function $(e){let{idvMin:t,idvMax:r,currentIdv:i,onApply:l,onClose:n}=e,[o,c]=(0,s.useState)(i),d=r>t?(o-t)/(r-t)*100:0,x=e=>"".concat((e/1e5).toFixed(2),"L");return(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-end justify-center bg-black/60 backdrop-blur-sm",onClick:n,children:(0,a.jsxs)(g.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md rounded-t-3xl shadow-2xl px-5 pt-5 pb-10",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",borderTop:"1px solid var(--motor-border-strong)"},children:[(0,a.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-5"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h3",{className:"text-[17px] font-bold",style:{color:"var(--motor-text)"},children:"Insured Declared Value"}),(0,a.jsx)("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full transition-colors",style:{background:"var(--motor-surface-2)",color:"var(--motor-text-muted)"},children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("p",{className:"text-[12px] mb-5",style:{color:"var(--motor-text-subtle)"},children:"Amount ACKO pays if your car is stolen or completely damaged"}),(0,a.jsxs)("div",{className:"rounded-2xl px-4 py-4 mb-5",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[15px] font-bold",style:{color:"var(--motor-text)"},children:x(t)}),(0,a.jsx)("p",{className:"text-[11px] mt-0.5",style:{color:"var(--motor-text-subtle)"},children:"High Risk"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-[20px] font-black leading-tight",style:{color:"var(--motor-text)"},children:["IDV ₹",x(o)]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-[15px] font-bold",style:{color:"var(--motor-text)"},children:x(r)}),(0,a.jsx)("p",{className:"text-[11px] mt-0.5",style:{color:"var(--motor-text-subtle)"},children:"Low Risk"})]})]}),(0,a.jsx)("input",{type:"range",min:t,max:r,step:1e3,value:o,onChange:e=>c(Number(e.target.value)),className:"idv-slider w-full",style:{background:"linear-gradient(to right, #4ade80 ".concat(d,"%, var(--motor-surface-2) ").concat(d,"%)")}})]}),(0,a.jsxs)("button",{onClick:()=>l(o),className:"w-full py-3.5 bg-purple-700 hover:bg-purple-600 active:scale-[0.98] text-white font-semibold rounded-2xl text-[15px] transition-all",children:["Confirm IDV ₹",x(o)]})]})})}function ee(e){let{onSelect:t}=e,l=(0,n.x)(e=>e.availablePlans)||[],o=(0,n.x)(e=>e.idv),c=(0,n.x)(e=>e.idvMin),d=(0,n.x)(e=>e.idvMax),x=(0,n.x)(e=>e.updateState),p=(0,n.x)(e=>e.vehicleEntryType),u=(0,n.x)(e=>e.vehicleType),m="brand_new"===p,h="bike"===u?"bike":"car",[v,b]=(0,s.useState)(null),[f,y]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),_=l.filter(e=>"comprehensive"===e.type),M=l.filter(e=>"zero_dep"===e.type),P=l.find(e=>"third_party"===e.type),T=_.sort((e,t)=>e.totalPrice-t.totalPrice)[0],L=M.sort((e,t)=>e.totalPrice-t.totalPrice)[0],E=e=>"₹".concat(e.toLocaleString("en-IN")),A=async e=>{k(!1),S(!0),x({idv:e}),await new Promise(e=>setTimeout(e,900));try{let{getMotorPlanDetails:t}=await Promise.resolve().then(r.bind(r,3450)),a=n.x.getState(),s=t(a,"comprehensive","all",e),i=t(a,"comprehensive","network",e),l=t(a,"zero_dep",void 0,e),o=t(a,"third_party",void 0,e);x({availablePlans:[s,i,l,o]})}catch(e){}S(!1)},B=e=>{"comprehensive"===e.type?(y(e),w(!0)):t({planType:e.type,garageTier:null,plan:e})},F=e=>{if(!f)return;let r=l.find(t=>t.type===f.type&&t.garageTier===e);w(!1),t({planType:f.type,garageTier:e,plan:r})};return(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"text-[12px] text-white/50",children:"Insured value (IDV)"}),(0,a.jsxs)("p",{className:"text-[14px] font-semibold text-white",children:["₹",(o/1e5).toFixed(1)," Lakh"," ",(0,a.jsx)("button",{onClick:()=>k(!0),className:"text-purple-300 text-[12px] ml-1 underline-offset-2 hover:text-purple-200 transition-colors",children:"Edit"})]})]}),(0,a.jsx)(i.M,{children:N&&(0,a.jsx)($,{idvMin:c||Math.round(.9*o),idvMax:d||Math.round(1.1*o),currentIdv:o,onClose:()=>k(!1),onApply:A})}),(0,a.jsx)(i.M,{mode:"wait",children:C?(0,a.jsxs)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-400/60 animate-pulse"}),(0,a.jsx)("p",{className:"text-[12px] text-white/40 animate-pulse",children:"Recalculating premiums…"})]}),(0,a.jsx)(et,{}),(0,a.jsx)(et,{}),!m&&(0,a.jsx)(et,{})]},"skeletons"):(0,a.jsxs)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[m&&L&&(0,a.jsx)(er,{plan:L,title:"Zero Depreciation Plan (Bumper to Bumper)",badge:"Recommended for your ".concat(h),price:E(L.totalPrice),description:"Covers damage to your ".concat(h," and damage caused by your ").concat(h," to others and their property. Covers full cost of ").concat(h," parts if they are replaced during repairs."),onSelect:()=>B(L),recommended:!0}),T&&(0,a.jsx)(er,{plan:T,title:m?"Comprehensive":"Comprehensive Plans",subtitle:m?void 0:"2 options starting from",badge:m?void 0:"Recommended for your ".concat(h),price:E(T.totalPrice),strikePrice:m?void 0:T.totalPrice+1e3,description:"Covers damage to your ".concat(h," and damage caused by your ").concat(h," to others and their property."),onSelect:()=>B(T)}),!m&&L&&(0,a.jsx)(er,{plan:L,title:"Zero Depreciation Plans",subtitle:"2 options starting from",badge:"Best value",price:E(L.totalPrice),description:"This plan includes fire, theft, accident, and third party liability cover and covers 100% cost of replaced parts during repairs.",onSelect:()=>B(L),recommended:!0}),!m&&P&&(0,a.jsx)(er,{plan:P,title:"Third-party Plan",subtitle:"Minimum coverage required by law",price:"".concat(E(P.totalPrice)," (Same across all insurers)"),description:"It covers damage caused by your ".concat(h," to others and their property, but does not cover any damage caused to your ").concat(h,"."),onSelect:()=>B(P)})]},"plans")}),(0,a.jsxs)("button",{onClick:()=>t("help_choose"),className:"w-full py-3 rounded-xl text-[14px] font-medium transition-all duration-200 active:scale-[0.97] flex items-center justify-center gap-2",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)",color:"var(--motor-text-muted)"},children:[(0,a.jsx)("svg",{className:"w-4 h-4",style:{color:"#A855F7"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z"})}),"I need help choosing"]}),(0,a.jsx)(i.M,{children:j&&f&&(()=>{let e=l.find(e=>e.type===f.type&&"network"===e.garageTier),t=l.find(e=>e.type===f.type&&"all"===e.garageTier),r=((null==t?void 0:t.totalPrice)||0)-((null==e?void 0:e.totalPrice)||0);return(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>w(!1),children:(0,a.jsx)(g.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto rounded-t-3xl sm:rounded-3xl shadow-2xl",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid var(--motor-border-strong)"},children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-[18px] font-bold text-white mb-1",children:"Choose your garage network"}),(0,a.jsxs)("p",{className:"text-[12px] text-white/50 mb-5",children:["Comprehensive plan lets you pick where your ",h," gets repaired"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>F("network"),className:"w-full p-4 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-400/50 rounded-xl text-left transition-all group",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[14px] font-semibold text-white group-hover:text-purple-200 transition-colors",children:"Network Garages"}),(0,a.jsx)("p",{className:"text-[11px] text-white/50",children:"Cashless repairs at 5,400+ ACKO partner garages"})]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0 ml-3",children:[(0,a.jsx)("p",{className:"text-[16px] font-bold text-white",children:E((null==e?void 0:e.totalPrice)||0)}),(0,a.jsx)("p",{className:"text-[10px] text-white/40",children:"+ 18% GST"})]})]}),r>0&&(0,a.jsxs)("span",{className:"text-[10px] bg-green-500/20 text-green-300 px-2 py-0.5 rounded-full border border-green-400/20",children:["Save ₹",r.toLocaleString("en-IN")]})]}),(0,a.jsxs)("button",{onClick:()=>F("all"),className:"w-full p-4 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-400/50 rounded-xl text-left transition-all group",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17l-5.384 3.168 1.03-5.995L2.073 7.533l6.02-.874L11.42 1.5l3.326 5.159 6.02.874-4.993 4.81 1.03 5.995z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[14px] font-semibold text-white group-hover:text-purple-200 transition-colors",children:"All Garages"}),(0,a.jsx)("p",{className:"text-[11px] text-white/50",children:"Get repairs at any garage of your choice"})]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0 ml-3",children:[(0,a.jsx)("p",{className:"text-[16px] font-bold text-white",children:E((null==t?void 0:t.totalPrice)||0)}),(0,a.jsx)("p",{className:"text-[10px] text-white/40",children:"+ 18% GST"})]})]}),(0,a.jsx)("span",{className:"text-[10px] bg-purple-500/20 text-purple-300 px-2 py-0.5 rounded-full border border-purple-400/20",children:"Recommended"})]})]}),(0,a.jsx)("button",{onClick:()=>w(!1),className:"w-full mt-4 py-3 text-[14px] text-white/50 hover:text-white/70 transition-colors",children:"Cancel"})]})})})})()})]})}function et(){return(0,a.jsxs)("div",{className:"rounded-2xl overflow-hidden border border-purple-400/40 bg-white/10 p-4 animate-pulse",style:{boxShadow:"0 4px 24px rgba(168, 85, 247, 0.12), 0 1px 4px rgba(0,0,0,0.2)"},children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-3.5 w-36 bg-white/10 rounded-full"}),(0,a.jsx)("div",{className:"h-2.5 w-20 bg-white/10 rounded-full"})]}),(0,a.jsx)("div",{className:"h-5 w-22 bg-white/10 rounded-full"})]}),(0,a.jsx)("div",{className:"h-6 w-28 bg-white/15 rounded-full mb-3"}),(0,a.jsxs)("div",{className:"space-y-1.5 mb-4",children:[(0,a.jsx)("div",{className:"h-2.5 w-full bg-white/10 rounded-full"}),(0,a.jsx)("div",{className:"h-2.5 w-4/5 bg-white/10 rounded-full"})]}),(0,a.jsx)("div",{className:"space-y-2 mb-4",children:[80,65,72].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-white/10 shrink-0"}),(0,a.jsx)("div",{className:"h-2.5 bg-white/10 rounded-full",style:{width:"".concat(e,"%")}})]},t))}),(0,a.jsx)("div",{className:"h-10 w-full bg-white/10 rounded-xl"})]})}function er(e){let{plan:t,title:r,subtitle:l,badge:o,price:c,strikePrice:d,description:x,onSelect:p,recommended:u}=e,m="bike"===(0,n.x)(e=>e.vehicleType)?"bike":"car",h=(null==t?void 0:t.type)==="comprehensive",[v,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)("covered"),[j,w]=(0,s.useState)(!1),N=t.features.slice(0,3).map(e=>e.split(" — ")[0]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"bg-white/10 border border-purple-400/40 rounded-2xl overflow-hidden transition-all duration-200",style:{boxShadow:"0 4px 24px rgba(168, 85, 247, 0.12), 0 1px 4px rgba(0,0,0,0.2)"},children:[(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[15px] font-semibold text-white",children:r}),l&&(0,a.jsx)("p",{className:"text-[11px] text-white/40 mt-0.5",children:l})]}),o&&(0,a.jsx)("span",{className:"text-[10px] bg-purple-500/30 text-purple-300 px-2 py-0.5 rounded-full border border-purple-400/30 whitespace-nowrap",children:o})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white/40 line-through",children:"₹".concat(d.toLocaleString("en-IN"))}),(0,a.jsx)("p",{className:"text-[18px] font-bold text-white",children:c})]}),(0,a.jsxs)("p",{className:"text-[12px] text-white/50 leading-relaxed mt-1",children:[x," ",(0,a.jsx)("button",{onClick:()=>b(!v),className:"text-purple-300 underline hover:text-purple-200 transition-colors",children:"Learn more"})]})]}),!v&&(0,a.jsx)("div",{className:"space-y-1.5 mb-4",children:N.map((e,t)=>{let r=e.includes("Cashless claims");return(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),r?(0,a.jsx)("button",{onClick:()=>w(!0),className:"text-[12px] text-white/70 hover:text-purple-300 transition-colors text-left underline decoration-white/30 hover:decoration-purple-300",children:e}):(0,a.jsx)("span",{className:"text-[12px] text-white/70",children:e})]},t)})}),!v&&(0,a.jsx)("button",{onClick:p,className:"w-full py-2.5 bg-white/10 border border-white/20 rounded-xl text-[13px] font-semibold text-white hover:bg-white/15 transition-colors",children:h?"Explore plan":"Select this plan"})]}),(0,a.jsx)(i.M,{children:v&&(0,a.jsxs)(g.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex border-b border-white/10",children:[(0,a.jsx)("button",{onClick:()=>y("covered"),className:"flex-1 py-3 text-[12px] font-medium transition-colors ".concat("covered"===f?"text-white border-b-2 border-purple-400":"text-white/40 hover:text-white/60"),children:"Covered"}),(0,a.jsx)("button",{onClick:()=>y("not_covered"),className:"flex-1 py-3 text-[12px] font-medium transition-colors ".concat("not_covered"===f?"text-white border-b-2 border-purple-400":"text-white/40 hover:text-white/60"),children:"Not covered"}),(0,a.jsx)("button",{onClick:()=>y("upgrades"),className:"flex-1 py-3 text-[12px] font-medium transition-colors ".concat("upgrades"===f?"text-white border-b-2 border-purple-400":"text-white/40 hover:text-white/60"),children:"third_party"===t.type?"Upgrades":"Available upgrades"})]}),(0,a.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto scrollbar-hide",children:(0,a.jsxs)(i.M,{mode:"wait",children:["covered"===f&&(0,a.jsx)(g.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"space-y-3",children:t.features.map((e,t)=>{let[r,...s]=e.split(" — "),i=s.join(" — "),l=r.includes("Cashless claims");return(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,a.jsxs)("div",{className:"flex-1",children:[l?(0,a.jsx)("button",{onClick:()=>w(!0),className:"text-[12px] font-medium text-white/90 hover:text-purple-300 transition-colors underline decoration-white/30 hover:decoration-purple-300 text-left",children:r}):(0,a.jsx)("p",{className:"text-[12px] font-medium text-white/90",children:r}),i&&(0,a.jsx)("p",{className:"text-[11px] text-white/50 mt-0.5",children:i})]})]},t)})},"covered"),"not_covered"===f&&(0,a.jsx)(g.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"space-y-3",children:t.notCovered.map((e,t)=>{let[r,...s]=e.split(" — "),i=s.join(" — ");return(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-red-400/60 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-[12px] font-medium text-white/90",children:r}),i&&(0,a.jsx)("p",{className:"text-[11px] text-white/50 mt-0.5",children:i})]})]},t)})},"not_covered"),"upgrades"===f&&(0,a.jsxs)(g.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},children:[(0,a.jsxs)("p",{className:"text-[12px] text-white/50 mb-3",children:["Opt for additional covers in the next steps to enhance your ","third_party"===t.type?"coverage":"".concat(m," protection")]}),(0,a.jsx)("div",{className:"space-y-2",children:t.addOnsAvailable.map((e,t)=>{let r={engine_protection:{name:"Engine Protection",desc:"It covers engine damage caused by oil leaks and water penetration. Standard plans only cover engine damage caused in an accident."},extra_car_protection:{name:"Extra ".concat("bike"===m?"Bike":"Car"," Protection"),desc:"It offers 24x7 roadside assistance, key repair/replacement, and reimbursement for outstation repairs."},consumables_cover:{name:"Consumables Cover",desc:"It pays for the cost of nuts and bolts, brake oil, engine oil etc. used during ".concat(m," repairs. Standard plans don't cover this.")},personal_accident:{name:"Personal Accident Cover",desc:"It's mandatory to add this cover if you don't have it. It provides coverage of up to ₹15 lakh for accidental death or injury of the ".concat(m," owner.")},passenger_protection:{name:"Passenger Protection",desc:"It offers coverage of up to ₹1 lakh per passenger for accidental death or injury"},paid_driver:{name:"Paid Driver Protection",desc:"It covers your driver for up to ₹1 lakh in the event of serious injuries or death in an accident."}}[e];return(0,a.jsx)("div",{className:"py-2.5 px-3 bg-white/5 rounded-lg border border-white/8",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-purple-300 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[12px] font-medium text-white/90",children:(null==r?void 0:r.name)||e}),(0,a.jsx)("p",{className:"text-[11px] text-white/40 mt-0.5",children:(null==r?void 0:r.desc)||""})]})]})},t)})})]},"upgrades")]})}),(0,a.jsxs)("div",{className:"px-4 pb-4 border-t border-white/10 pt-4",children:[(0,a.jsx)("button",{onClick:p,className:"w-full py-3 bg-purple-700 text-white rounded-xl text-[14px] font-semibold hover:bg-purple-600 transition-colors active:scale-[0.97]",children:"Select this plan"}),(0,a.jsx)("button",{onClick:()=>b(!1),className:"w-full py-2 mt-2 text-[12px] text-white/50 hover:text-white/70 transition-colors",children:"Close details"})]})]})})]}),(0,a.jsx)(ea,{visible:j,onClose:()=>w(!1)})]})}function ea(e){let{visible:t,onClose:r}=e,[i,l]=(0,s.useState)(""),[n,o]=(0,s.useState)("all"),c=[{id:1,name:"Elite Auto Service",city:"Mumbai",area:"Andheri West",rating:4.5},{id:2,name:"City Motors Garage",city:"Mumbai",area:"Bandra East",rating:4.7},{id:3,name:"Premium Auto Care",city:"Delhi",area:"Connaught Place",rating:4.6},{id:4,name:"Royal Auto Works",city:"Bangalore",area:"Koramangala",rating:4.8},{id:5,name:"Swift Service Center",city:"Mumbai",area:"Powai",rating:4.4},{id:6,name:"Highway Garage",city:"Delhi",area:"Dwarka",rating:4.3},{id:7,name:"Metro Auto Service",city:"Bangalore",area:"Whitefield",rating:4.6},{id:8,name:"Grand Auto Care",city:"Pune",area:"Hinjewadi",rating:4.5},{id:9,name:"Rapid Repairs",city:"Mumbai",area:"Goregaon",rating:4.2},{id:10,name:"Speed Zone Garage",city:"Delhi",area:"Rohini",rating:4.7},{id:11,name:"Precision Motors",city:"Bangalore",area:"Indiranagar",rating:4.9},{id:12,name:"Central Auto Clinic",city:"Mumbai",area:"Kurla",rating:4.3},{id:13,name:"Pro Auto Solutions",city:"Delhi",area:"Saket",rating:4.6},{id:14,name:"Prime Service Hub",city:"Pune",area:"Viman Nagar",rating:4.4},{id:15,name:"Express Auto Repair",city:"Bangalore",area:"BTM Layout",rating:4.5},{id:16,name:"Star Motors Workshop",city:"Mumbai",area:"Malad",rating:4.8},{id:17,name:"Capital Garage Services",city:"Delhi",area:"Janakpuri",rating:4.2},{id:18,name:"Tech Auto Care",city:"Bangalore",area:"Electronic City",rating:4.7},{id:19,name:"Ace Automobile Center",city:"Pune",area:"Kharadi",rating:4.6},{id:20,name:"Skyline Auto Service",city:"Mumbai",area:"Thane",rating:4.5},{id:21,name:"Max Auto Works",city:"Delhi",area:"Vasant Kunj",rating:4.4},{id:22,name:"Urban Motors",city:"Bangalore",area:"Marathahalli",rating:4.9},{id:23,name:"Crystal Auto Care",city:"Pune",area:"Baner",rating:4.3},{id:24,name:"Victory Garage",city:"Mumbai",area:"Borivali",rating:4.7},{id:25,name:"Elite Service Station",city:"Delhi",area:"Lajpat Nagar",rating:4.5},{id:26,name:"Smart Auto Solutions",city:"Bangalore",area:"Yelahanka",rating:4.6},{id:27,name:"Prestige Auto Clinic",city:"Pune",area:"Wakad",rating:4.8},{id:28,name:"Infinity Motors",city:"Mumbai",area:"Kandivali",rating:4.4},{id:29,name:"Supreme Auto Hub",city:"Delhi",area:"Pitampura",rating:4.2},{id:30,name:"Phoenix Auto Care",city:"Bangalore",area:"Jayanagar",rating:4.7}],d=["all",...Array.from(new Set(c.map(e=>e.city)))],x=c.filter(e=>{let t=e.name.toLowerCase().includes(i.toLowerCase())||e.area.toLowerCase().includes(i.toLowerCase()),r="all"===n||e.city===n;return t&&r});return t?(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:r,children:(0,a.jsxs)(g.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-2xl max-h-[85vh] rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden flex flex-col",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid var(--motor-border-strong)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-[18px] font-bold text-white",children:"Cashless Network Garages"}),(0,a.jsx)("p",{className:"text-[12px] text-white/50 mt-0.5",children:"5,400+ garages across India"})]}),(0,a.jsx)("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"px-5 py-4 space-y-3 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,a.jsx)("input",{type:"text",placeholder:"Search by garage name or area...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white/10 border border-white/20 rounded-xl text-[13px] text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-purple-400/50"})]}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:d.map(e=>(0,a.jsx)("button",{onClick:()=>o(e),className:"px-4 py-1.5 rounded-full text-[12px] font-medium whitespace-nowrap transition-all ".concat(n===e?"bg-purple-500 text-white":"bg-white/10 text-white/70 hover:bg-white/15"),children:"all"===e?"All Cities":e},e))})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-3",children:x.length>0?x.map(e=>(0,a.jsx)(g.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/8 hover:border-white/20 transition-all",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-[14px] font-semibold text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-[12px] text-white/50 mt-1",children:[e.area,", ",e.city]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-3",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,a.jsx)("span",{className:"text-[12px] font-medium text-white",children:e.rating})]})]})},e.id)):(0,a.jsxs)("div",{className:"py-12 text-center",children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-white/20 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,a.jsx)("p",{className:"text-[14px] text-white/50",children:"No garages found"}),(0,a.jsx)("p",{className:"text-[12px] text-white/30 mt-1",children:"Try adjusting your search or filters"})]})}),(0,a.jsx)("div",{className:"px-5 py-3 bg-white/5 border-t border-white/10",children:(0,a.jsxs)("p",{className:"text-[11px] text-white/40 text-center",children:["Showing ",x.length," of 5,400+ partner garages • Coverage across all major cities"]})})]})}):null}function es(e){var t;let r;let{onSelect:s}=e,{availablePlans:i,recommendedPlanType:l,vehicleEntryType:o}=(0,n.x)(),c=l||"comprehensive",d="zero_dep"===c?"Zero Depreciation":"comprehensive"===c?"Comprehensive":"Third-party",x=i.find(e=>e.type===c)||i[0];return(0,a.jsx)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm space-y-3",children:(0,a.jsxs)("div",{className:"rounded-2xl overflow-hidden",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[(0,a.jsxs)("div",{className:"px-4 py-3",style:{background:"var(--motor-plan-rec-header-bg)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",style:{color:"var(--motor-plan-rec-badge)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),(0,a.jsx)("span",{className:"text-[12px] font-semibold",style:{color:"var(--motor-plan-rec-badge)"},children:"Recommended for you"})]}),(0,a.jsxs)("h3",{className:"text-[18px] font-bold",style:{color:"var(--motor-text)"},children:[d," Plan"]}),x&&(0,a.jsxs)("p",{className:"text-[22px] font-bold mt-1",style:{color:"var(--motor-text)"},children:[(r=x.totalPrice,"₹".concat(r.toLocaleString("en-IN"))),(0,a.jsx)("span",{className:"text-[12px] font-normal ml-1",style:{color:"var(--motor-text-muted)"},children:"/ year"})]})]}),(0,a.jsx)("div",{className:"px-4 py-3 space-y-2",children:null==x?void 0:null===(t=x.features)||void 0===t?void 0:t.slice(0,4).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:"var(--motor-plan-rec-check)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,a.jsx)("span",{className:"text-[13px]",style:{color:"var(--motor-text)"},children:e.label||e})]},t))}),(0,a.jsxs)("div",{className:"px-4 pb-4 space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>{(null==x?void 0:x.type)==="comprehensive"?s({planType:x.type,garageTier:"network",plan:x}):s({planType:(null==x?void 0:x.type)||c,garageTier:null,plan:x})},className:"w-full py-3 rounded-xl text-[14px] font-semibold text-white transition-all active:scale-[0.97]",style:{background:"linear-gradient(135deg, #7C3AED, #A855F7)"},children:["Select ",d," Plan"]}),(0,a.jsx)("button",{onClick:()=>s("back_to_plans"),className:"w-full py-2.5 rounded-xl text-[13px] font-medium transition-all",style:{color:"var(--motor-text-muted)"},children:"View all plans instead"})]})]})})}function ei(e){var t;let{onContinue:r}=e,{updateState:l,selectedAddOns:o=[],selectedPlan:c}=(0,n.x)(),[d,x]=(0,s.useState)(new Map),[p,u]=(0,s.useState)({addon:null,show:!1}),m=(0,y.Wl)().filter(e=>"out_of_pocket"===e.category),h=e=>d.has(e),v=e=>{if(e.hasVariants)u({addon:e,show:!0});else{let t=new Map(d);t.has(e.id)?t.delete(e.id):t.set(e.id,{id:e.id,price:e.price}),x(t)}},b=(e,t)=>{let r=new Map(d);r.set(e.id,{id:e.id,variantId:t.id,price:t.price}),x(r),u({addon:null,show:!1})},f=e=>{let t=new Map(d);t.delete(e),x(t)},j=(()=>{let e=(null==c?void 0:c.totalPrice)||0,t=Array.from(d.values()).reduce((e,t)=>e+t.price,0),r=Math.round(.18*t);return{basePremium:e,addonTotal:t,gst:r,total:e+t+r}})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-[16px] font-bold text-white mb-1",children:"Cut down your out-of-pocket expenses"}),(0,a.jsx)("p",{className:"text-[12px] text-white/50",children:"Recommended for you"})]}),m.map((e,t)=>{var r,s;let i=h(e.id),l=d.get(e.id),n=(null==l?void 0:l.price)||e.price,o=(null==l?void 0:l.variantId)?null===(s=e.variants)||void 0===s?void 0:null===(r=s.find(e=>e.id===l.variantId))||void 0===r?void 0:r.name:null;return(0,a.jsx)(g.E.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0,scale:i?1.02:1},transition:{opacity:{delay:.05*t,duration:.3},y:{delay:.05*t,type:"spring",stiffness:300,damping:24},scale:{type:"spring",stiffness:400,damping:30}},className:"p-4 rounded-xl border ".concat(i?"bg-white/10 border-purple-400/50":"bg-white/5 border-white/10 hover:border-white/20"),style:{transition:"background 0.25s ease, border-color 0.25s ease"},children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"text-[14px] font-semibold text-white",children:e.name}),e.hasVariants&&(0,a.jsx)("span",{className:"text-[10px] text-purple-300 bg-purple-500/20 px-2 py-0.5 rounded-full",children:"2 options"}),e.recommended&&(0,a.jsx)("span",{className:"text-[10px] text-green-300 bg-green-500/20 px-2 py-0.5 rounded-full",children:"Recommended"}),i&&(0,a.jsxs)(g.E.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:25},className:"text-[10px] text-green-300 bg-green-500/25 px-2 py-0.5 rounded-full flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Added"]})]}),(0,a.jsx)("p",{className:"text-[12px] text-white/60 leading-relaxed",children:e.description}),i&&o&&(0,a.jsxs)("p",{className:"text-[11px] text-purple-300 mt-1",children:["Selected: ",o]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2 ml-4",children:[(0,a.jsxs)("p",{className:"text-[14px] font-bold text-white whitespace-nowrap",children:["₹",n]}),(0,a.jsx)(g.E.button,{onClick:()=>i?f(e.id):v(e),whileTap:{scale:.92},className:"w-8 h-8 rounded-lg flex items-center justify-center transition-colors ".concat(i?"bg-purple-500 text-white hover:bg-purple-600":"bg-white/10 text-white/70 hover:bg-white/20 border border-white/20"),children:i?(0,a.jsx)(g.E.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},"check"):(0,a.jsx)("span",{children:"+"})})]})]})},e.id)}),(0,a.jsx)(g.E.div,{initial:{scale:.98,opacity:.9},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:30},className:"mt-6 p-4 bg-white/5 rounded-xl border border-white/10",children:(0,a.jsxs)("div",{className:"space-y-2 text-[13px]",children:[(0,a.jsxs)("div",{className:"flex justify-between text-white/70",children:[(0,a.jsx)("span",{children:"Base Premium"}),(0,a.jsxs)("span",{children:["₹",j.basePremium.toLocaleString()]})]}),j.addonTotal>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between text-white/70",children:[(0,a.jsx)("span",{children:"Add-ons"}),(0,a.jsxs)("span",{children:["₹",j.addonTotal.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-white/70",children:[(0,a.jsx)("span",{children:"GST (18%)"}),(0,a.jsxs)("span",{children:["₹",j.gst.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-2 flex justify-between font-bold text-white text-[15px]",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",j.total.toLocaleString()]})]})]})},"total-".concat(j.addonTotal)),(0,a.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,a.jsx)("button",{onClick:()=>{l({selectedAddOns:[]}),r([])},className:"flex-1 py-3 px-4 bg-white/10 border border-white/20 rounded-xl text-[14px] font-semibold text-white hover:bg-white/15 transition-colors",children:"Continue without add-ons"}),(0,a.jsx)("button",{onClick:()=>{let e=Array.from(d.values());l({selectedAddOns:e}),r(e)},className:"flex-1 py-3 px-4 bg-purple-700 text-white rounded-xl text-[14px] font-semibold hover:bg-purple-600 transition-colors active:scale-[0.98]",children:"Continue"})]}),(0,a.jsx)("p",{className:"text-[11px] text-white/40 text-center mt-2",children:"Next: Additional covers to reduce medical expenses"})]}),(0,a.jsx)(i.M,{children:p.show&&p.addon&&(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>u({addon:null,show:!1}),children:(0,a.jsx)(g.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto rounded-t-3xl sm:rounded-3xl shadow-2xl",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid var(--motor-border-strong)"},children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,a.jsxs)("h3",{className:"text-[18px] font-bold text-white mb-1",children:["Select ",p.addon.name," variant"]}),(0,a.jsx)("p",{className:"text-[12px] text-white/50 mb-5",children:p.addon.description}),(0,a.jsx)("div",{className:"space-y-3",children:null===(t=p.addon.variants)||void 0===t?void 0:t.map(e=>{var t;return(0,a.jsxs)("button",{onClick:()=>b(p.addon,e),className:"w-full p-4 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-400/50 rounded-xl text-left transition-all group",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[15px] font-semibold text-white",children:e.name}),e.recommended&&(0,a.jsx)("span",{className:"text-[10px] text-purple-300 bg-purple-500/30 px-2 py-0.5 rounded-full",children:"Recommended"}),e.badge&&(0,a.jsx)("span",{className:"text-[10px] text-green-300 bg-green-500/30 px-2 py-0.5 rounded-full",children:e.badge})]}),(0,a.jsxs)("span",{className:"text-[16px] font-bold text-white",children:["₹",e.price]})]}),(0,a.jsx)("ul",{className:"space-y-1",children:null===(t=e.features)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("li",{className:"text-[11px] text-white/60 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-400 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:e})]},t))})]},e.id)})}),(0,a.jsx)("button",{onClick:()=>u({addon:null,show:!1}),className:"w-full mt-4 py-3 text-[14px] text-white/50 hover:text-white/70 transition-colors",children:"Cancel"})]})})})})]})}function el(e){var t;let{onContinue:r}=e,{updateState:l,selectedAddOns:o=[],selectedPlan:c,vehicleType:d}=(0,n.x)(),[x,p]=(0,s.useState)(new Map),[u,m]=(0,s.useState)({addon:null,show:!1}),h=(0,y.Wl)().filter(e=>"protect_everyone"===e.category),v=e=>x.has(e),b=e=>{if(e.hasVariants)m({addon:e,show:!0});else{let t=new Map(x);t.has(e.id)?t.delete(e.id):t.set(e.id,{id:e.id,price:e.price}),p(t)}},f=(e,t)=>{let r=new Map(x);r.set(e.id,{id:e.id,variantId:t.id,price:t.price}),p(r),m({addon:null,show:!1})},j=e=>{let t=new Map(x);t.delete(e),p(t)},w=(()=>{let e=(null==c?void 0:c.totalPrice)||0,t=o.reduce((e,t)=>e+(t.price||0),0),r=Array.from(x.values()).reduce((e,t)=>e+t.price,0),a=t+r,s=Math.round(.18*a);return{basePremium:e,previousAddons:t,addonTotal:r,totalAddons:a,gst:s,total:e+a+s}})(),N=(e,t)=>{var r,s;let i=v(e.id),l=x.get(e.id),n=(null==l?void 0:l.price)||e.price,o=(null==l?void 0:l.variantId)?null===(s=e.variants)||void 0===s?void 0:null===(r=s.find(e=>e.id===l.variantId))||void 0===r?void 0:r.name:null;return(0,a.jsx)(g.E.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0,scale:i?1.02:1},transition:{opacity:{delay:.05*t,duration:.3},y:{delay:.05*t,type:"spring",stiffness:300,damping:24},scale:{type:"spring",stiffness:400,damping:30}},className:"p-4 rounded-xl border ".concat(i?"bg-white/10 border-purple-400/50":"bg-white/5 border-white/10 hover:border-white/20"),style:{transition:"background 0.25s ease, border-color 0.25s ease"},children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"text-[14px] font-semibold text-white",children:e.name}),e.hasVariants&&(0,a.jsx)("span",{className:"text-[10px] text-purple-300 bg-purple-500/20 px-2 py-0.5 rounded-full",children:"2 options"}),e.mandatory&&(0,a.jsx)("span",{className:"text-[10px] text-orange-300 bg-orange-500/20 px-2 py-0.5 rounded-full",children:"Mandatory by law"}),i&&(0,a.jsxs)(g.E.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:25},className:"text-[10px] text-green-300 bg-green-500/25 px-2 py-0.5 rounded-full flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Added"]})]}),(0,a.jsx)("p",{className:"text-[12px] text-white/60 leading-relaxed",children:e.description}),i&&o&&(0,a.jsxs)("p",{className:"text-[11px] text-purple-300 mt-1",children:["Selected: ",o]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2 ml-4",children:[(0,a.jsxs)("p",{className:"text-[14px] font-bold text-white whitespace-nowrap",children:[e.hasVariants?"from ":"","₹",n]}),(0,a.jsx)(g.E.button,{onClick:()=>i?j(e.id):b(e),whileTap:{scale:.92},className:"w-8 h-8 rounded-lg flex items-center justify-center transition-colors ".concat(i?"bg-purple-500 text-white hover:bg-purple-600":"bg-white/10 text-white/70 hover:bg-white/20 border border-white/20"),children:i?(0,a.jsx)(g.E.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},"check"):(0,a.jsx)("span",{children:"+"})})]})]})},e.id)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("h3",{className:"text-[16px] font-bold text-white mb-1",children:["Protect everyone in your ","bike"===d?"bike":"car"]})}),(0,a.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,a.jsx)("p",{className:"text-[13px] font-semibold text-white/70 mb-3",children:"For you"}),h.filter(e=>"personal_accident"===e.id).map((e,t)=>N(e,t))]}),(0,a.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,a.jsx)("p",{className:"text-[13px] font-semibold text-white/70 mb-3",children:"For your loved ones"}),h.filter(e=>"passenger_protection"===e.id).map((e,t)=>N(e,t))]}),(0,a.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,a.jsx)("p",{className:"text-[13px] font-semibold text-white/70 mb-3",children:"For your driver"}),h.filter(e=>"paid_driver"===e.id).map((e,t)=>N(e,t))]}),(0,a.jsx)(g.E.div,{initial:{scale:.98,opacity:.9},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:30},className:"mt-6 p-4 bg-white/5 rounded-xl border border-white/10",children:(0,a.jsxs)("div",{className:"space-y-2 text-[13px]",children:[(0,a.jsxs)("div",{className:"flex justify-between text-white/70",children:[(0,a.jsx)("span",{children:"Base Premium"}),(0,a.jsxs)("span",{children:["₹",w.basePremium.toLocaleString()]})]}),w.totalAddons>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between text-white/70",children:[(0,a.jsx)("span",{children:"Add-ons"}),(0,a.jsxs)("span",{children:["₹",w.totalAddons.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-white/70",children:[(0,a.jsx)("span",{children:"GST (18%)"}),(0,a.jsxs)("span",{children:["₹",w.gst.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-2 flex justify-between font-bold text-white text-[15px]",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",w.total.toLocaleString()]})]})]})},"total-".concat(w.totalAddons)),(0,a.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,a.jsx)("button",{onClick:()=>{r(o)},className:"flex-1 py-3 px-4 bg-white/10 border border-white/20 rounded-xl text-[14px] font-semibold text-white hover:bg-white/15 transition-colors",children:"Continue without add-ons"}),(0,a.jsx)("button",{onClick:()=>{let e=[...o,...Array.from(x.values())];l({selectedAddOns:e}),r(e)},className:"flex-1 py-3 px-4 bg-purple-700 text-white rounded-xl text-[14px] font-semibold hover:bg-purple-600 transition-colors active:scale-[0.98]",children:"Continue"})]})]}),(0,a.jsx)(i.M,{children:u.show&&u.addon&&(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>m({addon:null,show:!1}),children:(0,a.jsx)(g.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto rounded-t-3xl sm:rounded-3xl shadow-2xl",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid var(--motor-border-strong)"},children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-[18px] font-bold text-white mb-1",children:"Select Personal Accident coverage amount"}),(0,a.jsx)("p",{className:"text-[12px] text-white/50 mb-5",children:"Accidents can result in death or permanent disability. A Personal Accident Cover protects the owner-driver in such situations."}),(0,a.jsx)("div",{className:"space-y-3",children:null===(t=u.addon.variants)||void 0===t?void 0:t.map(e=>{var t;return(0,a.jsxs)("button",{onClick:()=>f(u.addon,e),className:"w-full p-4 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-400/50 rounded-xl text-left transition-all group",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[15px] font-semibold text-white",children:e.name}),e.recommended&&(0,a.jsx)("span",{className:"text-[10px] text-purple-300 bg-purple-500/30 px-2 py-0.5 rounded-full",children:"Recommended"}),e.badge&&(0,a.jsx)("span",{className:"text-[10px] text-green-300 bg-green-500/30 px-2 py-0.5 rounded-full",children:e.badge})]}),(0,a.jsxs)("span",{className:"text-[16px] font-bold text-white",children:["₹",e.price]})]}),(0,a.jsx)("ul",{className:"space-y-1",children:null===(t=e.features)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("li",{className:"text-[11px] text-white/60 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-400 mt-0.5",children:"•"}),(0,a.jsx)("span",{children:e})]},t))})]},e.id)})}),(0,a.jsx)("button",{onClick:()=>m({addon:null,show:!1}),className:"w-full mt-4 py-3 text-[14px] text-white/50 hover:text-white/70 transition-colors",children:"Cancel"})]})})})})]})}let en=[{id:"camera",label:"Click photos with camera",iconFile:"doc-camera.svg",accept:"image/*",capture:"environment"},{id:"gallery",label:"Upload both sides from gallery",iconFile:"doc-gallery.svg",accept:"image/*"},{id:"pdf",label:"Upload PDF / Zip file",iconFile:"doc-pdf.svg",accept:"application/pdf,application/zip,.pdf,.zip"},{id:"digilocker",label:"Fetch from Digilocker",iconFile:"doc-digilocker.svg",accept:""}];function eo(e){var t;let{onContinue:r}=e,l=(0,n.x)(),o=!!(l.registrationNumber&&(null===(t=l.vehicleData)||void 0===t?void 0:t.make)),[c,d]=(0,s.useState)(o),[p,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[v,b]=(0,s.useState)(null),[f,y]=(0,s.useState)(null),j=(0,s.useRef)(null),w=(0,s.useRef)(null),N=(0,s.useRef)(null),k=l.ownerName||"You",C=l.registrationNumber||"your vehicle",S=l.chassisNumber||"XXXXXXXXXXXX",_=(e,t)=>{if(b(null),"digilocker"===t){y(e),setTimeout(()=>{"rc"===e&&d(!0),"dl"===e&&u(!0),"prev"===e&&h(!0),y(null)},1200);return}M.current=e,setTimeout(()=>{var e,r,a;"camera"===t?null===(e=j.current)||void 0===e||e.click():"gallery"===t?null===(r=w.current)||void 0===r||r.click():"pdf"===t&&(null===(a=N.current)||void 0===a||a.click())},100)},M=(0,s.useRef)(null),P=e=>{var t;if(!(null===(t=e.target.files)||void 0===t?void 0:t.length)){M.current=null;return}let r=M.current;M.current=null,r&&(y(r),e.target.value="",setTimeout(()=>{"rc"===r&&d(!0),"dl"===r&&u(!0),"prev"===r&&h(!0),y(null)},900))},T=e=>{_(M.current,e)},L=e=>{M.current=e,b(e)},E=c&&p;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{ref:j,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:P}),(0,a.jsx)("input",{ref:w,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:P}),(0,a.jsx)("input",{ref:N,type:"file",accept:"application/pdf,application/zip,.pdf,.zip",className:"hidden",onChange:P}),(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3 w-full max-w-sm",children:[(0,a.jsx)("p",{className:"text-[13px] font-semibold text-white/50 uppercase tracking-wide px-1 mb-1",children:"Upload important documents"}),(0,a.jsx)("div",{className:"rounded-2xl border transition-all overflow-hidden ".concat(c?"border-green-500/40 bg-green-500/5":"border-white/10 bg-white/5"),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(c?"bg-green-500/20":"bg-white/10"),children:(0,a.jsx)("svg",{className:"w-5 h-5 ".concat(c?"text-green-400":"text-white/60"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white",children:"Registration Certificate (RC)"}),o&&c&&!f&&(0,a.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Auto-fetched ✓"}),!o&&c&&(0,a.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Uploaded ✓"})]}),(0,a.jsx)("p",{className:"text-[12px] text-white/50",children:o?"Fetched from Vahan portal":"Upload RC for ".concat(C)})]})]}),o&&c&&(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl px-3 py-2.5 mb-3 space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-[12px]",children:[(0,a.jsx)("span",{className:"text-white/50",children:"Registration holder"}),(0,a.jsx)("span",{className:"text-white font-medium",children:k})]}),(0,a.jsxs)("div",{className:"flex justify-between text-[12px]",children:[(0,a.jsx)("span",{className:"text-white/50",children:"Vehicle number"}),(0,a.jsx)("span",{className:"text-white font-medium",children:C})]}),(0,a.jsxs)("div",{className:"flex justify-between text-[12px]",children:[(0,a.jsx)("span",{className:"text-white/50",children:"Chassis no."}),(0,a.jsx)("span",{className:"text-white font-medium",children:S})]})]}),"rc"===f?(0,a.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-[13px] text-white/60",children:"Uploading..."})]}):(0,a.jsx)("button",{onClick:()=>L("rc"),className:"text-[13px] text-purple-400 hover:text-purple-300 font-medium transition-colors",children:c?"Re-upload ↗":"Upload file ↑"})]})}),(0,a.jsx)("div",{className:"rounded-2xl border transition-all overflow-hidden ".concat(p?"border-green-500/40 bg-green-500/5":"border-white/10 bg-white/5"),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(p?"bg-green-500/20":"bg-white/10"),children:(0,a.jsx)("svg",{className:"w-5 h-5 ".concat(p?"text-green-400":"text-white/60"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white",children:"Driving Licence (DL)"}),p&&(0,a.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Uploaded ✓"})]}),(0,a.jsxs)("p",{className:"text-[12px] text-white/50",children:["Upload DL for ",k]})]})]}),"dl"===f?(0,a.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-[13px] text-white/60",children:"Uploading..."})]}):(0,a.jsx)("button",{onClick:()=>L("dl"),className:"text-[13px] text-purple-400 hover:text-purple-300 font-medium transition-colors",children:p?"Re-upload ↗":"Upload file ↑"})]})}),(0,a.jsx)("div",{className:"rounded-2xl border transition-all overflow-hidden ".concat(m?"border-green-500/40 bg-green-500/5":"border-white/10 bg-white/5"),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(m?"bg-green-500/20":"bg-white/10"),children:(0,a.jsx)("svg",{className:"w-5 h-5 ".concat(m?"text-green-400":"text-white/60"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white",children:"Previous Year's Policy"}),m&&(0,a.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Uploaded ✓"}),(0,a.jsx)("span",{className:"text-[10px] text-white/40 bg-white/5 px-2 py-0.5 rounded-full",children:"Optional"})]}),(0,a.jsx)("p",{className:"text-[12px] text-white/50",children:"Helps speed up claim processing"})]})]}),"prev"===f?(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-[13px] text-white/60",children:"Uploading..."})]}):(0,a.jsx)("button",{onClick:()=>L("prev"),className:"mt-3 text-[13px] text-purple-400 hover:text-purple-300 font-medium transition-colors",children:m?"Replace ↗":"+ Add more"})]})}),(0,a.jsxs)("p",{className:"text-[12px] text-center text-white/40 py-1",children:["Incorrect details?"," ",(0,a.jsx)("button",{className:"text-purple-400 underline underline-offset-2",children:"Update here"})]}),(0,a.jsx)("button",{onClick:()=>E&&r({rcUploaded:c,dlUploaded:p,prevPolicyUploaded:m}),disabled:!E,className:"w-full py-4 rounded-xl text-[15px] font-bold transition-all ".concat(E?"bg-purple-700 text-white hover:bg-purple-600 active:scale-[0.97]":"bg-white/10 text-white/30 cursor-not-allowed"),children:E?"Proceed →":"Upload ".concat(c?"DL":"RC"," to continue")}),(0,a.jsx)("button",{className:"w-full py-2 text-[13px] text-white/30 hover:text-white/50 transition-colors",children:"Save and continue later"})]}),(0,a.jsx)(i.M,{children:v&&(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>b(null),children:(0,a.jsx)(g.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto rounded-t-3xl sm:rounded-3xl shadow-2xl",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid var(--motor-border-strong)"},children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-[16px] font-semibold text-white mb-1",children:"Select a source"}),(0,a.jsx)("p",{className:"text-[12px] text-white/50 mb-5",children:"in PNG, JPEG, or PDF format (Max 10 MB)"}),(0,a.jsx)("div",{className:"space-y-2",children:en.map(e=>(0,a.jsxs)("button",{onClick:()=>T(e.id),className:"w-full flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-400/50 rounded-xl transition-all text-left",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/8 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("img",{src:(0,x.u)("/icons/".concat(e.iconFile)),alt:e.label,width:22,height:22,style:{filter:"brightness(0) invert(1)",opacity:.85}})}),(0,a.jsx)("span",{className:"text-[14px] font-medium text-white",children:e.label}),(0,a.jsx)("svg",{className:"w-4 h-4 text-white/30 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]},e.id))}),(0,a.jsx)("button",{onClick:()=>b(null),className:"w-full mt-4 py-3 text-[14px] text-white/50 hover:text-white/70 transition-colors",children:"Cancel"})]})})})})]})}let ec="Rajesh Nair";function ed(e){let{onContinue:t}=e;return(0,s.useEffect)(()=>{let e=setTimeout(()=>t(),2500);return()=>clearTimeout(e)},[t]),(0,a.jsx)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"w-full max-w-sm",children:(0,a.jsxs)("div",{className:"rounded-2xl p-4",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#7C47E1] to-[#A855F7] flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:ec.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-[14px] font-bold",style:{color:"var(--motor-text)"},children:ec}),(0,a.jsxs)("p",{className:"text-[12px]",style:{color:"var(--motor-text-muted)"},children:["Assigned Surveyor \xb7 ","SRV-4821"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[(0,a.jsx)("span",{className:"text-yellow-400 text-[11px]",children:"★"}),(0,a.jsx)("span",{className:"text-[11px] font-semibold",style:{color:"var(--motor-text)"},children:4.8}),(0,a.jsx)("span",{className:"text-[11px]",style:{color:"var(--motor-text-muted)"},children:"\xb7 200+ inspections"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400 ml-auto mb-1 animate-pulse"}),(0,a.jsx)("p",{className:"text-[10px] text-green-400 font-semibold uppercase tracking-wide",children:"On duty"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"rounded-xl p-3",style:{background:"var(--motor-surface-2, var(--motor-surface))"},children:[(0,a.jsx)("p",{className:"text-[11px] mb-0.5",style:{color:"var(--motor-text-muted)"},children:"Expected visit"}),(0,a.jsx)("p",{className:"text-[13px] font-bold",style:{color:"var(--motor-text)"},children:"~90 mins"})]}),(0,a.jsxs)("div",{className:"rounded-xl p-3",style:{background:"var(--motor-surface-2, var(--motor-surface))"},children:[(0,a.jsx)("p",{className:"text-[11px] mb-0.5",style:{color:"var(--motor-text-muted)"},children:"Contact"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("p",{className:"text-[13px] font-bold",style:{color:"var(--motor-text)"},children:"98XX XXXX 34"}),(0,a.jsx)("svg",{className:"w-3.5 h-3.5 text-[#A855F7] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})})]})]})]}),(0,a.jsx)("div",{className:"mt-3 p-3 rounded-xl bg-[#A855F7]/10 border border-[#A855F7]/20",children:(0,a.jsx)("p",{className:"text-[12px] text-[#C084FC] leading-relaxed",children:"You will get an SMS once the surveyor is on the way. Please keep the vehicle accessible."})})]})})}function ex(e){let{onContinue:t}=e,{selectedPlan:r,selectedAddOns:s=[],vehicleData:i}=(0,n.x)(),l=(null==r?void 0:r.basePrice)||0,o=(null==r?void 0:r.gst)||0,c=s||[],d=c.reduce((e,t)=>e+(t.price||0),0),x=Math.round(.18*d);return(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h3",{className:"text-[18px] font-bold text-white mb-2",children:"Your Final Premium"}),(0,a.jsxs)("p",{className:"text-[13px] text-white/50",children:["Complete breakdown of your ",(null==r?void 0:r.name)||"insurance plan"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-400/30 rounded-2xl p-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 pb-4 mb-4 border-b border-white/10",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125v-9M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-[14px] font-semibold text-white",children:[i.make," ",i.model]}),(0,a.jsxs)("p",{className:"text-[12px] text-white/50",children:[i.variant," • ",i.registrationYear]})]})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white",children:null==r?void 0:r.name}),(0,a.jsx)("p",{className:"text-[11px] text-white/50 mt-0.5",children:null==r?void 0:r.description})]}),(0,a.jsxs)("p",{className:"text-[14px] font-bold text-white ml-4",children:["₹",l.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-[12px] text-white/60",children:[(0,a.jsx)("span",{children:"GST (18%)"}),(0,a.jsxs)("span",{children:["₹",o.toLocaleString()]})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"border-t border-white/10 pt-4 mb-4",children:[(0,a.jsxs)("p",{className:"text-[13px] font-semibold text-white/70 mb-3",children:["Selected Add-ons (",c.length,")"]}),c.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-[12px] text-white/70 mb-2",children:[(0,a.jsx)("span",{children:e.id.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,a.jsxs)("span",{children:["₹",e.price.toLocaleString()]})]},t)),(0,a.jsxs)("div",{className:"flex justify-between text-[12px] text-white/60 mt-2",children:[(0,a.jsx)("span",{children:"GST on add-ons (18%)"}),(0,a.jsxs)("span",{children:["₹",x.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"border-t-2 border-purple-400/30 pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[15px] font-bold text-white",children:"Total Premium"}),(0,a.jsxs)("span",{className:"text-[24px] font-bold text-white",children:["₹",(l+o+d+x).toLocaleString()]})]}),(0,a.jsx)("p",{className:"text-[11px] text-white/40 mt-1",children:"For 1 year policy term"})]})]}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,a.jsx)("p",{className:"text-[12px] font-semibold text-white/70 mb-3",children:"What's included:"}),(0,a.jsx)("div",{className:"space-y-2",children:null==r?void 0:r.features.slice(0,4).map((e,t)=>{let[r]=e.split(" — ");return(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,a.jsx)("span",{className:"text-[11px] text-white/70",children:r})]},t)})})]}),(0,a.jsx)("button",{onClick:t,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-[15px] font-bold text-white hover:opacity-90 transition-opacity active:scale-[0.98] shadow-lg shadow-purple-500/30",children:"Proceed to Payment"})]})}function ep(e){let{onSelect:t}=e;return(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>t("dashboard"),className:"w-full p-4 bg-white/10 hover:bg-white/15 border border-white/20 hover:border-purple-400/50 rounded-xl text-left transition-all group",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white mb-0.5",children:"Go to Dashboard"}),(0,a.jsx)("p",{className:"text-[11px] text-white/50",children:"View policy details & manage claims"})]}),(0,a.jsx)("svg",{className:"w-5 h-5 text-white/40 group-hover:text-white/70 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})}),(0,a.jsx)("button",{onClick:()=>t("download"),className:"w-full p-4 bg-white/10 hover:bg-white/15 border border-white/20 hover:border-purple-400/50 rounded-xl text-left transition-all group",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-[14px] font-semibold text-white mb-0.5",children:"Download Policy"}),(0,a.jsx)("p",{className:"text-[11px] text-white/50",children:"Get your policy document as PDF"})]}),(0,a.jsx)("svg",{className:"w-5 h-5 text-white/40 group-hover:text-white/70 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})})]})}var eu=r(7684);function em(e){let{onContinue:t}=e,[r,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{if(t){let e=setTimeout(()=>{t()},3500);return()=>clearTimeout(e)}},[t]),(0,a.jsxs)(g.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative py-8",children:[r&&(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:30}).map((e,t)=>(0,a.jsx)(g.E.div,{initial:{y:-20,x:300*Math.random(),opacity:1},animate:{y:600,opacity:0,rotate:720*Math.random()},transition:{duration:2+2*Math.random(),delay:.5*Math.random(),ease:"linear"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#A78BFA","#F472B6"][Math.floor(5*Math.random())]}},t))}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(g.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:200,delay:.2},className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-xl shadow-green-500/30",children:(0,a.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,a.jsx)(g.E.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-[22px] font-bold text-white mb-3",children:"Payment Successful! \uD83C\uDF89"}),(0,a.jsxs)(g.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-[14px] text-white/70 mb-6 leading-relaxed",children:["Your motor insurance is now active.",(0,a.jsx)("br",{}),"Welcome to ACKO!"]}),(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,a.jsx)("p",{className:"text-[12px] text-white/50 mb-2",children:"Policy Number"}),(0,a.jsxs)("p",{className:"text-[16px] font-bold text-white",children:["ACKO/MOT/",Math.floor(9e6*Math.random()+1e6)]})]})]})]})}function eh(){let{currentStepId:e,conversationHistory:t,isTyping:r,addMessage:l,updateState:o,trimAndUpdateFromStep:d}=(0,n.x)(),x=(0,s.useRef)(null),p=(0,s.useRef)(new Set),[u,m]=(0,s.useState)(!1),[h,v]=(0,s.useState)({stepId:"",visible:!1}),[y,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{var t;if(!c.__.has(e))return;let r=n.x.getState();(0,c.hx)({product:null!==(t=r.vehicleType)&&void 0!==t?t:"car",currentStepId:e,savedAt:new Date().toISOString(),vehicleType:r.vehicleType,vehicleData:{make:r.vehicleData.make,model:r.vehicleData.model,variant:r.vehicleData.variant,fuelType:r.vehicleData.fuelType,registrationYear:r.vehicleData.registrationYear},registrationNumber:r.registrationNumber,totalPremium:r.totalPremium,selectedPlanType:r.selectedPlanType,ownerName:r.ownerName,paymentComplete:r.paymentComplete})},[e]),(0,s.useEffect)(()=>{setTimeout(()=>{var e;null===(e=x.current)||void 0===e||e.scrollTo({top:x.current.scrollHeight,behavior:"smooth"})},100)},[t,r,u]),(0,s.useEffect)(()=>{let t=(0,b.p)(e);if(!t)return;let r=n.x.getState();if(t.condition&&!t.condition(r)){let e=t.getNextStep(null,r),a=(0,b.p)(e);o({currentStepId:e,currentModule:(null==a?void 0:a.module)||r.currentModule});return}let a="".concat(e,"-").concat(r.conversationHistory.length);if(p.current.has(a))return;p.current.add(a);let s=t.getScript(r);(async()=>{m(!1),o({isTyping:!0});let r=s.botMessages.join("\n\n"),a=600+Math.min(12*r.length,2e3);if(await new Promise(e=>setTimeout(e,a)),l({type:"bot",content:r,stepId:e,module:t.module}),o({isTyping:!1}),"none"===t.widgetType){await new Promise(e=>setTimeout(e,400));let r=n.x.getState(),a=t.getNextStep(null,r);if(a===e)return;let s=(0,b.p)(a);o({currentStepId:a,currentModule:(null==s?void 0:s.module)||r.currentModule});return}m(!0)})()},[e]);let w=e=>{v({stepId:e,visible:!0})},S=(0,s.useCallback)(e=>{if(!y)return;let t=(0,b.p)(y);if(!t)return;let r=n.x.getState(),a=t.getScript(r),s=String(e);if(a.options){let t=a.options.find(t=>t.id===e);t&&(s=t.label)}if("plan_selector"===t.widgetType){var i;s="Selected: ".concat((null===(i=e.plan)||void 0===i?void 0:i.name)||"plan")}d(y,s);let l=t.processResponse(e,r),c={...r,...l};o(l),j(null),m(!1),p.current.clear();let x=t.getNextStep(e,c),u=(0,b.p)(x);setTimeout(()=>{o({currentStepId:x,currentModule:(null==u?void 0:u.module)||c.currentModule})},300)},[y,d]),M=(0,s.useCallback)(t=>{var r,a,s,i;let c=(0,b.p)(e);if(!c)return;let d=n.x.getState(),x=c.getScript(d),p=String(t);if(x.options){let e=x.options.find(e=>e.id===t);e&&(p=e.label)}if("progressive_loader"===c.widgetType)p="success"===t?"Vehicle found!":"Details not found";else if("vehicle_details_card"===c.widgetType)p="Confirmed vehicle details";else if("ncb_reward"===c.widgetType)p="NCB reward applied!";else if("editable_summary"===c.widgetType)p="Confirmed — view prices";else if("plan_calculator"===c.widgetType)p="";else if("plan_selector"===c.widgetType){if("help_choose"===t)p="Help me choose a plan";else{let e=(null===(r=t.plan)||void 0===r?void 0:r.name)||"plan";p="Selected: ".concat(e)}}else if("plan_recommendation"===c.widgetType){if("back_to_plans"===t)p="View all plans";else{let e=(null===(a=t.plan)||void 0===a?void 0:a.name)||"plan";p="Selected: ".concat(e)}}else if("out_of_pocket_addons"===c.widgetType){let e=(null===(s=t.addons)||void 0===s?void 0:s.length)||0;p=e>0?"Added ".concat(e," add-on").concat(e>1?"s":""):"Continue without add-ons"}else if("protect_everyone_addons"===c.widgetType){let e=(null===(i=t.addons)||void 0===i?void 0:i.length)||0;p=e>0?"Added ".concat(e," protection cover").concat(e>1?"s":""):"Continue without add-ons"}else if("premium_breakdown"===c.widgetType)p="Proceed to payment";else if("motor_celebration"===c.widgetType)p="";else if("dashboard_cta"===c.widgetType)p="dashboard"===t.choice?"Go to Dashboard":"Download Policy";else if("document_upload"===c.widgetType){let e=[(null==t?void 0:t.rcUploaded)&&"RC",(null==t?void 0:t.dlUploaded)&&"DL",(null==t?void 0:t.prevPolicyUploaded)&&"Previous Policy"].filter(Boolean).join(", ");p="Documents uploaded: ".concat(e)}else"surveyor_assigned"===c.widgetType?p="":"self_inspection"===c.widgetType&&(p="Self inspection completed");p&&l({type:"user",content:p,stepId:e,module:c.module,editable:!0});let u=c.processResponse(t,n.x.getState()),h={...n.x.getState(),...u};o(u),m(!1);let v=c.getNextStep(t,h),g=(0,b.p)(v);setTimeout(()=>{o({currentStepId:v,currentModule:(null==g?void 0:g.module)||h.currentModule})},300)},[e]),P=()=>{let t=(0,b.p)(e);if(!t||!u)return null;let r=n.x.getState(),s=t.getScript(r);switch(t.widgetType){case"selection_cards":return(0,a.jsx)(N,{options:s.options||[],onSelect:M});case"vehicle_reg_input":return(0,a.jsx)(k,{placeholder:s.placeholder,onSubmit:M});case"text_input":return(0,a.jsx)(C,{placeholder:s.placeholder,inputType:s.inputType||"text",onSubmit:M});case"number_input":return(0,a.jsx)(C,{placeholder:s.placeholder,inputType:"number",onSubmit:M});case"progressive_loader":return(0,a.jsx)(_,{onComplete:M});case"vehicle_details_card":return(0,a.jsx)(T,{onConfirm:()=>M("confirmed")});case"brand_selector":return(0,a.jsx)(B,{onSelect:M});case"model_selector":return(0,a.jsx)(I,{onSelect:M});case"variant_selector":return(0,a.jsx)(V,{onSelect:M});case"year_selector":return(0,a.jsx)(H,{onSelect:M});case"ncb_selector":return(0,a.jsx)(G,{onSelect:M});case"ncb_reward":return(0,a.jsx)(O,{onContinue:()=>M("continue")});case"insurer_selector":return(0,a.jsx)(K,{onSelect:M});case"editable_summary":return(0,a.jsx)(X,{onConfirm:()=>M("confirmed")});case"rejection_screen":return(0,a.jsx)(J,{});case"plan_calculator":return(0,a.jsx)(Q,{onComplete:M});case"plan_selector":return(0,a.jsx)(ee,{onSelect:M});case"plan_recommendation":return(0,a.jsx)(es,{onSelect:M});case"out_of_pocket_addons":return(0,a.jsx)(ei,{onContinue:e=>M({addons:e})});case"protect_everyone_addons":return(0,a.jsx)(el,{onContinue:e=>M({addons:e})});case"premium_breakdown":return(0,a.jsx)(ex,{onContinue:()=>M({})});case"motor_celebration":return(0,a.jsx)(em,{onContinue:()=>M({})});case"dashboard_cta":return(0,a.jsx)(ep,{onSelect:e=>M({choice:e})});case"document_upload":return(0,a.jsx)(eo,{onContinue:e=>M(e)});case"surveyor_assigned":return(0,a.jsx)(ed,{onContinue:()=>M("acknowledged")});case"self_inspection":return(0,a.jsx)(eu.wu,{onComplete:e=>M(e)});default:return null}},L=()=>{let t=(0,b.p)(e);return!!t&&["progressive_loader","vehicle_details_card","ncb_reward","editable_summary","rejection_screen","plan_calculator","plan_selector","plan_recommendation","out_of_pocket_addons","protect_everyone_addons","premium_breakdown","motor_celebration","dashboard_cta","document_upload","surveyor_assigned","self_inspection"].includes(t.widgetType)};return(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",style:{background:"var(--motor-chat-gradient)"},children:[(0,a.jsx)("div",{ref:x,className:"flex-1 overflow-y-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,a.jsx)(i.M,{initial:!1,children:t.map((e,s)=>{let i="bot"===e.type&&s===t.length-1&&!r;return(0,a.jsx)(f.Z,{message:e,onEdit:w,animate:i},e.id)})}),r&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(f.c,{})}),(0,a.jsx)(i.M,{children:u&&L()&&(0,a.jsx)(g.E.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"mt-2 mb-4",children:P()})}),(0,a.jsx)("div",{className:"h-4"})]})}),(0,a.jsx)(i.M,{children:u&&!L()&&(0,a.jsx)(g.E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{type:"spring",damping:28,stiffness:350},className:"shrink-0 max-h-[45vh] overflow-y-auto",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",borderTop:"1px solid var(--motor-border)",boxShadow:"0 -4px 40px var(--motor-shadow)"},children:(0,a.jsx)("div",{className:"max-w-lg mx-auto px-5 py-5 pb-8",children:P()})})}),(0,a.jsx)(i.M,{children:h.visible&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:()=>v({stepId:"",visible:!1})}),(0,a.jsx)(g.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-x-4 top-1/2 -translate-y-1/2 max-w-sm mx-auto rounded-2xl shadow-2xl z-50 p-6",style:{background:"var(--motor-glass-bg)",border:"1px solid var(--motor-border-strong)"},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"var(--motor-surface-2)"},children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,a.jsx)("h3",{className:"text-[16px] font-semibold mb-2",style:{color:"var(--motor-text)"},children:"Edit this answer?"}),(0,a.jsx)("p",{className:"text-[13px] mb-6",style:{color:"var(--motor-text-muted)"},children:"The conversation will continue from this point with your updated answer."}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>v({stepId:"",visible:!1}),className:"flex-1 py-2.5 rounded-xl text-[14px] font-medium transition-colors",style:{border:"1px solid var(--motor-border-strong)",color:"var(--motor-text-muted)"},children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{let{stepId:e}=h;v({stepId:"",visible:!1}),j(e)},className:"flex-1 py-2.5 bg-purple-600 text-white rounded-xl text-[14px] font-medium hover:bg-purple-500 transition-colors",children:"Edit answer"})]})]})})]})}),(0,a.jsx)(i.M,{children:y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:.4},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:()=>j(null)}),(0,a.jsxs)(g.E.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,y:60},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-x-0 z-50 bg-[#1E0F46] border-t border-white/10 shadow-2xl px-5 py-6 max-w-lg mx-auto ".concat((()=>{if(!y)return!1;let e=(0,b.p)(y);return["brand_selector","model_selector","variant_selector","year_selector","ncb_selector","insurer_selector","plan_selector","out_of_pocket_addons","protect_everyone_addons"].includes((null==e?void 0:e.widgetType)||"")})()?"bottom-0 top-16 rounded-t-2xl overflow-y-auto pb-10":"bottom-0 rounded-t-2xl pb-10 max-h-[45vh] overflow-y-auto"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h4",{className:"text-[14px] font-semibold text-white/80",children:"Update your answer"}),(0,a.jsx)("button",{onClick:()=>j(null),className:"text-white/40 hover:text-white/70 transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(()=>{if(!y)return null;let e=(0,b.p)(y);if(!e)return null;let t=n.x.getState(),r=e.getScript(t);switch(e.widgetType){case"selection_cards":return(0,a.jsx)(N,{options:r.options||[],onSelect:S});case"vehicle_reg_input":return(0,a.jsx)(k,{placeholder:r.placeholder,onSubmit:S});case"text_input":return(0,a.jsx)(C,{placeholder:r.placeholder,inputType:r.inputType||"text",onSubmit:S});case"number_input":return(0,a.jsx)(C,{placeholder:r.placeholder,inputType:"number",onSubmit:S});case"brand_selector":return(0,a.jsx)(B,{onSelect:S});case"model_selector":return(0,a.jsx)(I,{onSelect:S});case"variant_selector":return(0,a.jsx)(V,{onSelect:S});case"year_selector":return(0,a.jsx)(H,{onSelect:S});case"ncb_selector":return(0,a.jsx)(G,{onSelect:S});case"insurer_selector":return(0,a.jsx)(K,{onSelect:S});case"plan_selector":return(0,a.jsx)(ee,{onSelect:S});case"out_of_pocket_addons":return(0,a.jsx)(ei,{onContinue:e=>S({addons:e})});case"protect_everyone_addons":return(0,a.jsx)(el,{onContinue:e=>S({addons:e})});default:return null}})()]})]})})]})}var ev=r(9094);function eg(e){let t="car"===e,{updateState:r}=n.x.getState();r({vehicleType:e,userName:"Rahul",registrationNumber:t?"DL01XX1234":"KA05AB9876",vehicleEntryType:"existing",vehicleDataSource:"auto_fetched",autoFetchSuccess:!0,vehicleData:{make:t?"Maruti":"Royal Enfield",model:t?"Swift Dzire":"Classic 350",variant:t?"LXI":"Dual Channel",fuelType:"petrol",registrationYear:2021,registrationMonth:"March",hasCngKit:!1,isCommercialVehicle:!1},previousPolicy:{insurer:"TATA AIG",expiryDate:"28/06/2024",policyType:"comprehensive",ncbPercentage:35,hadClaims:!1},policyStatus:"active",preQuoteComplete:!0,selectedPlanType:"comprehensive",selectedGarageTier:"network",selectedPlan:{name:"Comprehensive (Network)",type:"comprehensive",garageTier:"network",odPremium:t?5400:1800,tpPremium:t?2094:714,ncbDiscount:t?1890:630,totalPrice:t?7500:2500,addOnsAvailable:t?["engine_protection","extra_car_protection","consumables_cover","personal_accident","passenger_protection","paid_driver"]:["engine_protection","consumables_cover","personal_accident","passenger_protection","paid_driver"],features:["Own Damage cover — Accident, fire, theft, natural calamity","Third-party liability — Mandatory legal coverage","Cashless claims at 5,400+ garages — No upfront payment","Personal Accident cover — ₹15 lakh for owner-driver"],notCovered:["Normal wear and tear","Mechanical or electrical breakdown","Driving without valid license","Consequential damage"]},selectedAddOns:[],availablePlans:[],idv:t?75e4:175e3,idvMin:t?675e3:157500,idvMax:t?787500:183750,paymentComplete:!1,totalPremium:t?7500:2500})}function eb(){let{updateState:e,resetJourney:t}=(0,n.x)(),r=(0,o.f)(e=>e.theme),x=(0,l.useSearchParams)(),p=x.get("vehicle"),u="1"===x.get("resume"),[m,h]=(0,s.useState)("explore"),[g,b]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let r=u?(0,c.wd)(null!=p?p:"car"):null;if(t(),r&&r.vehicleType){var a,s,i,l,n,o,d,x,m,v;eg(r.vehicleType),e({vehicleType:r.vehicleType,registrationNumber:null!==(a=r.registrationNumber)&&void 0!==a?a:"",ownerName:null!==(s=r.ownerName)&&void 0!==s?s:"",totalPremium:null!==(i=r.totalPremium)&&void 0!==i?i:0,selectedPlanType:null!==(l=r.selectedPlanType)&&void 0!==l?l:null,paymentComplete:null!==(n=r.paymentComplete)&&void 0!==n&&n,...r.vehicleData?{vehicleData:{make:null!==(o=r.vehicleData.make)&&void 0!==o?o:"",model:null!==(d=r.vehicleData.model)&&void 0!==d?d:"",variant:null!==(x=r.vehicleData.variant)&&void 0!==x?x:"",fuelType:null!==(m=r.vehicleData.fuelType)&&void 0!==m?m:"",registrationYear:null!==(v=r.vehicleData.registrationYear)&&void 0!==v?v:null,registrationMonth:"",hasCngKit:null,isCommercialVehicle:null}}:{},currentStepId:r.currentStepId,currentModule:r.currentStepId.split(".")[0].replace("_","_")}),h("chat")}b(!0)},[]),g)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev.$,{}),(0,a.jsx)(ev.z,{}),(0,a.jsxs)(i.M,{mode:"wait",children:["explore"===m&&(0,a.jsx)(d.Z,{initialVehicle:"bike"===p?"bike":"car",onStartJourney:r=>{t(),e({vehicleType:r,currentStepId:"registration.has_number",currentModule:"registration"}),h("chat")},onJumpTo:(r,a)=>{t();let s=r.startsWith("db.");"vehicle_type.select"!==r&&eg(a),s?e({vehicleType:a,paymentComplete:!0,journeyComplete:!1,currentStepId:r,currentModule:"dashboard"}):e({vehicleType:a,currentStepId:r,currentModule:{"vehicle_type.select":"vehicle_type","registration.has_number":"registration","registration.enter_number":"registration","manual_entry.congratulations":"manual_entry","quote.plan_selection":"quote","addons.out_of_pocket":"addons","review.premium_breakdown":"review"}[r]||"vehicle_type"}),h("chat")}},"explore"),"chat"===m&&(0,a.jsxs)("div",{className:"h-screen flex flex-col overflow-hidden motor-".concat(r),style:{background:"var(--motor-bg)"},children:[(0,a.jsx)(v,{}),(0,a.jsx)(eh,{})]},"chat")]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-3 border-purple-600 border-t-transparent rounded-full animate-spin"})})}function ef(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-3 border-purple-600 border-t-transparent rounded-full animate-spin"})}),children:(0,a.jsx)(eb,{})})}},4991:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},c:function(){return n}});var a=r(7437),s=r(521),i=r(2265);function l(e){let{message:t,onEdit:r,animate:l=!1}=e,[n,o]=(0,i.useState)(!1);if("system"===t.type)return(0,a.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center my-4",children:(0,a.jsx)("span",{className:"text-label-md px-4 py-1.5 rounded-full",style:{color:"var(--motor-text-muted)",background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:t.content})});if("user"===t.type)return(0,a.jsx)(s.E.div,{initial:{opacity:0,y:10,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.25,ease:[.215,.61,.355,1]},className:"flex justify-end mb-4 group",onMouseEnter:()=>t.editable&&o(!0),onMouseLeave:()=>o(!1),children:(0,a.jsxs)("div",{className:"relative max-w-[85%]",children:[(0,a.jsx)("div",{className:"px-4 py-2.5 chat-bubble-user shadow-lg",style:{background:"var(--motor-user-bubble-bg, #FFFFFF)",color:"var(--motor-user-bubble-text, #1C0B47)"},children:(0,a.jsx)("p",{className:"text-body-md font-medium",children:t.content})}),t.editable&&n&&r&&t.stepId&&(0,a.jsx)(s.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:()=>r(t.stepId),className:"absolute -left-8 top-1/2 -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center shadow-md transition-colors",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border-strong)"},title:"Edit this answer",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})});let c=(0,i.useMemo)(()=>{let e=[];return t.content.split("\n\n").forEach((t,r)=>{t.split(" ").forEach(t=>{t&&e.push({text:t,para:r})})}),e},[t.content]),[d,x]=(0,i.useState)(l?0:c.length);(0,i.useEffect)(()=>{if(!l||d>=c.length)return;let e=setTimeout(()=>x(e=>e+1),55);return()=>clearTimeout(e)},[l,d,c.length]),(0,i.useEffect)(()=>{l||x(c.length)},[l,c.length]);let p=Array.from({length:t.content.split("\n\n").length},()=>[]);c.slice(0,d).forEach(e=>p[e.para].push(e.text));let u=p.filter(e=>e.length>0),m=l&&d<c.length;return(0,a.jsx)(s.E.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.215,.61,.355,1]},className:"flex mb-4",children:(0,a.jsx)("div",{className:"max-w-[85%]",children:(0,a.jsx)("div",{className:"backdrop-blur-sm px-4 py-3 chat-bubble-bot",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:u.map((e,t)=>(0,a.jsxs)("p",{className:"text-body-md ".concat(t>0?"mt-2":""),style:{color:"var(--motor-bot-text)"},children:[e.join(" "),m&&t===u.length-1&&(0,a.jsx)("span",{className:"inline-block w-[2px] h-[1em] align-middle ml-[2px] rounded-full bg-purple-400 animate-pulse"})]},t))})})})}function n(){return(0,a.jsx)(s.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex mb-4",children:(0,a.jsxs)("div",{className:"backdrop-blur-sm px-4 py-3 chat-bubble-bot flex items-center gap-1.5",style:{background:"var(--motor-surface)",border:"1px solid var(--motor-border)"},children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-typing",style:{animationDelay:"0ms"}}),(0,a.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-typing",style:{animationDelay:"200ms"}}),(0,a.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-typing",style:{animationDelay:"400ms"}})]})})}},4588:function(e,t,r){"use strict";r.d(t,{O9:function(){return d},__:function(){return x},cM:function(){return c},fL:function(){return o},hx:function(){return l},po:function(){return p},wd:function(){return n}});let a="acko_journey_snapshots";function s(){try{return JSON.parse(localStorage.getItem(a)||"{}")}catch(e){return{}}}function i(e){localStorage.setItem(a,JSON.stringify(e))}function l(e){let t=s();t[e.product]=e,i(t)}function n(e){var t;return null!==(t=s()[e])&&void 0!==t?t:null}function o(e){let t=s();delete t[e],i(t)}let c=new Set(["recommendation.result","review.summary","review.consent","review.dob_collection","review.dob_ack","payment.success","health_eval.intro","health_eval.lab_schedule","health_eval.schedule","completion.celebration"]),d=new Set(["life_quote_display","life_addons_intro","life_review","life_payment","life_ekyc","life_financial","life_medical_eval","life_underwriting","life_complete"]),x=new Set(["quote.plans_ready","quote.plan_selection","quote.plan_selected","addons.out_of_pocket","addons.protect_everyone","addons.complete","review.premium_breakdown","payment.success","completion.dashboard"]);function p(e){let{product:t,currentStepId:r}=e;if("health"===t){var a,s;let t=null!==(s=null===(a=e.members)||void 0===a?void 0:a.length)&&void 0!==s?s:0,i=t>0?"".concat(t," member").concat(t>1?"s":""):"",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"monthly";return e?"₹".concat(e.toLocaleString("en-IN")).concat("monthly"===t?"/mo":"/yr"):""}(e.currentPremium,e.paymentFrequency);if(["recommendation.result","review.summary","review.consent","review.dob_collection","review.dob_ack"].includes(r))return{title:"Your health quote is ready",subtitle:[l,i].filter(Boolean).join(" \xb7 "),ctaLabel:"Complete purchase",route:"/health?resume=1",urgency:"high",badge:"Quote ready"};if("payment.success"===r||"health_eval.intro"===r)return{title:"Schedule your health check-up",subtitle:"Policy active \xb7 Tests pending".concat(i?" \xb7 "+i:""),ctaLabel:"Schedule now",route:"/health?resume=1",urgency:"high",badge:"Action needed"};if("health_eval.lab_schedule"===r||"health_eval.schedule"===r){let t=e.testScheduledLab?" \xb7 ".concat(e.testScheduledLab):"",r=e.testScheduledDate?" on ".concat(e.testScheduledDate):"";return{title:"Your health tests are scheduled",subtitle:"Tests booked".concat(r).concat(t),ctaLabel:"View details",route:"/health?resume=1",urgency:"medium",badge:"In progress"}}if("completion.celebration"===r)return{title:"Your health policy is active!",subtitle:"".concat(l?l+" \xb7 ":"").concat(i),ctaLabel:"View dashboard",route:"/health?resume=1",urgency:"low",badge:"Policy active"}}if("life"===t){let t=e.name?e.name:"",a=e.coverAmount?"₹".concat((e.coverAmount/1e7).toFixed(0)," Cr cover"):"",s=e.annualPremium?"₹".concat(e.annualPremium.toLocaleString("en-IN"),"/yr"):e.monthlyPremium?"₹".concat(e.monthlyPremium.toLocaleString("en-IN"),"/mo"):"";if("life_quote_display"===r||"life_addons_intro"===r)return{title:"".concat(t?t+", your":"Your"," life quote is ready"),subtitle:[s,a].filter(Boolean).join(" \xb7 "),ctaLabel:"Review & buy",route:"/life?resume=1",urgency:"high",badge:"Quote ready"};if("life_review"===r||"life_payment"===r)return{title:"Complete your life insurance purchase",subtitle:[s,a].filter(Boolean).join(" \xb7 "),ctaLabel:"Complete now",route:"/life?resume=1",urgency:"high",badge:"Action needed"};if("life_ekyc"===r)return{title:"Complete eKYC to activate your policy",subtitle:"Payment done \xb7 eKYC pending".concat(a?" \xb7 "+a:""),ctaLabel:"Complete eKYC",route:"/life?resume=1",urgency:"high",badge:"Action needed"};if("life_financial"===r)return{title:"Submit your income documents",subtitle:"eKYC done \xb7 Financial docs pending",ctaLabel:"Upload now",route:"/life?resume=1",urgency:"medium",badge:"Step pending"};if("life_medical_eval"===r)return{title:"Medical evaluation in progress",subtitle:"Results expected in 2–3 days".concat(a?" \xb7 "+a:""),ctaLabel:"Track status",route:"/life?resume=1",urgency:"medium",badge:"In progress"};if("life_underwriting"===r||"life_complete"===r)return{title:"Your policy is being processed",subtitle:"Underwriting in progress".concat(a?" \xb7 "+a:""),ctaLabel:"Track status",route:"/life?resume=1",urgency:"low",badge:"Processing"}}if("car"===t||"bike"===t){let a=function(e){let t=e.vehicleData;return(null==t?void 0:t.make)?[t.make,t.model].filter(Boolean).join(" "):"bike"===e.vehicleType?"Bike":"Car"}(e),s=e.registrationNumber?" \xb7 ".concat(e.registrationNumber.toUpperCase()):"",i=e.totalPremium?"₹".concat(e.totalPremium.toLocaleString("en-IN"),"/yr"):"",l="zero_dep"===e.selectedPlanType?"Zero Dep":"third_party"===e.selectedPlanType?"Third Party":"comprehensive"===e.selectedPlanType?"Comprehensive":"",n="/motor?vehicle=".concat(t,"&resume=1");if(["quote.plans_ready","quote.plan_selection"].includes(r))return{title:"Your ".concat(t," insurance quote is ready"),subtitle:"".concat(a).concat(s),ctaLabel:"View plans",route:n,urgency:"high",badge:"Quote ready"};if(["quote.plan_selected","addons.out_of_pocket","addons.protect_everyone","addons.complete","review.premium_breakdown"].includes(r))return{title:"Complete your ".concat(t," insurance purchase"),subtitle:[l,i,"".concat(a).concat(s)].filter(Boolean).join(" \xb7 "),ctaLabel:"Complete purchase",route:n,urgency:"high",badge:"Action needed"};if("payment.success"===r||"completion.dashboard"===r)return{title:"Your ".concat(t," policy is active"),subtitle:[l,"".concat(a).concat(s)].filter(Boolean).join(" \xb7 "),ctaLabel:"View policy",route:n,urgency:"low",badge:"Policy active"}}return null}}},function(e){e.O(0,[582,595,988,971,117,744],function(){return e(e.s=4744)}),_N_E=e.O()}]);