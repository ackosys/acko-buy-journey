(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{5595:function(e,a,t){Promise.resolve().then(t.bind(t,8155))},8155:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return ep}});var r=t(7437),s=t(2265),n=t(8614),i=t(9376),l=t(8515),o=t(6602),c=t(397),d=t(6825),u=t(6612),x=t(123),m=t(7648);let p=["vehicle_type","registration","vehicle_fetch","manual_entry","pre_quote","quote","customization","review","payment"];function h(){let{currentModule:e,vehicleType:a,updateState:t}=(0,l.x)(),s=(0,o.f)(e=>e.theme),n=Math.round(Math.max(0,p.indexOf(e))/(p.length-1)*100);return(0,r.jsxs)("header",{className:"sticky top-0 z-30",style:{background:"var(--aura-bg)",borderBottom:"1px solid var(--aura-border)"},children:[(0,r.jsxs)("div",{className:"max-w-lg mx-auto px-6 py-3 flex items-center justify-between",children:[(0,r.jsxs)(m.default,{href:"/",className:"flex items-center gap-2.5",children:[(0,r.jsx)(u.Z,{variant:"light"===s?"color":"dark"===s?"white":"full-white",className:"h-5"}),a&&(0,r.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-semibold uppercase tracking-wider",style:{background:"var(--aura-surface-2)",color:"#C084FC",border:"1px solid var(--aura-border)"},children:"bike"===a?"Bike":"Car"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>t({showAIChat:!0}),className:"group relative w-9 h-9 rounded-full flex items-center justify-center transition-all active:scale-95 overflow-hidden",style:{background:"var(--aura-surface)",border:"1px solid var(--aura-border)"},children:[(0,r.jsx)("img",{src:(0,d.u)("/ai-assistant.png"),alt:"AI",className:"w-9 h-9 object-cover"}),(0,r.jsx)("span",{className:"absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-green-400 rounded-full",style:{border:"var(--aura-progress-border)"}})]}),(0,r.jsxs)("button",{onClick:()=>t({showExpertPanel:!0}),className:"group relative flex items-center gap-1.5 pl-1 pr-3 py-1 rounded-full transition-all active:scale-95",style:{background:"var(--aura-overlay-bg)",border:"1px solid var(--aura-overlay-bg)"},children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full overflow-hidden",children:(0,r.jsx)("img",{src:(0,d.u)("/motor-expert.png"),alt:"Expert",className:"w-7 h-7 object-cover"})}),(0,r.jsx)("span",{className:"text-xs font-medium",style:{color:"var(--aura-bot-text)",opacity:.9},children:"Expert"})]}),(0,r.jsx)(x.Z,{})]})]}),(0,r.jsx)("div",{className:"h-[2px]",style:{background:"var(--aura-border)"},children:(0,r.jsx)("div",{className:"h-full transition-all duration-700 ease-out",style:{width:"".concat(n,"%"),background:"linear-gradient(90deg, #A855F7, #C084FC)",boxShadow:"0 0 8px rgba(168,85,247,0.5)"}})})]})}var v=t(521),g=t(4214);function b(e){let{message:a,onEdit:t,animate:n=!1}=e,[i,l]=(0,s.useState)(!1);if("system"===a.type)return(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center my-4",children:(0,r.jsx)("span",{className:"text-[12px] font-medium px-4 py-1.5 rounded-full",style:{color:"var(--aura-text-muted)",background:"var(--aura-surface)",border:"1px solid var(--aura-border)"},children:a.content})});if("user"===a.type)return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:10,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.25,ease:[.215,.61,.355,1]},className:"flex justify-end mb-4 group",onMouseEnter:()=>a.editable&&l(!0),onMouseLeave:()=>l(!1),children:(0,r.jsxs)("div",{className:"relative max-w-[80%]",children:[(0,r.jsx)("div",{className:"px-4 py-3 text-white font-medium",style:{background:"linear-gradient(0deg, #5920C5 0%, #7C47E1 100%)",borderRadius:"20px 4px 20px 20px",boxShadow:"0 4px 12px rgba(168,85,247,0.3)"},children:(0,r.jsx)("p",{className:"text-[15px]",children:a.content})}),a.editable&&i&&t&&a.stepId&&(0,r.jsx)(v.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:()=>t(a.stepId),className:"absolute -left-8 top-1/2 -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center shadow-md transition-colors",style:{background:"var(--aura-surface-2)",border:"1px solid var(--aura-border-strong)"},title:"Edit this answer",children:(0,r.jsx)("svg",{className:"w-3 h-3 text-[#C084FC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})});let o=(0,s.useMemo)(()=>{let e=[];return a.content.split("\n\n").forEach((a,t)=>{a.split(" ").forEach(a=>{a&&e.push({text:a,para:t})})}),e},[a.content]),[c,d]=(0,s.useState)(n?0:o.length);(0,s.useEffect)(()=>{if(!n||c>=o.length)return;let e=setTimeout(()=>d(e=>e+1),55);return()=>clearTimeout(e)},[n,c,o.length]),(0,s.useEffect)(()=>{n||d(o.length)},[n,o.length]);let u=Array.from({length:a.content.split("\n\n").length},()=>[]);o.slice(0,c).forEach(e=>u[e.para].push(e.text));let x=u.filter(e=>e.length>0),m=n&&c<o.length;return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.215,.61,.355,1]},className:"flex mb-4",children:(0,r.jsx)("div",{className:"max-w-[80%]",children:(0,r.jsx)("div",{style:{background:"var(--aura-surface)",color:"var(--aura-bot-text)",border:"1px solid var(--aura-border)",borderRadius:"4px 20px 20px 20px",boxShadow:"0 4px 12px var(--aura-shadow)",padding:"12px 16px"},children:x.map((e,a)=>(0,r.jsxs)("p",{className:"text-[15px] leading-relaxed ".concat(a>0?"mt-2":""),children:[e.join(" "),m&&a===x.length-1&&(0,r.jsx)("span",{className:"inline-block w-[2px] h-[1em] align-middle ml-[2px] rounded-full bg-[#A855F7] animate-pulse"})]},a))})})})}function f(){return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex mb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",style:{background:"var(--aura-surface)",border:"1px solid var(--aura-border)",borderRadius:"4px 20px 20px 20px",boxShadow:"0 4px 12px var(--aura-shadow)",padding:"12px 16px"},children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-[#A855F7] rounded-full animate-typing",style:{animationDelay:"0ms"}}),(0,r.jsx)("span",{className:"w-2 h-2 bg-[#A855F7] rounded-full animate-typing",style:{animationDelay:"200ms"}}),(0,r.jsx)("span",{className:"w-2 h-2 bg-[#A855F7] rounded-full animate-typing",style:{animationDelay:"400ms"}})]})})}var y=t(3450);let j={car:"Car.svg",bike:"Bike.svg",scooter:"Scooter.svg",shield:"Car coverage.svg",shield_search:"Third Party.svg",document:"Policy document.svg",claim_doc:"Claim_Document.svg",check:"Tick.svg",clock:"Time.svg",star:"special_car_star.svg",new_car:"New car.svg",new_bike:"New Bike.svg",user:"Profile.svg",building:"industry.svg",forward:"chevron right.svg",help:"Customer service.svg",chat_bubble:"Messages.svg",search:"magnifier.svg",switch:"Transfer policy.svg",fuel:"Fuel.svg",petrol:"Petrol.svg",diesel:"Diesel.svg",electric:"Flash.svg",cng:"CNG.svg",upload:"Document received.svg",download:"Download.svg",refresh:"Refresh.svg",map_pin:"Location.svg",phone:"Phone.svg",camera:"Camera.svg",garage:"Garage.svg",towing:"Towing.svg",claim:"Claim.svg",zero_dep:"Zero Dep Car.svg",engine:"Engine_protect.svg",passenger:"Passenger_Protection.svg",theft:"Theft_cover.svg",consumables:"Consumables_cover.svg",police:"Police.svg",renew:"Renew.svg",payment:"Payment.svg",pdf:"PDF file.svg",edit:"Edit.svg",policy:"Policy.svg",add_on:"add-on.svg",compare:"Compare.svg",discount:"Discount.svg",gift:"Gift.svg",key:"Key.svg",mail:"Mail.svg",notification:"Notification.svg",print:"Print.svg",profile:"Profile.svg",settings:"settings.svg",share:"Share.svg",trash:"Delete.svg",wallet:"wallet.svg",accident:"Car_accident.svg",bike_accident:"Bike_Accident.svg",broken_glass:"Broken Car Glass.svg",commercial_car:"Commercial Use_Taxi_car.svg",commercial_bike:"Commercial Use_Taxi_bike.svg",extra_car_protect:"Extra_car_protect.svg",fire:"Fire Accident Cover.svg",used_car:"Used_car.svg",sold_car:"Sold_car.svg",fastag:"Fastag.svg"};function N(e){let{icon:a,className:t="w-6 h-6"}=e,s=j[a];return s?(0,r.jsx)("img",{src:(0,d.u)("/icons/".concat(encodeURIComponent(s))),alt:a,className:t,style:{filter:"var(--aura-icon-filter)",opacity:"var(--aura-icon-opacity)"}}):(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827m0 0v.75m0-3.75h.008v.008H12v-.008z"})})}function w(e){let{options:a,onSelect:t}=e,[n,i]=(0,s.useState)(null),l=a.length<=4&&a.every(e=>e.icon),o=a.filter(e=>e.logoUrl).length>=3,c=e=>{i(e),setTimeout(()=>t(e),250)};if(l)return(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3 max-w-md",children:a.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.06*a},onClick:()=>c(e.id),className:"\n              relative flex flex-col items-center text-center p-5 rounded-2xl border transition-all duration-200 active:scale-[0.96] min-h-[120px] justify-center\n              ".concat(n===e.id?"border-[#A855F7] bg-[var(--aura-surface-2)] shadow-lg shadow-black/20":"border-[var(--aura-border)] bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)] hover:border-[var(--aura-border-strong)]","\n            "),children:[e.badge&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 text-[11px] bg-pink-500 text-[var(--aura-text)] px-2.5 py-0.5 rounded-full font-semibold shadow-sm",children:e.badge}),(0,r.jsx)("div",{className:"mb-2 w-10 h-10 rounded-xl bg-[var(--aura-surface-2)] flex items-center justify-center overflow-hidden",children:e.logoUrl?(0,r.jsx)("img",{src:(0,d.u)(e.logoUrl),alt:e.label,className:"w-7 h-7 object-contain"}):(0,r.jsx)(N,{icon:e.icon,className:"w-6 h-6 text-[#C084FC]"})}),(0,r.jsx)("span",{className:"text-[15px] font-medium text-[var(--aura-text)]",children:e.label}),e.description&&(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)] mt-1",children:e.description})]},e.id))});if(o){let e=a.filter(e=>e.logoUrl),t=a.filter(e=>!e.logoUrl);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:e.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.025*a},onClick:()=>c(e.id),className:"\n                relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl border transition-all duration-200 active:scale-[0.95]\n                ".concat(n===e.id?"border-[#A855F7] bg-[#A855F7]/10 ring-1 ring-[#A855F7]/30":"border-[var(--aura-border)] bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)]","\n              "),children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[var(--aura-surface-2)] flex items-center justify-center overflow-hidden",children:(0,r.jsx)("img",{src:(0,d.u)(e.logoUrl),alt:e.label,className:"w-7 h-7 object-contain"})}),(0,r.jsx)("span",{className:"text-[11px] font-medium text-[var(--aura-text)] text-center leading-tight",children:e.label}),e.description&&(0,r.jsx)("span",{className:"text-[9px] text-[var(--aura-text-subtle)] text-center leading-tight",children:e.description}),n===e.id&&(0,r.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1.5 right-1.5 w-4 h-4 rounded-full bg-[#A855F7] flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2.5 h-2.5 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e.id))}),t.map((a,t)=>(0,r.jsx)(v.E.button,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:(e.length+t)*.025},onClick:()=>c(a.id),className:"\n              w-full mt-2 text-left px-4 py-3 rounded-xl border transition-all duration-200 active:scale-[0.97]\n              ".concat(n===a.id?"border-[#A855F7] bg-[var(--aura-surface-2)]":"border-[var(--aura-border)] bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)]","\n            "),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[a.icon&&(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[var(--aura-surface-2)] flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(N,{icon:a.icon,className:"w-4 h-4 text-[#C084FC]"})}),(0,r.jsx)("span",{className:"text-[13px] font-medium text-[var(--aura-text)]",children:a.label})]})},a.id))]})}return(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2.5 max-w-md",children:a.map((e,a)=>(0,r.jsx)(v.E.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.04*a},onClick:()=>c(e.id),className:"\n            text-left px-4 py-3.5 rounded-xl border transition-all duration-200 active:scale-[0.97]\n            ".concat(n===e.id?"border-[#A855F7] bg-[var(--aura-surface-2)] shadow-md shadow-black/20":"border-[var(--aura-border)] bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)] hover:border-[var(--aura-border-strong)]","\n          "),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(e.logoUrl||e.icon)&&(0,r.jsx)("div",{className:"w-9 h-9 rounded-lg bg-[var(--aura-surface-2)] flex items-center justify-center flex-shrink-0 overflow-hidden",children:e.logoUrl?(0,r.jsx)("img",{src:(0,d.u)(e.logoUrl),alt:e.label,className:"w-6 h-6 object-contain"}):(0,r.jsx)(N,{icon:e.icon,className:"w-4.5 h-4.5 text-[#C084FC]"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("span",{className:"text-[15px] font-medium text-[var(--aura-text)]",children:e.label}),e.description&&(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)] mt-0.5",children:e.description})]})]})},e.id))})}function k(e){let{placeholder:a,onSubmit:t}=e,[n,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.focus()},[]);let u=e=>{let a=e.toUpperCase().replace(/[^A-Z0-9]/g,"");return a.length<=2?a:a.length<=4?"".concat(a.slice(0,2)," ").concat(a.slice(2)):a.length<=6?"".concat(a.slice(0,2)," ").concat(a.slice(2,4)," ").concat(a.slice(4)):"".concat(a.slice(0,2)," ").concat(a.slice(2,4)," ").concat(a.slice(4,6)," ").concat(a.slice(6,10))},x=()=>{if(n.replace(/\s/g,"").length<5){c("Please enter a valid registration number");return}t(n)};return(0,r.jsxs)("div",{className:"max-w-sm",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-8 h-5 bg-blue-600 rounded-sm flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-[var(--aura-text)] text-[8px] font-bold",children:"IND"})}),(0,r.jsx)("input",{ref:d,type:"text",value:n,onChange:e=>{i(u(e.target.value)),c("")},onKeyDown:e=>"Enter"===e.key&&x(),placeholder:a||"MH 04 EQ 4392",className:"w-full pl-16 pr-4 py-4 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[18px] font-semibold text-[var(--aura-text)] placeholder:text-[var(--aura-text-subtle)] focus:outline-none focus:border-[#A855F7] focus:bg-[var(--aura-surface-2)] transition-colors tracking-wider uppercase",maxLength:16,autoComplete:"off"})]}),o&&(0,r.jsx)("p",{className:"text-[12px] text-red-400 mt-1.5",children:o}),(0,r.jsxs)("button",{onClick:x,style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"mt-4 w-full py-3.5 text-white rounded-xl text-[15px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97]",children:["Find my ","bike"===l.x.getState().vehicleType?"bike":"car"]})]})}function C(e){let{placeholder:a,inputType:t="text",onSubmit:n}=e,[i,l]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.focus()},[]);let u=()=>{if(!i.trim()){c("Please enter a value");return}n(i.trim())};return(0,r.jsxs)("div",{className:"max-w-sm",children:[(0,r.jsx)("input",{ref:d,type:t,value:i,onChange:e=>{l(e.target.value),c("")},onKeyDown:e=>"Enter"===e.key&&u(),placeholder:a||"Type here...",className:"w-full px-4 py-4 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[16px] text-[var(--aura-text)] placeholder:text-[var(--aura-text-subtle)] focus:outline-none focus:border-[#A855F7] focus:bg-[var(--aura-surface-2)] transition-colors",autoComplete:"off"}),o&&(0,r.jsx)("p",{className:"text-[12px] text-red-400 mt-1.5",children:o}),(0,r.jsx)("button",{onClick:u,style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"mt-3 w-full py-3.5 text-white rounded-xl text-[15px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97]",children:"Continue"})]})}let S=[{message:"Searching Vaahan portal...",duration:1500},{message:"Fetching vehicle details...",duration:1500},{message:"Checking registration certificate...",duration:1200},{message:"Loading existing policy data...",duration:1200},{message:"Almost there...",duration:800}];function A(e){let{onComplete:a}=e,[t,n]=(0,s.useState)(0),[i,o]=(0,s.useState)(!1),{vehicleType:c,registrationNumber:d}=(0,l.x)();return(0,s.useEffect)(()=>{let e;return(async()=>{for(let a=0;a<S.length;a++)await new Promise(t=>{e=setTimeout(()=>{n(a+1),t()},S[a].duration)});o(!0),setTimeout(()=>{a(Math.random()>.15?"success":"failed")},600)})(),()=>clearTimeout(e)},[]),(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,r.jsx)("div",{className:"bg-[var(--aura-surface)] border border-[var(--aura-border)] rounded-xl p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#A855F7]/15 flex items-center justify-center",children:(0,r.jsx)(N,{icon:"bike"===c?"bike":"car",className:"w-5 h-5 text-[#C084FC]"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] uppercase tracking-wider",children:"Registration"}),(0,r.jsx)("p",{className:"text-[16px] font-bold text-[var(--aura-text)] tracking-wider",children:d||"N/A"})]})]})}),(0,r.jsx)("div",{className:"space-y-3",children:S.map((e,a)=>(0,r.jsxs)(v.E.div,{initial:{opacity:0,x:-10},animate:{opacity:a<t?1:.3,x:0},transition:{delay:.1,duration:.3},className:"flex items-center gap-3",children:[a<t?(0,r.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}):a===t?(0,r.jsx)("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(v.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-[#A855F7]/30 border-t-[#A855F7] rounded-full"})}):(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-[var(--aura-surface)] flex-shrink-0"}),(0,r.jsx)("span",{className:"text-[13px] ".concat(a<t?"text-[var(--aura-text-muted)]":a===t?"text-[var(--aura-text)]":"text-[var(--aura-text-subtle)]"),children:e.message})]},a))}),(0,r.jsx)("div",{className:"mt-4 h-1 bg-[var(--aura-surface-2)] rounded-full overflow-hidden",children:(0,r.jsx)(v.E.div,{className:"h-full bg-gradient-to-r from-[#A855F7] to-[#C084FC] rounded-full",initial:{width:"0%"},animate:{width:i?"100%":"".concat(t/S.length*100,"%")},transition:{duration:.5,ease:"easeOut"}})})]})}let _={"Maruti Suzuki":"/car-images/Swift.png",Hyundai:"/car-images/Venue.png",Tata:"/car-images/Nexon.png",Kia:"/car-images/Verna.png",Mahindra:"/car-images/XUV700.png",Toyota:"/car-images/Toyota.png",Honda:"/car-images/Citroen.png",MG:"/car-images/MG comet.png",Volkswagen:"/car-images/Citroen.png",Skoda:"/car-images/Verna.png",BMW:"/car-images/harrier.png",Audi:"/car-images/harrier.png","Mercedes-Benz":"/car-images/harrier.png",Jeep:"/car-images/XUV700.png",Renault:"/car-images/Citroen.png",Nissan:"/car-images/Venue.png"},M={Hero:"/car-images/Splendor.png",Honda:"/car-images/Activa.png",Bajaj:"/car-images/Pulsar.png",TVS:"/car-images/CT 100.png","Royal Enfield":"/car-images/KTM.png",Yamaha:"/car-images/Pulsar.png",Suzuki:"/car-images/Activa.png",KTM:"/car-images/KTM.png",Kawasaki:"/car-images/kawasaki.png",Ola:"/car-images/Activa.png",Ather:"/car-images/Activa.png"};function F(e){var a,t;let{onConfirm:n}=e,i=l.x.getState(),o=i.vehicleData,c=i.previousPolicy,[u,x]=(0,s.useState)(!1),m=(a=o.make,t=i.vehicleType||"car",(0,d.u)(("bike"===t?M:_)[a]||("bike"===t?"/car-images/Splendor.png":"/car-images/Swift.png")));return(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,r.jsxs)("div",{className:"bg-[var(--aura-surface)] border border-[var(--aura-border)] rounded-2xl overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-[var(--aura-surface-2)] px-5 py-4 border-b border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-xl bg-[var(--aura-surface)] flex items-center justify-center overflow-hidden p-1",children:(0,r.jsx)("img",{src:m,alt:"".concat(o.make," ").concat(o.model),className:"w-full h-full object-contain"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-[16px] font-bold text-[var(--aura-text)]",children:[o.make," ",o.model]}),(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-muted)]",children:[o.variant," \xb7 ",o.fuelType," \xb7 ",o.registrationYear]})]})]})}),(0,r.jsxs)("div",{className:"px-5 py-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:"Registration"}),(0,r.jsx)("span",{className:"text-[13px] font-semibold text-[var(--aura-text)] tracking-wider",children:i.registrationNumber})]}),c.insurer&&(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:"Current Insurer"}),(0,r.jsx)("span",{className:"text-[13px] font-medium text-[var(--aura-text)]",children:c.insurer})]}),c.expiryDate&&(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:"Policy Expiry"}),(0,r.jsx)("span",{className:"text-[13px] font-medium text-[var(--aura-text)]",children:c.expiryDate})]}),c.ncbPercentage>0&&(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:"NCB"}),(0,r.jsxs)("span",{className:"text-[13px] font-medium text-green-400",children:[c.ncbPercentage,"%"]})]})]})]}),(0,r.jsx)("button",{onClick:()=>{x(!0),setTimeout(()=>n(),300)},disabled:u,style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"mt-4 w-full py-3.5 text-white rounded-xl text-[15px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97] disabled:opacity-60",children:u?"Confirmed":"Yes, this is correct"}),(0,r.jsx)("button",{className:"mt-2 w-full py-2.5 text-[13px] text-[var(--aura-text-muted)] hover:text-[var(--aura-text-muted)] transition-colors",children:"This is not my vehicle"})]})}let E=["Maruti Suzuki","Hyundai","Tata","Kia","Mahindra","Toyota","Honda","MG","Volkswagen","Skoda","Renault","Nissan","Jeep","Mercedes-Benz","BMW","Audi"],T=["Hero","Honda","Bajaj","TVS","Royal Enfield","Yamaha","Suzuki","KTM","Kawasaki","Jawa","Ola","Ather","Revolt","Aprilia","Benelli","BMW Motorrad"],P={"Maruti Suzuki":"/logos/Suzuki.svg",Hyundai:"/logos/Hyundai.svg",Tata:"/logos/TATA.svg",Kia:"/logos/Kia.svg",Mahindra:"/logos/Mahindra.svg",Toyota:"/logos/TATA.svg",Honda:"/logos/Honda.svg",MG:"/logos/MG.svg",Volkswagen:"/logos/Volvo.svg",Skoda:"/logos/Opel.svg",Renault:"/logos/Renault.svg",Nissan:"/logos/Mitsubishi.svg",Jeep:"/logos/Jeep.svg","Mercedes-Benz":"/logos/Mercedez.svg",BMW:"/logos/BMW.svg",Audi:"/logos/Audi.svg",Hero:"/logos/Hero.svg",Bajaj:"/logos/Bajaj.svg",TVS:"/logos/TVS.svg","Royal Enfield":"/logos/Royal Enfield.svg",Yamaha:"/logos/Suzuki.svg",Suzuki:"/logos/Suzuki.svg",KTM:"/logos/BMW.svg",Kawasaki:"/logos/Honda.svg",Jawa:"/logos/Mahindra.svg",Ola:"/logos/ola.svg",Ather:"/logos/Ather.svg",Revolt:"/logos/Revolt.svg",Aprilia:"/logos/Ferrari.svg",Benelli:"/logos/Ferrari.svg","BMW Motorrad":"/logos/BMW.svg"};function L(e){let{onSelect:a}=e,t=l.x.getState().vehicleType,n="bike"===t?T:E,[i,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(null),x=i?n.filter(e=>e.toLowerCase().includes(i.toLowerCase())):n,m=e=>{u(e),setTimeout(()=>a(e),300)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative mb-3",children:[(0,r.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--aura-text-subtle)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,r.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Search ".concat("bike"===t?"bike":"car"," brand"),className:"w-full pl-9 pr-4 py-2.5 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[14px] text-[var(--aura-text)] placeholder:text-[var(--aura-text-subtle)] focus:outline-none focus:border-[#A855F7]/50 transition-colors",autoFocus:!0})]}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:x.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.02*a},onClick:()=>m(e),className:"\n              flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl border transition-all duration-200 active:scale-[0.95]\n              ".concat(c===e?"border-[#A855F7] bg-[#A855F7]/10 ring-1 ring-[#A855F7]/30":"border-[var(--aura-border)] bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)]","\n            "),children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[var(--aura-surface-2)] flex items-center justify-center overflow-hidden",children:P[e]?(0,r.jsx)("img",{src:(0,d.u)(P[e]),alt:e,className:"w-7 h-7 object-contain"}):(0,r.jsx)("span",{className:"text-[11px] font-bold text-[var(--aura-text-muted)]",children:e.slice(0,2)})}),(0,r.jsx)("span",{className:"text-[11px] font-medium text-[var(--aura-text)] text-center leading-tight",children:e}),c===e&&(0,r.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1.5 right-1.5 w-4 h-4 rounded-full bg-[#A855F7] flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2.5 h-2.5 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e))})]})}let B={"Maruti Suzuki":["Swift","Swift Dzire","Baleno","Brezza","WagonR","Ertiga","Celerio","Alto K10","Fronx","Jimny","Grand Vitara","XL6","Ignis","S-Presso","Ciaz","Invicto"],Hyundai:["i20","Creta","Venue","i10 Nios","Verna","Tucson","Alcazar","Aura","Exter","Ioniq 5"],Tata:["Nexon","Punch","Altroz","Harrier","Safari","Tiago","Tigor","Nexon EV","Punch EV","Curvv"],Kia:["Seltos","Sonet","Carens","EV6","Carnival"],Mahindra:["Thar","XUV700","Scorpio-N","XUV400","XUV300","Bolero","Bolero Neo","XUV.e8"],Toyota:["Innova Crysta","Fortuner","Urban Cruiser Hyryder","Glanza","Camry","Vellfire","Land Cruiser"],Honda:["City","Amaze","Elevate","WR-V"],MG:["Hector","Astor","ZS EV","Gloster","Comet EV"],Volkswagen:["Taigun","Virtus","Tiguan"],Skoda:["Slavia","Kushaq","Superb","Kodiaq"]},D={Hero:["Splendor Plus","HF Deluxe","Xtreme 160R","Xpulse 200","Glamour","Passion Pro","Pleasure Plus","Destini 125","Mavrick 440"],Honda:["Activa 6G","Shine","Unicorn","CB350","Hornet 2.0","CB200X","Dio","SP 125"],Bajaj:["Pulsar NS200","Pulsar 150","Dominar 400","Avenger","Platina","Chetak"],TVS:["Apache RTR 200","Jupiter","Raider","Ronin","Ntorq","Star City Plus","iQube"],"Royal Enfield":["Classic 350","Hunter 350","Meteor 350","Himalayan","Bullet 350","Continental GT 650","Interceptor 650","Super Meteor 650","Shotgun 650"],Yamaha:["MT-15","R15","FZ-S","Ray ZR","Fascino","Aerox"]};function z(e){let{onSelect:a}=e,t=l.x.getState(),n=t.vehicleData.make,i=("bike"===t.vehicleType?D:B)[n]||["Other"],[o,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(null),x=o?i.filter(e=>e.toLowerCase().includes(o.toLowerCase())):i,m=e=>{u(e),setTimeout(()=>a(e),300)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative mb-3",children:[(0,r.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--aura-text-subtle)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Search ".concat(n," model"),className:"w-full pl-9 pr-4 py-2.5 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[14px] text-[var(--aura-text)] placeholder:text-[var(--aura-text-subtle)] focus:outline-none focus:border-[#A855F7]/50 transition-colors",autoFocus:!0})]}),(0,r.jsx)("div",{className:"space-y-1",children:x.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.025*a},onClick:()=>m(e),className:"\n              w-full flex items-center justify-between px-4 py-3 rounded-xl border transition-all duration-200 active:scale-[0.98]\n              ".concat(d===e?"border-[#A855F7] bg-[#A855F7]/8":"border-transparent hover:bg-[var(--aura-surface-2)]","\n            "),children:[(0,r.jsx)("span",{className:"text-[14px] font-medium text-[var(--aura-text)]",children:e}),(0,r.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all\n              ".concat(d===e?"border-[#A855F7] bg-[#A855F7]":"border-[var(--aura-border-strong)]","\n            "),children:d===e&&(0,r.jsx)(v.E.svg,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e))})]})}let W={Petrol:["Smart","Smart (O)","Pure","Pure (O)","Pure Plus","Pure Plus S","Pure Plus AT","Pure Plus S Dark"],Diesel:["Smart","Smart (O)","Pure","Pure (O)","Pure Plus","Pure Plus S","Pure Plus AT"],Electric:["Prime","Prime (O)","Creative","Creative Pro","Empowered","Empowered+"],CNG:["Smart","Smart S-CNG","Pure","Pure S-CNG"]},I=["Petrol","Diesel","Electric","CNG"];function V(e){let{onSelect:a}=e,t=l.x.getState(),n=t.vehicleData.fuelType,[i,o]=(0,s.useState)(n||"Petrol"),[c,d]=(0,s.useState)(null),u="bike"===t.vehicleType,x=W[i]||W.Petrol,m=e=>{d(e),setTimeout(()=>a(e),300)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex gap-1.5 mb-3 p-1 bg-[var(--aura-surface)] rounded-xl",children:(u?["Petrol","Electric"]:I).map(e=>(0,r.jsx)("button",{onClick:()=>{o(e),d(null)},className:"flex-1 py-2 rounded-lg text-[12px] font-semibold transition-all\n              ".concat(i===e?"bg-white text-[#1C0B47] shadow-sm":"text-[var(--aura-text-subtle)] hover:text-[var(--aura-text-muted)]","\n            "),children:e},e))}),!c&&(0,r.jsxs)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] mb-2 px-1",children:["Select your ",t.vehicleData.model||"car","'s fuel type to see variants"]}),(0,r.jsx)("div",{className:"space-y-1",children:x.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.025*a},onClick:()=>m(e),className:"\n              w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 active:scale-[0.98]\n              ".concat(c===e?"bg-[#A855F7]/8 border border-[#A855F7]":"border border-transparent hover:bg-[var(--aura-surface-2)]","\n            "),children:[(0,r.jsx)("span",{className:"text-[14px] font-medium text-[var(--aura-text)]",children:e}),(0,r.jsx)("svg",{className:"w-4 h-4 text-[var(--aura-text-subtle)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]},e))})]})}let R=["January","February","March","April","May","June","July","August","September","October","November","December"];function H(e){let{onSelect:a}=e,t=new Date().getFullYear(),n=new Date().getMonth(),i=Array.from({length:20},(e,a)=>t-a),[l,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),u=e=>{o(e)},x=l===t?R.slice(0,n+1):R;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsxs)("select",{value:null!=l?l:"",onChange:e=>o(Number(e.target.value)),className:"w-full px-3 py-2.5 bg-[var(--aura-surface-2)] border border-[#A855F7]/30 rounded-xl text-[14px] text-[var(--aura-text)] focus:outline-none focus:border-[#A855F7] cursor-pointer pr-8 appearance-none",style:{colorScheme:"dark"},children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Year"}),i.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--aura-text-muted)] pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsxs)("select",{value:null!=c?c:"",onChange:e=>d(e.target.value),className:"w-full px-3 py-2.5 bg-[var(--aura-surface-2)] border border-[#A855F7]/30 rounded-xl text-[14px] text-[var(--aura-text)] focus:outline-none focus:border-[#A855F7] cursor-pointer pr-8 appearance-none",style:{colorScheme:"dark"},children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Month"}),x.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--aura-text-muted)] pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-1.5",children:i.map((e,a)=>(0,r.jsx)(v.E.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.012*a},onClick:()=>u(e),className:"\n              py-2.5 rounded-lg text-center transition-all duration-200 active:scale-[0.95]\n              ".concat(l===e?"bg-[#A855F7] text-white font-bold shadow-lg shadow-[#A855F7]/25":"bg-[var(--aura-surface)] text-[var(--aura-text-muted)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)]","\n            "),children:(0,r.jsx)("span",{className:"text-[13px]",children:e})},e))}),l&&(0,r.jsxs)(v.E.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},onClick:()=>{l&&a(String(l))},style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"mt-3 w-full py-3 text-white rounded-xl text-[14px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97]",children:["Continue with ",l,c?" \xb7 ".concat(c):""]})]})}let G=[{value:0,label:"0%",description:"First policy / Made a claim"},{value:20,label:"20%",description:"1 claim-free year"},{value:25,label:"25%",description:"2 claim-free years"},{value:35,label:"35%",description:"3 claim-free years"},{value:45,label:"45%",description:"4 claim-free years"},{value:50,label:"50%",description:"5+ claim-free years"}];function U(e){let{onSelect:a}=e,[t,n]=(0,s.useState)(null),i=e=>{n(e),setTimeout(()=>a(String(e)),300)};return(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:G.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.04*a},onClick:()=>i(e.value),className:"\n            relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl border transition-all duration-200 active:scale-[0.95]\n            ".concat(t===e.value?"border-[#A855F7] bg-[#A855F7]/20":"border-[var(--aura-border)] bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)]","\n          "),children:[t===e.value&&(0,r.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1.5 right-1.5 w-4 h-4 rounded-full bg-[#A855F7] flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2.5 h-2.5 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,r.jsx)("span",{className:"text-[20px] font-bold leading-none ".concat(t===e.value?"text-[#C084FC]":"text-[var(--aura-text)]"),children:e.label}),(0,r.jsx)("span",{className:"text-[10px] text-[var(--aura-text-subtle)] text-center leading-tight",children:e.description})]},e.value))})}function O(e){let{onContinue:a}=e,t=l.x.getState(),[n,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{setTimeout(()=>i(!0),300)},[]),(0,r.jsxs)(v.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-sm",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-green-400/10 border border-green-400/20 rounded-2xl p-5 text-center",children:[(0,r.jsx)(v.E.div,{initial:{scale:0},animate:n?{scale:1}:{},transition:{type:"spring",damping:12},className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)("span",{className:"text-3xl",children:"\uD83C\uDF89"})}),(0,r.jsx)("h3",{className:"text-[18px] font-bold text-[var(--aura-text)] mb-1",children:"NCB Reward Applied!"}),(0,r.jsxs)("p",{className:"text-[14px] text-[var(--aura-text-muted)] mb-3",children:[t.newNcbPercentage,"% discount on your Own Damage premium"]}),(0,r.jsxs)("div",{className:"bg-[var(--aura-surface-2)] rounded-xl p-3",children:[(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:"For staying claim-free"}),(0,r.jsxs)("p",{className:"text-[20px] font-bold text-green-400",children:[t.newNcbPercentage,"% OFF"]})]})]}),(0,r.jsx)("button",{onClick:a,style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"mt-4 w-full py-3.5 text-white rounded-xl text-[15px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97]",children:"Continue"})]})}let K=["ACKO General Insurance","TATA AIG","ICICI Lombard","Bajaj Allianz","HDFC Ergo","New India Assurance","United India Insurance","National Insurance","Oriental Insurance","SBI General","Reliance General","Royal Sundaram","Digit Insurance","Other"];function X(e){let{onSelect:a}=e,[t,n]=(0,s.useState)(""),[i,l]=(0,s.useState)(null),o=t?K.filter(e=>e.toLowerCase().includes(t.toLowerCase())):K,c=e=>{l(e),setTimeout(()=>a(e),300)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative mb-3",children:[(0,r.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--aura-text-subtle)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Search insurer",className:"w-full pl-9 pr-4 py-2.5 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[14px] text-[var(--aura-text)] placeholder:text-[var(--aura-text-subtle)] focus:outline-none focus:border-[#A855F7]/50 transition-colors",autoFocus:!0})]}),(0,r.jsx)("div",{className:"space-y-1",children:o.map((e,a)=>(0,r.jsxs)(v.E.button,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.02*a},onClick:()=>c(e),className:"\n              w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 active:scale-[0.98]\n              ".concat(i===e?"bg-[#A855F7]/8 border border-[#A855F7]":"border border-transparent hover:bg-[var(--aura-surface-2)]","\n            "),children:[(0,r.jsx)("span",{className:"text-[14px] font-medium text-[var(--aura-text)]",children:e}),(0,r.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all\n              ".concat(i===e?"border-[#A855F7] bg-[#A855F7]":"border-[var(--aura-border-strong)]","\n            "),children:i===e&&(0,r.jsx)(v.E.svg,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]},e))}),(0,r.jsx)("button",{onClick:()=>a("skip"),className:"mt-3 w-full py-2.5 text-[12px] text-[var(--aura-text-subtle)] hover:text-[var(--aura-text-muted)] transition-colors",children:"Skip this step"})]})}function Y(e){let{onConfirm:a}=e,t=l.x.getState(),s=t.vehicleData,n="bike"===t.vehicleType?"Bike":"Car";return(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,r.jsxs)("div",{className:"bg-[var(--aura-surface)] border border-[var(--aura-border)] rounded-2xl overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-[var(--aura-surface-2)] px-5 py-3 border-b border-[var(--aura-border)]",children:(0,r.jsx)("h3",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:"Vehicle Summary"})}),(0,r.jsxs)("div",{className:"px-5 py-4 space-y-3",children:[(0,r.jsx)(J,{label:"Vehicle Type",value:n}),s.make&&(0,r.jsx)(J,{label:"Brand",value:s.make}),s.model&&(0,r.jsx)(J,{label:"Model",value:s.model}),s.variant&&(0,r.jsx)(J,{label:"Variant",value:s.variant}),s.fuelType&&(0,r.jsx)(J,{label:"Fuel",value:s.fuelType}),s.registrationYear&&(0,r.jsx)(J,{label:"Reg. Year",value:String(s.registrationYear)}),t.registrationNumber&&(0,r.jsx)(J,{label:"Reg. Number",value:t.registrationNumber}),t.policyStatus&&(0,r.jsx)(J,{label:"Policy Status",value:"active"===t.policyStatus?"Active":"Expired"}),t.previousPolicy.ncbPercentage>0&&(0,r.jsx)(J,{label:"NCB",value:"".concat(t.previousPolicy.ncbPercentage,"%"),highlight:!0})]})]}),(0,r.jsx)("button",{onClick:a,style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"mt-4 w-full py-3.5 text-white rounded-xl text-[15px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97]",children:"View prices"})]})}function J(e){let{label:a,value:t,highlight:s}=e;return(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:a}),(0,r.jsx)("span",{className:"text-[13px] font-medium ".concat(s?"text-green-400":"text-[var(--aura-text)]"),children:t})]})}function Z(){return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm text-center",children:(0,r.jsxs)("div",{className:"bg-red-500/10 border border-red-400/20 rounded-2xl p-6",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)("svg",{className:"w-7 h-7 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),(0,r.jsx)("h3",{className:"text-[16px] font-bold text-[var(--aura-text)] mb-2",children:"Unable to insure"}),(0,r.jsx)("p",{className:"text-[13px] text-[var(--aura-text-muted)]",children:"We're currently unable to offer insurance for commercial vehicles. We'll notify you when this changes."})]})})}let q=[{message:"Analyzing your vehicle details...",duration:1e3},{message:"Calculating Insured Declared Value...",duration:1200},{message:"Fetching OD & TP premiums...",duration:1e3},{message:"Applying NCB discount...",duration:800},{message:"Preparing your personalized plans...",duration:1e3}];function Q(e){let{onComplete:a}=e,[n,i]=(0,s.useState)(0),[o,c]=(0,s.useState)(!1),{vehicleType:d,vehicleData:u,registrationNumber:x}=(0,l.x)();return(0,s.useEffect)(()=>{let e;return(async()=>{for(let a=0;a<q.length;a++)await new Promise(t=>{e=setTimeout(()=>{i(a+1),t()},q[a].duration)});c(!0),setTimeout(async()=>{try{let{getMotorPlanDetails:e,calculateIDV:r}=await Promise.resolve().then(t.bind(t,3450)),s=l.x.getState(),n=u.registrationYear?new Date().getFullYear()-u.registrationYear:3,i=r(8e5,n),o=e(s,"comprehensive","all"),c=e(s,"comprehensive","network"),d=e(s,"zero_dep"),x=e(s,"third_party");a({plans:[o,c,d,x],idv:i.recommended,idvMin:i.min,idvMax:i.max})}catch(e){console.error("Error generating plans:",e),a({plans:[],idv:75e4,idvMin:675e3,idvMax:787500})}},600)})(),()=>clearTimeout(e)},[a,u.registrationYear]),(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm",children:[(0,r.jsx)("div",{className:"bg-[var(--aura-surface)] border border-[var(--aura-border)] rounded-xl p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#A855F7]/15 flex items-center justify-center",children:(0,r.jsx)(N,{icon:"bike"===d?"bike":"car",className:"w-5 h-5 text-[#C084FC]"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-[13px] font-semibold text-[var(--aura-text)]",children:[u.make," ",u.model]}),(0,r.jsxs)("p",{className:"text-[11px] text-[var(--aura-text-subtle)]",children:[u.variant," \xb7 ",u.fuelType]})]})]})}),(0,r.jsx)("div",{className:"space-y-3",children:q.map((e,a)=>(0,r.jsxs)(v.E.div,{initial:{opacity:0,x:-10},animate:{opacity:a<n?1:.3,x:0},transition:{delay:.1,duration:.3},className:"flex items-center gap-3",children:[a<n?(0,r.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-3 h-3 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}):a===n?(0,r.jsx)("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(v.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-[#A855F7]/30 border-t-[#A855F7] rounded-full"})}):(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-[var(--aura-surface)] flex-shrink-0"}),(0,r.jsx)("span",{className:"text-[13px] ".concat(a<n?"text-[var(--aura-text-muted)]":a===n?"text-[var(--aura-text)]":"text-[var(--aura-text-subtle)]"),children:e.message})]},a))}),(0,r.jsx)("div",{className:"mt-4 h-1 bg-[var(--aura-surface-2)] rounded-full overflow-hidden",children:(0,r.jsx)(v.E.div,{className:"h-full bg-gradient-to-r from-[#A855F7] to-[#C084FC] rounded-full",initial:{width:"0%"},animate:{width:o?"100%":"".concat(n/q.length*100,"%")},transition:{duration:.5,ease:"easeOut"}})})]})}function $(e){let{onSelect:a}=e,t=(0,l.x)(e=>e.availablePlans)||[],i=(0,l.x)(e=>e.idv),o=(0,l.x)(e=>e.vehicleEntryType),c=(0,l.x)(e=>e.vehicleType),d="brand_new"===o,u="bike"===c?"bike":"car",[x,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),f=t.filter(e=>"comprehensive"===e.type),y=t.filter(e=>"zero_dep"===e.type),j=t.find(e=>"third_party"===e.type),N=f.sort((e,a)=>e.totalPrice-a.totalPrice)[0],w=y.sort((e,a)=>e.totalPrice-a.totalPrice)[0],k=e=>"₹".concat(e.toLocaleString("en-IN")),C=e=>{"comprehensive"===e.type?(h(e),b(!0)):a({planType:e.type,garageTier:null,plan:e})},S=e=>{if(!p)return;let r=t.find(a=>a.type===p.type&&a.garageTier===e);b(!1),a({planType:p.type,garageTier:e,plan:r})};return(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)]",children:"Insured value (IDV)"}),(0,r.jsxs)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:["₹",(i/1e5).toFixed(1)," Lakh ",(0,r.jsx)("button",{className:"text-[#C084FC] text-[12px] ml-1",children:"Edit"})]})]}),d&&w&&(0,r.jsx)(ee,{plan:w,title:"Zero Depreciation Plan (Bumper to Bumper)",badge:"Recommended for your ".concat(u),price:k(w.totalPrice),description:"Covers damage to your ".concat(u," and damage caused by your ").concat(u," to others and their property. Covers full cost of ").concat(u," parts if they are replaced during repairs."),onSelect:()=>C(w),recommended:!0}),N&&(0,r.jsx)(ee,{plan:N,title:d?"Comprehensive":"Comprehensive Plans",subtitle:d?void 0:"2 options starting from",badge:d?void 0:"Recommended for your ".concat(u),price:k(N.totalPrice),strikePrice:d?void 0:N.totalPrice+1e3,description:"Covers damage to your ".concat(u," and damage caused by your ").concat(u," to others and their property."),onSelect:()=>C(N)}),!d&&w&&(0,r.jsx)(ee,{plan:w,title:"Zero Depreciation Plans",subtitle:"2 options starting from",badge:"Best value",price:k(w.totalPrice),description:"This plan includes fire, theft, accident, and third party liability cover and covers 100% cost of replaced parts during repairs.",onSelect:()=>C(w),recommended:!0}),!d&&j&&(0,r.jsx)(ee,{plan:j,title:"Third-party Plan",subtitle:"Minimum coverage required by law",price:"".concat(k(j.totalPrice)," (Same across all insurers)"),description:"It covers damage caused by your ".concat(u," to others and their property, but does not cover any damage caused to your ").concat(u,"."),onSelect:()=>C(j)}),(0,r.jsxs)("button",{onClick:()=>a("help_choose"),className:"w-full py-3 rounded-xl text-[14px] font-medium transition-all duration-200 active:scale-[0.97] flex items-center justify-center gap-2",style:{background:"var(--aura-surface)",border:"1px solid var(--aura-border)",color:"var(--aura-text-muted)"},children:[(0,r.jsx)("svg",{className:"w-4 h-4",style:{color:"#A855F7"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z"})}),"I need help choosing"]}),(0,r.jsx)(n.M,{children:g&&p&&(()=>{let e=t.find(e=>e.type===p.type&&"network"===e.garageTier),a=t.find(e=>e.type===p.type&&"all"===e.garageTier),s=((null==a?void 0:a.totalPrice)||0)-((null==e?void 0:e.totalPrice)||0);return(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>b(!1),children:(0,r.jsx)(v.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto bg-[var(--aura-surface)] rounded-t-3xl sm:rounded-3xl shadow-2xl",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-[18px] font-bold text-[var(--aura-text)] mb-1",children:"Choose your garage network"}),(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-muted)] mb-5",children:["Comprehensive plan lets you pick where your ",u," gets repaired"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{onClick:()=>S("network"),className:"w-full p-4 bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)] hover:border-[#A855F7]/30 rounded-xl text-left transition-all group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#A855F7]/15 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-[#C084FC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-[14px] font-semibold text-[var(--aura-text)] group-hover:text-[#C084FC] transition-colors",children:"Network Garages"}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)]",children:"Cashless repairs at 5,400+ ACKO partner garages"})]})]}),(0,r.jsxs)("div",{className:"text-right flex-shrink-0 ml-3",children:[(0,r.jsx)("p",{className:"text-[16px] font-bold text-[var(--aura-text)]",children:k((null==e?void 0:e.totalPrice)||0)}),(0,r.jsx)("p",{className:"text-[10px] text-[var(--aura-text-subtle)]",children:"+ 18% GST"})]})]}),s>0&&(0,r.jsxs)("span",{className:"text-[10px] bg-green-500/20 text-green-300 px-2 py-0.5 rounded-full border border-green-400/20",children:["Save ₹",s.toLocaleString("en-IN")]})]}),(0,r.jsxs)("button",{onClick:()=>S("all"),className:"w-full p-4 bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)] hover:border-[#A855F7]/30 rounded-xl text-left transition-all group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#A855F7]/15 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-[#C084FC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17l-5.384 3.168 1.03-5.995L2.073 7.533l6.02-.874L11.42 1.5l3.326 5.159 6.02.874-4.993 4.81 1.03 5.995z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-[14px] font-semibold text-[var(--aura-text)] group-hover:text-[#C084FC] transition-colors",children:"All Garages"}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)]",children:"Get repairs at any garage of your choice"})]})]}),(0,r.jsxs)("div",{className:"text-right flex-shrink-0 ml-3",children:[(0,r.jsx)("p",{className:"text-[16px] font-bold text-[var(--aura-text)]",children:k((null==a?void 0:a.totalPrice)||0)}),(0,r.jsx)("p",{className:"text-[10px] text-[var(--aura-text-subtle)]",children:"+ 18% GST"})]})]}),(0,r.jsx)("span",{className:"text-[10px] bg-[#A855F7]/15 text-[#C084FC] px-2 py-0.5 rounded-full border border-[#A855F7]/15",children:"Recommended"})]})]}),(0,r.jsx)("button",{onClick:()=>b(!1),className:"w-full mt-4 py-3 text-[14px] text-[var(--aura-text-muted)] hover:text-[var(--aura-text-muted)] transition-colors",children:"Cancel"})]})})})})()})]})}function ee(e){let{plan:a,title:t,subtitle:i,badge:o,price:c,strikePrice:d,description:u,onSelect:x,recommended:m}=e,p="bike"===(0,l.x)(e=>e.vehicleType)?"bike":"car",h=(null==a?void 0:a.type)==="comprehensive",[g,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)("covered"),[j,N]=(0,s.useState)(!1),w=a.features.slice(0,3).map(e=>e.split(" — ")[0]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"\n          bg-[var(--aura-surface)] border rounded-2xl overflow-hidden transition-all duration-200\n          ".concat(m?"border-[#A855F7]/25 bg-[var(--aura-surface-2)]":"border-[var(--aura-border)]","\n        "),children:[(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-[15px] font-semibold text-[var(--aura-text)]",children:t}),i&&(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] mt-0.5",children:i})]}),o&&(0,r.jsx)("span",{className:"text-[10px] bg-[#A855F7]/20 text-[#C084FC] px-2 py-0.5 rounded-full border border-[#A855F7]/20 whitespace-nowrap",children:o})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text-subtle)] line-through",children:"₹".concat(d.toLocaleString("en-IN"))}),(0,r.jsx)("p",{className:"text-[18px] font-bold text-[var(--aura-text)]",children:c})]}),(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-muted)] leading-relaxed mt-1",children:[u," ",(0,r.jsx)("button",{onClick:()=>b(!g),className:"text-[#C084FC] underline hover:text-[#C084FC] transition-colors",children:"Learn more"})]})]}),!g&&(0,r.jsx)("div",{className:"space-y-1.5 mb-4",children:w.map((e,a)=>{let t=e.includes("Cashless claims");return(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),t?(0,r.jsx)("button",{onClick:()=>N(!0),className:"text-[12px] text-[var(--aura-text-muted)] hover:text-[#C084FC] transition-colors text-left underline decoration-white/30 hover:decoration-[#C084FC]",children:e}):(0,r.jsx)("span",{className:"text-[12px] text-[var(--aura-text-muted)]",children:e})]},a)})}),!g&&(0,r.jsx)("button",{onClick:x,className:"w-full py-2.5 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[13px] font-semibold text-[var(--aura-text)] hover:bg-[var(--aura-surface-2)] transition-colors",children:h?"Explore plan":"Select this plan"})]}),(0,r.jsx)(n.M,{children:g&&(0,r.jsxs)(v.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-[var(--aura-border)]",children:[(0,r.jsxs)("div",{className:"flex border-b border-[var(--aura-border)]",children:[(0,r.jsx)("button",{onClick:()=>y("covered"),className:"flex-1 py-3 text-[12px] font-medium transition-colors ".concat("covered"===f?"text-[var(--aura-text)] border-b-2 border-[#A855F7]":"text-[var(--aura-text-subtle)] hover:text-[var(--aura-text-muted)]"),children:"Covered"}),(0,r.jsx)("button",{onClick:()=>y("not_covered"),className:"flex-1 py-3 text-[12px] font-medium transition-colors ".concat("not_covered"===f?"text-[var(--aura-text)] border-b-2 border-[#A855F7]":"text-[var(--aura-text-subtle)] hover:text-[var(--aura-text-muted)]"),children:"Not covered"}),(0,r.jsx)("button",{onClick:()=>y("upgrades"),className:"flex-1 py-3 text-[12px] font-medium transition-colors ".concat("upgrades"===f?"text-[var(--aura-text)] border-b-2 border-[#A855F7]":"text-[var(--aura-text-subtle)] hover:text-[var(--aura-text-muted)]"),children:"third_party"===a.type?"Upgrades":"Available upgrades"})]}),(0,r.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto scrollbar-hide",children:(0,r.jsxs)(n.M,{mode:"wait",children:["covered"===f&&(0,r.jsx)(v.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"space-y-3",children:a.features.map((e,a)=>{let[t,...s]=e.split(" — "),n=s.join(" — "),i=t.includes("Cashless claims");return(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,r.jsxs)("div",{className:"flex-1",children:[i?(0,r.jsx)("button",{onClick:()=>N(!0),className:"text-[12px] font-medium text-[var(--aura-text)] hover:text-[#C084FC] transition-colors underline decoration-white/30 hover:decoration-[#C084FC] text-left",children:t}):(0,r.jsx)("p",{className:"text-[12px] font-medium text-[var(--aura-text)]",children:t}),n&&(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)] mt-0.5",children:n})]})]},a)})},"covered"),"not_covered"===f&&(0,r.jsx)(v.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"space-y-3",children:a.notCovered.map((e,a)=>{let[t,...s]=e.split(" — "),n=s.join(" — ");return(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-red-400/60 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-[12px] font-medium text-[var(--aura-text)]",children:t}),n&&(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)] mt-0.5",children:n})]})]},a)})},"not_covered"),"upgrades"===f&&(0,r.jsxs)(v.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},children:[(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-muted)] mb-3",children:["Opt for additional covers in the next steps to enhance your ","third_party"===a.type?"coverage":"".concat(p," protection")]}),(0,r.jsx)("div",{className:"space-y-2",children:a.addOnsAvailable.map((e,a)=>{let t={engine_protection:{name:"Engine Protection",desc:"It covers engine damage caused by oil leaks and water penetration. Standard plans only cover engine damage caused in an accident."},extra_car_protection:{name:"Extra ".concat("bike"===p?"Bike":"Car"," Protection"),desc:"It offers 24x7 roadside assistance, key repair/replacement, and reimbursement for outstation repairs."},consumables_cover:{name:"Consumables Cover",desc:"It pays for the cost of nuts and bolts, brake oil, engine oil etc. used during ".concat(p," repairs. Standard plans don't cover this.")},personal_accident:{name:"Personal Accident Cover",desc:"It's mandatory to add this cover if you don't have it. It provides coverage of up to ₹15 lakh for accidental death or injury of the ".concat(p," owner.")},passenger_protection:{name:"Passenger Protection",desc:"It offers coverage of up to ₹1 lakh per passenger for accidental death or injury"},paid_driver:{name:"Paid Driver Protection",desc:"It covers your driver for up to ₹1 lakh in the event of serious injuries or death in an accident."}}[e];return(0,r.jsx)("div",{className:"py-2.5 px-3 bg-[var(--aura-surface)] rounded-lg border border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-[#C084FC] flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px] font-medium text-[var(--aura-text)]",children:(null==t?void 0:t.name)||e}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] mt-0.5",children:(null==t?void 0:t.desc)||""})]})]})},a)})})]},"upgrades")]})}),(0,r.jsxs)("div",{className:"px-4 pb-4 border-t border-[var(--aura-border)] pt-4",children:[(0,r.jsx)("button",{onClick:x,style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"w-full py-3 text-white rounded-xl text-[14px] font-semibold hover:opacity-90 transition-colors active:scale-[0.97]",children:"Select this plan"}),(0,r.jsx)("button",{onClick:()=>b(!1),className:"w-full py-2 mt-2 text-[12px] text-[var(--aura-text-muted)] hover:text-[var(--aura-text-muted)] transition-colors",children:"Close details"})]})]})})]}),(0,r.jsx)(ea,{visible:j,onClose:()=>N(!1)})]})}function ea(e){let{visible:a,onClose:t}=e,[n,i]=(0,s.useState)(""),[l,o]=(0,s.useState)("all"),c=[{id:1,name:"Elite Auto Service",city:"Mumbai",area:"Andheri West",rating:4.5},{id:2,name:"City Motors Garage",city:"Mumbai",area:"Bandra East",rating:4.7},{id:3,name:"Premium Auto Care",city:"Delhi",area:"Connaught Place",rating:4.6},{id:4,name:"Royal Auto Works",city:"Bangalore",area:"Koramangala",rating:4.8},{id:5,name:"Swift Service Center",city:"Mumbai",area:"Powai",rating:4.4},{id:6,name:"Highway Garage",city:"Delhi",area:"Dwarka",rating:4.3},{id:7,name:"Metro Auto Service",city:"Bangalore",area:"Whitefield",rating:4.6},{id:8,name:"Grand Auto Care",city:"Pune",area:"Hinjewadi",rating:4.5},{id:9,name:"Rapid Repairs",city:"Mumbai",area:"Goregaon",rating:4.2},{id:10,name:"Speed Zone Garage",city:"Delhi",area:"Rohini",rating:4.7},{id:11,name:"Precision Motors",city:"Bangalore",area:"Indiranagar",rating:4.9},{id:12,name:"Central Auto Clinic",city:"Mumbai",area:"Kurla",rating:4.3},{id:13,name:"Pro Auto Solutions",city:"Delhi",area:"Saket",rating:4.6},{id:14,name:"Prime Service Hub",city:"Pune",area:"Viman Nagar",rating:4.4},{id:15,name:"Express Auto Repair",city:"Bangalore",area:"BTM Layout",rating:4.5},{id:16,name:"Star Motors Workshop",city:"Mumbai",area:"Malad",rating:4.8},{id:17,name:"Capital Garage Services",city:"Delhi",area:"Janakpuri",rating:4.2},{id:18,name:"Tech Auto Care",city:"Bangalore",area:"Electronic City",rating:4.7},{id:19,name:"Ace Automobile Center",city:"Pune",area:"Kharadi",rating:4.6},{id:20,name:"Skyline Auto Service",city:"Mumbai",area:"Thane",rating:4.5},{id:21,name:"Max Auto Works",city:"Delhi",area:"Vasant Kunj",rating:4.4},{id:22,name:"Urban Motors",city:"Bangalore",area:"Marathahalli",rating:4.9},{id:23,name:"Crystal Auto Care",city:"Pune",area:"Baner",rating:4.3},{id:24,name:"Victory Garage",city:"Mumbai",area:"Borivali",rating:4.7},{id:25,name:"Elite Service Station",city:"Delhi",area:"Lajpat Nagar",rating:4.5},{id:26,name:"Smart Auto Solutions",city:"Bangalore",area:"Yelahanka",rating:4.6},{id:27,name:"Prestige Auto Clinic",city:"Pune",area:"Wakad",rating:4.8},{id:28,name:"Infinity Motors",city:"Mumbai",area:"Kandivali",rating:4.4},{id:29,name:"Supreme Auto Hub",city:"Delhi",area:"Pitampura",rating:4.2},{id:30,name:"Phoenix Auto Care",city:"Bangalore",area:"Jayanagar",rating:4.7}],d=["all",...Array.from(new Set(c.map(e=>e.city)))],u=c.filter(e=>{let a=e.name.toLowerCase().includes(n.toLowerCase())||e.area.toLowerCase().includes(n.toLowerCase()),t="all"===l||e.city===l;return a&&t});return a?(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:t,children:(0,r.jsxs)(v.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-2xl max-h-[85vh] bg-[var(--aura-surface)] rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--aura-border)]",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-[18px] font-bold text-[var(--aura-text)]",children:"Cashless Network Garages"}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)] mt-0.5",children:"5,400+ garages across India"})]}),(0,r.jsx)("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full bg-[var(--aura-surface-2)] hover:bg-[var(--aura-surface-2)] transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"px-5 py-4 space-y-3 border-b border-[var(--aura-border)]",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--aura-text-subtle)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,r.jsx)("input",{type:"text",placeholder:"Search by garage name or area...",value:n,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[13px] text-[var(--aura-text)] placeholder:text-[var(--aura-text-subtle)] focus:outline-none focus:ring-2 focus:ring-[#A855F7]/50"})]}),(0,r.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:d.map(e=>(0,r.jsx)("button",{onClick:()=>o(e),className:"px-4 py-1.5 rounded-full text-[12px] font-medium whitespace-nowrap transition-all ".concat(l===e?"bg-[#A855F7] text-white":"bg-[var(--aura-surface-2)] text-[var(--aura-text-muted)] hover:bg-[var(--aura-surface-2)]"),children:"all"===e?"All Cities":e},e))})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-3",children:u.length>0?u.map(e=>(0,r.jsx)(v.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"p-4 bg-[var(--aura-surface)] rounded-xl border border-[var(--aura-border)] hover:bg-[var(--aura-surface)] hover:border-[var(--aura-border)] transition-all",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:e.name}),(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-muted)] mt-1",children:[e.area,", ",e.city]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 ml-3",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,r.jsx)("span",{className:"text-[12px] font-medium text-[var(--aura-text)]",children:e.rating})]})]})},e.id)):(0,r.jsxs)("div",{className:"py-12 text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3",style:{color:"var(--aura-text)",opacity:.2},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,r.jsx)("p",{className:"text-[14px] text-[var(--aura-text-muted)]",children:"No garages found"}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)] mt-1",children:"Try adjusting your search or filters"})]})}),(0,r.jsx)("div",{className:"px-5 py-3 bg-[var(--aura-surface)] border-t border-[var(--aura-border)]",children:(0,r.jsxs)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] text-center",children:["Showing ",u.length," of 5,400+ partner garages • Coverage across all major cities"]})})]})}):null}function et(e){var a;let t;let{onSelect:s}=e,{availablePlans:n,recommendedPlanType:i,vehicleEntryType:o}=(0,l.x)(),c=i||"comprehensive",d="zero_dep"===c?"Zero Depreciation":"comprehensive"===c?"Comprehensive":"Third-party",u=n.find(e=>e.type===c)||n[0];return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-sm space-y-3",children:(0,r.jsxs)("div",{className:"rounded-2xl overflow-hidden",style:{background:"var(--aura-surface)",border:"1px solid var(--aura-border)"},children:[(0,r.jsxs)("div",{className:"px-4 py-3",style:{background:"var(--motor-plan-rec-header-bg)"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",style:{color:"var(--motor-plan-rec-badge)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),(0,r.jsx)("span",{className:"text-[12px] font-semibold",style:{color:"var(--motor-plan-rec-badge)"},children:"Recommended for you"})]}),(0,r.jsxs)("h3",{className:"text-[18px] font-bold",style:{color:"var(--aura-text)"},children:[d," Plan"]}),u&&(0,r.jsxs)("p",{className:"text-[22px] font-bold mt-1",style:{color:"var(--aura-text)"},children:[(t=u.totalPrice,"₹".concat(t.toLocaleString("en-IN"))),(0,r.jsx)("span",{className:"text-[12px] font-normal ml-1",style:{color:"var(--aura-text-muted)"},children:"/ year"})]})]}),(0,r.jsx)("div",{className:"px-4 py-3 space-y-2",children:null==u?void 0:null===(a=u.features)||void 0===a?void 0:a.slice(0,4).map((e,a)=>(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:"var(--motor-plan-rec-check)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,r.jsx)("span",{className:"text-[13px]",style:{color:"var(--aura-text)"},children:e.label||e})]},a))}),(0,r.jsxs)("div",{className:"px-4 pb-4 space-y-2",children:[(0,r.jsxs)("button",{onClick:()=>{(null==u?void 0:u.type)==="comprehensive"?s({planType:u.type,garageTier:"network",plan:u}):s({planType:(null==u?void 0:u.type)||c,garageTier:null,plan:u})},className:"w-full py-3 rounded-xl text-[14px] font-semibold text-white transition-all active:scale-[0.97]",style:{background:"linear-gradient(135deg, #7C3AED, #A855F7)"},children:["Select ",d," Plan"]}),(0,r.jsx)("button",{onClick:()=>s("back_to_plans"),className:"w-full py-2.5 rounded-xl text-[13px] font-medium transition-all",style:{color:"var(--aura-text-muted)"},children:"View all plans instead"})]})]})})}function er(e){var a;let{onContinue:t}=e,{updateState:i,selectedAddOns:o=[],selectedPlan:c}=(0,l.x)(),[d,u]=(0,s.useState)(new Map),[x,m]=(0,s.useState)({addon:null,show:!1}),p=(0,y.Wl)().filter(e=>"out_of_pocket"===e.category),h=e=>d.has(e),g=e=>{if(e.hasVariants)m({addon:e,show:!0});else{let a=new Map(d);a.has(e.id)?a.delete(e.id):a.set(e.id,{id:e.id,price:e.price}),u(a)}},b=(e,a)=>{let t=new Map(d);t.set(e.id,{id:e.id,variantId:a.id,price:a.price}),u(t),m({addon:null,show:!1})},f=e=>{let a=new Map(d);a.delete(e),u(a)},j=(()=>{let e=(null==c?void 0:c.totalPrice)||0,a=Array.from(d.values()).reduce((e,a)=>e+a.price,0),t=Math.round(.18*a);return{basePremium:e,addonTotal:a,gst:t,total:e+a+t}})();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-[16px] font-bold text-[var(--aura-text)] mb-1",children:"Cut down your out-of-pocket expenses"}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)]",children:"Recommended for you"})]}),p.map((e,a)=>{var t,s;let n=h(e.id),i=d.get(e.id),l=(null==i?void 0:i.price)||e.price,o=(null==i?void 0:i.variantId)?null===(s=e.variants)||void 0===s?void 0:null===(t=s.find(e=>e.id===i.variantId))||void 0===t?void 0:t.name:null;return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0,scale:n?1.02:1},transition:{opacity:{delay:.05*a,duration:.3},y:{delay:.05*a,type:"spring",stiffness:300,damping:24},scale:{type:"spring",stiffness:400,damping:30}},className:"p-4 rounded-xl border ".concat(n?"bg-[var(--aura-surface-2)] border-[#A855F7]/30":"bg-[var(--aura-surface)] border-[var(--aura-border)] hover:border-[var(--aura-border-strong)]"),style:{transition:"background 0.25s ease, border-color 0.25s ease"},children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h4",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:e.name}),e.hasVariants&&(0,r.jsx)("span",{className:"text-[10px] text-[#C084FC] bg-[#A855F7]/15 px-2 py-0.5 rounded-full",children:"2 options"}),e.recommended&&(0,r.jsx)("span",{className:"text-[10px] text-green-300 bg-green-500/20 px-2 py-0.5 rounded-full",children:"Recommended"}),n&&(0,r.jsxs)(v.E.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:25},className:"text-[10px] text-green-300 bg-green-500/25 px-2 py-0.5 rounded-full flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Added"]})]}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)] leading-relaxed",children:e.description}),n&&o&&(0,r.jsxs)("p",{className:"text-[11px] text-[#C084FC] mt-1",children:["Selected: ",o]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2 ml-4",children:[(0,r.jsxs)("p",{className:"text-[14px] font-bold text-[var(--aura-text)] whitespace-nowrap",children:["₹",l]}),(0,r.jsx)(v.E.button,{onClick:()=>n?f(e.id):g(e),whileTap:{scale:.92},className:"w-8 h-8 rounded-lg flex items-center justify-center transition-colors ".concat(n?"bg-[#A855F7] text-white hover:bg-[#7E22CE]":"bg-[var(--aura-surface-2)] text-[var(--aura-text-muted)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)]"),children:n?(0,r.jsx)(v.E.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},"check"):(0,r.jsx)("span",{children:"+"})})]})]})},e.id)}),(0,r.jsx)(v.E.div,{initial:{scale:.98,opacity:.9},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:30},className:"mt-6 p-4 bg-[var(--aura-surface)] rounded-xl border border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"space-y-2 text-[13px]",children:[(0,r.jsxs)("div",{className:"flex justify-between text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"Base Premium"}),(0,r.jsxs)("span",{children:["₹",j.basePremium.toLocaleString()]})]}),j.addonTotal>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"Add-ons"}),(0,r.jsxs)("span",{children:["₹",j.addonTotal.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"GST (18%)"}),(0,r.jsxs)("span",{children:["₹",j.gst.toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"border-t border-[var(--aura-border)] pt-2 flex justify-between font-bold text-[var(--aura-text)] text-[15px]",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["₹",j.total.toLocaleString()]})]})]})},"total-".concat(j.addonTotal)),(0,r.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,r.jsx)("button",{onClick:()=>{i({selectedAddOns:[]}),t([])},className:"flex-1 py-3 px-4 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[14px] font-semibold text-[var(--aura-text)] hover:bg-[var(--aura-surface-2)] transition-colors",children:"Continue without add-ons"}),(0,r.jsx)("button",{onClick:()=>{let e=Array.from(d.values());i({selectedAddOns:e}),t(e)},style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"flex-1 py-3 px-4 text-white rounded-xl text-[14px] font-semibold hover:opacity-90 transition-colors active:scale-[0.98]",children:"Continue"})]}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] text-center mt-2",children:"Next: Additional covers to reduce medical expenses"})]}),(0,r.jsx)(n.M,{children:x.show&&x.addon&&(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>m({addon:null,show:!1}),children:(0,r.jsx)(v.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto bg-[var(--aura-surface)] rounded-t-3xl sm:rounded-3xl shadow-2xl border border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,r.jsxs)("h3",{className:"text-[18px] font-bold text-[var(--aura-text)] mb-1",children:["Select ",x.addon.name," variant"]}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)] mb-5",children:x.addon.description}),(0,r.jsx)("div",{className:"space-y-3",children:null===(a=x.addon.variants)||void 0===a?void 0:a.map(e=>{var a;return(0,r.jsxs)("button",{onClick:()=>b(x.addon,e),className:"w-full p-4 bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)] hover:border-[#A855F7]/30 rounded-xl text-left transition-all group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-[15px] font-semibold text-[var(--aura-text)]",children:e.name}),e.recommended&&(0,r.jsx)("span",{className:"text-[10px] text-[#C084FC] bg-[#A855F7]/20 px-2 py-0.5 rounded-full",children:"Recommended"}),e.badge&&(0,r.jsx)("span",{className:"text-[10px] text-green-300 bg-green-500/30 px-2 py-0.5 rounded-full",children:e.badge})]}),(0,r.jsxs)("span",{className:"text-[16px] font-bold text-[var(--aura-text)]",children:["₹",e.price]})]}),(0,r.jsx)("ul",{className:"space-y-1",children:null===(a=e.features)||void 0===a?void 0:a.map((e,a)=>(0,r.jsxs)("li",{className:"text-[11px] text-[var(--aura-text-muted)] flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-green-400 mt-0.5",children:"•"}),(0,r.jsx)("span",{children:e})]},a))})]},e.id)})}),(0,r.jsx)("button",{onClick:()=>m({addon:null,show:!1}),className:"w-full mt-4 py-3 text-[14px] text-[var(--aura-text-muted)] hover:text-[var(--aura-text-muted)] transition-colors",children:"Cancel"})]})})})})]})}function es(e){var a;let{onContinue:t}=e,{updateState:i,selectedAddOns:o=[],selectedPlan:c,vehicleType:d}=(0,l.x)(),[u,x]=(0,s.useState)(new Map),[m,p]=(0,s.useState)({addon:null,show:!1}),h=(0,y.Wl)().filter(e=>"protect_everyone"===e.category),g=e=>u.has(e),b=e=>{if(e.hasVariants)p({addon:e,show:!0});else{let a=new Map(u);a.has(e.id)?a.delete(e.id):a.set(e.id,{id:e.id,price:e.price}),x(a)}},f=(e,a)=>{let t=new Map(u);t.set(e.id,{id:e.id,variantId:a.id,price:a.price}),x(t),p({addon:null,show:!1})},j=e=>{let a=new Map(u);a.delete(e),x(a)},N=(()=>{let e=(null==c?void 0:c.totalPrice)||0,a=o.reduce((e,a)=>e+(a.price||0),0),t=Array.from(u.values()).reduce((e,a)=>e+a.price,0),r=a+t,s=Math.round(.18*r);return{basePremium:e,previousAddons:a,addonTotal:t,totalAddons:r,gst:s,total:e+r+s}})(),w=(e,a)=>{var t,s;let n=g(e.id),i=u.get(e.id),l=(null==i?void 0:i.price)||e.price,o=(null==i?void 0:i.variantId)?null===(s=e.variants)||void 0===s?void 0:null===(t=s.find(e=>e.id===i.variantId))||void 0===t?void 0:t.name:null;return(0,r.jsx)(v.E.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0,scale:n?1.02:1},transition:{opacity:{delay:.05*a,duration:.3},y:{delay:.05*a,type:"spring",stiffness:300,damping:24},scale:{type:"spring",stiffness:400,damping:30}},className:"p-4 rounded-xl border ".concat(n?"bg-[var(--aura-surface-2)] border-[#A855F7]/30":"bg-[var(--aura-surface)] border-[var(--aura-border)] hover:border-[var(--aura-border-strong)]"),style:{transition:"background 0.25s ease, border-color 0.25s ease"},children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h4",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:e.name}),e.hasVariants&&(0,r.jsx)("span",{className:"text-[10px] text-[#C084FC] bg-[#A855F7]/15 px-2 py-0.5 rounded-full",children:"2 options"}),e.mandatory&&(0,r.jsx)("span",{className:"text-[10px] text-orange-300 bg-orange-500/20 px-2 py-0.5 rounded-full",children:"Mandatory by law"}),n&&(0,r.jsxs)(v.E.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:25},className:"text-[10px] text-green-300 bg-green-500/25 px-2 py-0.5 rounded-full flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Added"]})]}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)] leading-relaxed",children:e.description}),n&&o&&(0,r.jsxs)("p",{className:"text-[11px] text-[#C084FC] mt-1",children:["Selected: ",o]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2 ml-4",children:[(0,r.jsxs)("p",{className:"text-[14px] font-bold text-[var(--aura-text)] whitespace-nowrap",children:[e.hasVariants?"from ":"","₹",l]}),(0,r.jsx)(v.E.button,{onClick:()=>n?j(e.id):b(e),whileTap:{scale:.92},className:"w-8 h-8 rounded-lg flex items-center justify-center transition-colors ".concat(n?"bg-[#A855F7] text-white hover:bg-[#7E22CE]":"bg-[var(--aura-surface-2)] text-[var(--aura-text-muted)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)]"),children:n?(0,r.jsx)(v.E.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},"check"):(0,r.jsx)("span",{children:"+"})})]})]})},e.id)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("h3",{className:"text-[16px] font-bold text-[var(--aura-text)] mb-1",children:["Protect everyone in your ","bike"===d?"bike":"car"]})}),(0,r.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,r.jsx)("p",{className:"text-[13px] font-semibold text-[var(--aura-text-muted)] mb-3",children:"For you"}),h.filter(e=>"personal_accident"===e.id).map((e,a)=>w(e,a))]}),(0,r.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,r.jsx)("p",{className:"text-[13px] font-semibold text-[var(--aura-text-muted)] mb-3",children:"For your loved ones"}),h.filter(e=>"passenger_protection"===e.id).map((e,a)=>w(e,a))]}),(0,r.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,r.jsx)("p",{className:"text-[13px] font-semibold text-[var(--aura-text-muted)] mb-3",children:"For your driver"}),h.filter(e=>"paid_driver"===e.id).map((e,a)=>w(e,a))]}),(0,r.jsx)(v.E.div,{initial:{scale:.98,opacity:.9},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:30},className:"mt-6 p-4 bg-[var(--aura-surface)] rounded-xl border border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"space-y-2 text-[13px]",children:[(0,r.jsxs)("div",{className:"flex justify-between text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"Base Premium"}),(0,r.jsxs)("span",{children:["₹",N.basePremium.toLocaleString()]})]}),N.totalAddons>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"Add-ons"}),(0,r.jsxs)("span",{children:["₹",N.totalAddons.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"GST (18%)"}),(0,r.jsxs)("span",{children:["₹",N.gst.toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"border-t border-[var(--aura-border)] pt-2 flex justify-between font-bold text-[var(--aura-text)] text-[15px]",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["₹",N.total.toLocaleString()]})]})]})},"total-".concat(N.totalAddons)),(0,r.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,r.jsx)("button",{onClick:()=>{t(o)},className:"flex-1 py-3 px-4 bg-[var(--aura-surface-2)] border border-[var(--aura-border)] rounded-xl text-[14px] font-semibold text-[var(--aura-text)] hover:bg-[var(--aura-surface-2)] transition-colors",children:"Continue without add-ons"}),(0,r.jsx)("button",{onClick:()=>{let e=[...o,...Array.from(u.values())];i({selectedAddOns:e}),t(e)},style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},className:"flex-1 py-3 px-4 text-white rounded-xl text-[14px] font-semibold hover:opacity-90 transition-colors active:scale-[0.98]",children:"Continue"})]})]}),(0,r.jsx)(n.M,{children:m.show&&m.addon&&(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>p({addon:null,show:!1}),children:(0,r.jsx)(v.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto bg-[var(--aura-surface)] rounded-t-3xl sm:rounded-3xl shadow-2xl border border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-[18px] font-bold text-[var(--aura-text)] mb-1",children:"Select Personal Accident coverage amount"}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-muted)] mb-5",children:"Accidents can result in death or permanent disability. A Personal Accident Cover protects the owner-driver in such situations."}),(0,r.jsx)("div",{className:"space-y-3",children:null===(a=m.addon.variants)||void 0===a?void 0:a.map(e=>{var a;return(0,r.jsxs)("button",{onClick:()=>f(m.addon,e),className:"w-full p-4 bg-[var(--aura-surface)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border)] hover:border-[#A855F7]/30 rounded-xl text-left transition-all group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-[15px] font-semibold text-[var(--aura-text)]",children:e.name}),e.recommended&&(0,r.jsx)("span",{className:"text-[10px] text-[#C084FC] bg-[#A855F7]/20 px-2 py-0.5 rounded-full",children:"Recommended"}),e.badge&&(0,r.jsx)("span",{className:"text-[10px] text-green-300 bg-green-500/30 px-2 py-0.5 rounded-full",children:e.badge})]}),(0,r.jsxs)("span",{className:"text-[16px] font-bold text-[var(--aura-text)]",children:["₹",e.price]})]}),(0,r.jsx)("ul",{className:"space-y-1",children:null===(a=e.features)||void 0===a?void 0:a.map((e,a)=>(0,r.jsxs)("li",{className:"text-[11px] text-[var(--aura-text-muted)] flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-green-400 mt-0.5",children:"•"}),(0,r.jsx)("span",{children:e})]},a))})]},e.id)})}),(0,r.jsx)("button",{onClick:()=>p({addon:null,show:!1}),className:"w-full mt-4 py-3 text-[14px] text-[var(--aura-text-muted)] hover:text-[var(--aura-text-muted)] transition-colors",children:"Cancel"})]})})})})]})}let en=[{id:"camera",label:"Click photos with camera",icon:"\uD83D\uDCF7"},{id:"gallery",label:"Upload both sides from gallery",icon:"\uD83D\uDDBC️"},{id:"pdf",label:"Upload PDF / Zip file",icon:"\uD83D\uDCC4"},{id:"digilocker",label:"Fetch from Digilocker",icon:"\uD83D\uDD12"}];function ei(e){var a;let{onContinue:t}=e,i=(0,l.x)(),o=!!(i.registrationNumber&&(null===(a=i.vehicleData)||void 0===a?void 0:a.make)),[c,d]=(0,s.useState)(o),[u,x]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),y=i.ownerName||"You",j=i.registrationNumber||"your vehicle",N=i.chassisNumber||"XXXXXXXXXXXX",w=e=>{g(null),f(h),setTimeout(()=>{"rc"===h&&d(!0),"dl"===h&&x(!0),"prev"===h&&p(!0),f(null)},900)},k=c&&u;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3 w-full max-w-sm",children:[(0,r.jsx)("p",{className:"text-[13px] font-semibold text-[var(--aura-text-muted)] uppercase tracking-wide px-1 mb-1",children:"Upload important documents"}),(0,r.jsx)("div",{className:"rounded-2xl border transition-all overflow-hidden ".concat(c?"border-green-500/40 bg-green-500/5":"border-[var(--aura-border)] bg-[var(--aura-surface)]"),children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(c?"bg-green-500/20":"bg-[var(--aura-surface-2)]"),children:(0,r.jsx)("svg",{className:"w-5 h-5 ".concat(c?"text-green-400":"text-[var(--aura-text-muted)]"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:"Registration Certificate (RC)"}),o&&c&&!b&&(0,r.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Auto-fetched ✓"}),!o&&c&&(0,r.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Uploaded ✓"})]}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:o?"Fetched from Vahan portal":"Upload RC for ".concat(j)})]})]}),o&&c&&(0,r.jsxs)("div",{className:"bg-[var(--aura-surface-2)] rounded-xl px-3 py-2.5 mb-3 space-y-1.5",children:[(0,r.jsxs)("div",{className:"flex justify-between text-[12px]",children:[(0,r.jsx)("span",{className:"text-[var(--aura-text-subtle)]",children:"Registration holder"}),(0,r.jsx)("span",{className:"text-[var(--aura-text)] font-medium",children:y})]}),(0,r.jsxs)("div",{className:"flex justify-between text-[12px]",children:[(0,r.jsx)("span",{className:"text-[var(--aura-text-subtle)]",children:"Vehicle number"}),(0,r.jsx)("span",{className:"text-[var(--aura-text)] font-medium",children:j})]}),(0,r.jsxs)("div",{className:"flex justify-between text-[12px]",children:[(0,r.jsx)("span",{className:"text-[var(--aura-text-subtle)]",children:"Chassis no."}),(0,r.jsx)("span",{className:"text-[var(--aura-text)] font-medium",children:N})]})]}),"rc"===b?(0,r.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-[#A855F7] border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{className:"text-[13px] text-[var(--aura-text-subtle)]",children:"Uploading..."})]}):(0,r.jsx)("button",{onClick:()=>g("rc"),className:"text-[13px] text-[#A855F7] hover:text-[#C084FC] font-medium transition-colors",children:c?"Re-upload ↗":"Upload file ↑"})]})}),(0,r.jsx)("div",{className:"rounded-2xl border transition-all overflow-hidden ".concat(u?"border-green-500/40 bg-green-500/5":"border-[var(--aura-border)] bg-[var(--aura-surface)]"),children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(u?"bg-green-500/20":"bg-[var(--aura-surface-2)]"),children:(0,r.jsx)("svg",{className:"w-5 h-5 ".concat(u?"text-green-400":"text-[var(--aura-text-muted)]"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:"Driving Licence (DL)"}),u&&(0,r.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Uploaded ✓"})]}),(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:["Upload DL for ",y]})]})]}),"dl"===b?(0,r.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-[#A855F7] border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{className:"text-[13px] text-[var(--aura-text-subtle)]",children:"Uploading..."})]}):(0,r.jsx)("button",{onClick:()=>g("dl"),className:"text-[13px] text-[#A855F7] hover:text-[#C084FC] font-medium transition-colors",children:u?"Re-upload ↗":"Upload file ↑"})]})}),(0,r.jsx)("div",{className:"rounded-2xl border transition-all overflow-hidden ".concat(m?"border-green-500/40 bg-green-500/5":"border-[var(--aura-border)] bg-[var(--aura-surface)]"),children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(m?"bg-green-500/20":"bg-[var(--aura-surface-2)]"),children:(0,r.jsx)("svg",{className:"w-5 h-5 ".concat(m?"text-green-400":"text-[var(--aura-text-muted)]"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:"Previous Year's Policy"}),m&&(0,r.jsx)("span",{className:"text-[10px] font-semibold text-green-400 bg-green-500/15 px-2 py-0.5 rounded-full",children:"Uploaded ✓"}),(0,r.jsx)("span",{className:"text-[10px] text-[var(--aura-text-subtle)] bg-[var(--aura-surface-2)] px-2 py-0.5 rounded-full",children:"Optional"})]}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)]",children:"Helps speed up claim processing"})]})]}),"prev"===b?(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-[#A855F7] border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{className:"text-[13px] text-[var(--aura-text-subtle)]",children:"Uploading..."})]}):(0,r.jsx)("button",{onClick:()=>g("prev"),className:"mt-3 text-[13px] text-[#A855F7] hover:text-[#C084FC] font-medium transition-colors",children:m?"Replace ↗":"+ Add more"})]})}),(0,r.jsxs)("p",{className:"text-[12px] text-center text-[var(--aura-text-subtle)] py-1",children:["Incorrect details?"," ",(0,r.jsx)("button",{className:"text-[#A855F7] underline underline-offset-2",children:"Update here"})]}),(0,r.jsx)("button",{onClick:()=>k&&t({rcUploaded:c,dlUploaded:u,prevPolicyUploaded:m}),disabled:!k,style:k?{background:"linear-gradient(135deg, #A855F7, #7E22CE)"}:{},className:"w-full py-4 rounded-xl text-[15px] font-bold transition-all ".concat(k?"text-white hover:opacity-90 active:scale-[0.97]":"bg-[var(--aura-surface-2)] text-[var(--aura-text-subtle)] cursor-not-allowed"),children:k?"Proceed →":"Upload ".concat(c?"DL":"RC"," to continue")}),(0,r.jsx)("button",{className:"w-full py-2 text-[13px] text-[var(--aura-text-subtle)] hover:text-[var(--aura-text-muted)] transition-colors",children:"Save and continue later"})]}),(0,r.jsx)(n.M,{children:h&&(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>g(null),children:(0,r.jsx)(v.E.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[45vh] overflow-y-auto bg-[var(--aura-surface)] rounded-t-3xl sm:rounded-3xl shadow-2xl border border-[var(--aura-border)]",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-[16px] font-semibold text-[var(--aura-text)] mb-1",children:"Select a source"}),(0,r.jsx)("p",{className:"text-[12px] text-[var(--aura-text-subtle)] mb-5",children:"in PNG, JPEG, or PDF format (Max 10 MB)"}),(0,r.jsx)("div",{className:"space-y-2",children:en.map(e=>(0,r.jsxs)("button",{onClick:()=>w(e.id),className:"w-full flex items-center gap-4 p-4 bg-[var(--aura-surface-2)] hover:bg-[var(--aura-surface-hover)] border border-[var(--aura-border)] hover:border-[#A855F7]/30 rounded-xl transition-all text-left",children:[(0,r.jsx)("span",{className:"text-2xl w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 bg-[var(--aura-surface-2)]",children:e.icon}),(0,r.jsx)("span",{className:"text-[14px] font-medium text-[var(--aura-text)]",children:e.label}),(0,r.jsx)("svg",{className:"w-4 h-4 text-[var(--aura-text-subtle)] ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]},e.id))}),(0,r.jsx)("button",{onClick:()=>g(null),className:"w-full mt-4 py-3 text-[14px] text-[var(--aura-text-muted)] hover:text-[var(--aura-text)] transition-colors",children:"Cancel"})]})})})})]})}function el(e){let{onContinue:a}=e,{selectedPlan:t,selectedAddOns:s=[],vehicleData:n}=(0,l.x)(),i=(null==t?void 0:t.basePrice)||0,o=(null==t?void 0:t.gst)||0,c=s||[],d=c.reduce((e,a)=>e+(a.price||0),0),u=Math.round(.18*d);return(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h3",{className:"text-[18px] font-bold text-[var(--aura-text)] mb-2",children:"Your Final Premium"}),(0,r.jsxs)("p",{className:"text-[13px] text-[var(--aura-text-muted)]",children:["Complete breakdown of your ",(null==t?void 0:t.name)||"insurance plan"]})]}),(0,r.jsxs)("div",{className:"bg-[var(--aura-surface)] border border-[#A855F7]/20 rounded-2xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 pb-4 mb-4 border-b border-[var(--aura-border)]",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-[var(--aura-surface-2)] rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-[var(--aura-text)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125v-9M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:[n.make," ",n.model]}),(0,r.jsxs)("p",{className:"text-[12px] text-[var(--aura-text-muted)]",children:[n.variant," • ",n.registrationYear]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)]",children:null==t?void 0:t.name}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)] mt-0.5",children:null==t?void 0:t.description})]}),(0,r.jsxs)("p",{className:"text-[14px] font-bold text-[var(--aura-text)] ml-4",children:["₹",i.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-[12px] text-[var(--aura-text-muted)]",children:[(0,r.jsx)("span",{children:"GST (18%)"}),(0,r.jsxs)("span",{children:["₹",o.toLocaleString()]})]})]}),c.length>0&&(0,r.jsxs)("div",{className:"border-t border-[var(--aura-border)] pt-4 mb-4",children:[(0,r.jsxs)("p",{className:"text-[13px] font-semibold text-[var(--aura-text-muted)] mb-3",children:["Selected Add-ons (",c.length,")"]}),c.map((e,a)=>(0,r.jsxs)("div",{className:"flex justify-between text-[12px] text-[var(--aura-text-muted)] mb-2",children:[(0,r.jsx)("span",{children:e.id.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,r.jsxs)("span",{children:["₹",e.price.toLocaleString()]})]},a)),(0,r.jsxs)("div",{className:"flex justify-between text-[12px] text-[var(--aura-text-muted)] mt-2",children:[(0,r.jsx)("span",{children:"GST on add-ons (18%)"}),(0,r.jsxs)("span",{children:["₹",u.toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"border-t-2 border-[#A855F7]/20 pt-4 mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-[15px] font-bold text-[var(--aura-text)]",children:"Total Premium"}),(0,r.jsxs)("span",{className:"text-[24px] font-bold text-[var(--aura-text)]",children:["₹",(i+o+d+u).toLocaleString()]})]}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-subtle)] mt-1",children:"For 1 year policy term"})]})]}),(0,r.jsxs)("div",{className:"bg-[var(--aura-surface)] rounded-xl p-4 border border-[var(--aura-border)]",children:[(0,r.jsx)("p",{className:"text-[12px] font-semibold text-[var(--aura-text-muted)] mb-3",children:"What's included:"}),(0,r.jsx)("div",{className:"space-y-2",children:null==t?void 0:t.features.slice(0,4).map((e,a)=>{let[t]=e.split(" — ");return(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,r.jsx)("span",{className:"text-[11px] text-[var(--aura-text-muted)]",children:t})]},a)})})]}),(0,r.jsx)("button",{onClick:a,className:"w-full py-4 rounded-xl text-[15px] font-bold text-white hover:opacity-90 transition-opacity active:scale-[0.98] shadow-lg shadow-black/30",style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},children:"Proceed to Payment"})]})}function eo(e){let{onSelect:a}=e;return(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>a("dashboard"),className:"w-full p-4 bg-[var(--aura-surface-2)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border-strong)] hover:border-[#A855F7]/30 rounded-xl text-left transition-all group",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-[#A855F7]/15 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-[#C084FC]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)] mb-0.5",children:"Go to Dashboard"}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)]",children:"View policy details & manage claims"})]}),(0,r.jsx)("svg",{className:"w-5 h-5 text-[var(--aura-text-subtle)] group-hover:text-[var(--aura-text-muted)] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})}),(0,r.jsx)("button",{onClick:()=>a("download"),className:"w-full p-4 bg-[var(--aura-surface-2)] hover:bg-[var(--aura-surface-2)] border border-[var(--aura-border-strong)] hover:border-[#A855F7]/30 rounded-xl text-left transition-all group",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-[14px] font-semibold text-[var(--aura-text)] mb-0.5",children:"Download Policy"}),(0,r.jsx)("p",{className:"text-[11px] text-[var(--aura-text-muted)]",children:"Get your policy document as PDF"})]}),(0,r.jsx)("svg",{className:"w-5 h-5 text-[var(--aura-text-subtle)] group-hover:text-[var(--aura-text-muted)] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})})]})}var ec=t(7684);function ed(e){let{onContinue:a}=e,[t,n]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setTimeout(()=>n(!1),3e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{if(a){let e=setTimeout(()=>a(),3500);return()=>clearTimeout(e)}},[a]),(0,r.jsxs)(v.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative py-8",children:[t&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:30}).map((e,a)=>(0,r.jsx)(v.E.div,{initial:{y:-20,x:300*Math.random(),opacity:1},animate:{y:600,opacity:0,rotate:720*Math.random()},transition:{duration:2+2*Math.random(),delay:.5*Math.random(),ease:"linear"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:["#A855F7","#C084FC","#22C55E","#3B82F6","#EC4899"][Math.floor(5*Math.random())]}},a))}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(v.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10,stiffness:200,delay:.2},className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #22C55E, #16A34A)",boxShadow:"0 8px 24px rgba(34,197,94,0.3)"},children:(0,r.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,r.jsx)(v.E.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-[22px] font-bold mb-3",style:{color:"var(--aura-text)"},children:"Payment Successful!"}),(0,r.jsxs)(v.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-[14px] mb-6 leading-relaxed",style:{color:"var(--aura-text-muted)"},children:["Your motor insurance is now active.",(0,r.jsx)("br",{}),"Welcome to ACKO!"]}),(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"rounded-xl p-4",style:{background:"var(--aura-surface)",border:"1px solid var(--aura-border)"},children:[(0,r.jsx)("p",{className:"text-[12px] mb-2",style:{color:"var(--aura-text-subtle)"},children:"Policy Number"}),(0,r.jsxs)("p",{className:"text-[16px] font-bold",style:{color:"var(--aura-text)"},children:["ACKO/MOT/",Math.floor(9e6*Math.random()+1e6)]})]})]})]})}function eu(){let{currentStepId:e,conversationHistory:a,isTyping:t,addMessage:i,updateState:o,trimAndUpdateFromStep:c}=(0,l.x)(),d=(0,s.useRef)(null),u=(0,s.useRef)(new Set),[x,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)({stepId:"",visible:!1}),[y,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{setTimeout(()=>{var e;null===(e=d.current)||void 0===e||e.scrollTo({top:d.current.scrollHeight,behavior:"smooth"})},100)},[a,t,x]),(0,s.useEffect)(()=>{let a=(0,g.p)(e);if(!a)return;let t=l.x.getState();if(a.condition&&!a.condition(t)){let e=a.getNextStep(null,t),r=(0,g.p)(e);o({currentStepId:e,currentModule:(null==r?void 0:r.module)||t.currentModule});return}let r="".concat(e,"-").concat(t.conversationHistory.length);if(u.current.has(r))return;u.current.add(r);let s=a.getScript(t);(async()=>{m(!1),o({isTyping:!0});let t=s.botMessages.join("\n\n"),r=600+Math.min(12*t.length,2e3);if(await new Promise(e=>setTimeout(e,r)),i({type:"bot",content:t,stepId:e,module:a.module}),o({isTyping:!1}),"none"===a.widgetType){await new Promise(e=>setTimeout(e,400));let t=l.x.getState(),r=a.getNextStep(null,t);if(r===e)return;let s=(0,g.p)(r);o({currentStepId:r,currentModule:(null==s?void 0:s.module)||t.currentModule});return}m(!0)})()},[e]);let N=e=>{h({stepId:e,visible:!0})},S=(0,s.useCallback)(e=>{if(!y)return;let a=(0,g.p)(y);if(!a)return;let t=l.x.getState(),r=a.getScript(t),s=String(e);if(r.options){let a=r.options.find(a=>a.id===e);a&&(s=a.label)}if("plan_selector"===a.widgetType){var n;s="Selected: ".concat((null===(n=e.plan)||void 0===n?void 0:n.name)||"plan")}c(y,s);let i=a.processResponse(e,t),d={...t,...i};o(i),j(null),m(!1),u.current.clear();let x=a.getNextStep(e,d),p=(0,g.p)(x);setTimeout(()=>{o({currentStepId:x,currentModule:(null==p?void 0:p.module)||d.currentModule})},300)},[y,c]),_=(0,s.useCallback)(a=>{var t,r,s,n;let c=(0,g.p)(e);if(!c)return;let d=l.x.getState(),u=c.getScript(d),x=String(a);if(u.options){let e=u.options.find(e=>e.id===a);e&&(x=e.label)}if("progressive_loader"===c.widgetType)x="success"===a?"Vehicle found!":"Details not found";else if("vehicle_details_card"===c.widgetType)x="Confirmed vehicle details";else if("ncb_reward"===c.widgetType)x="NCB reward applied!";else if("editable_summary"===c.widgetType)x="Confirmed — view prices";else if("plan_calculator"===c.widgetType)x="";else if("plan_selector"===c.widgetType){if("help_choose"===a)x="Help me choose a plan";else{let e=(null===(t=a.plan)||void 0===t?void 0:t.name)||"plan";x="Selected: ".concat(e)}}else if("plan_recommendation"===c.widgetType){if("back_to_plans"===a)x="View all plans";else{let e=(null===(r=a.plan)||void 0===r?void 0:r.name)||"plan";x="Selected: ".concat(e)}}else if("out_of_pocket_addons"===c.widgetType){let e=(null===(s=a.addons)||void 0===s?void 0:s.length)||0;x=e>0?"Added ".concat(e," add-on").concat(e>1?"s":""):"Continue without add-ons"}else if("protect_everyone_addons"===c.widgetType){let e=(null===(n=a.addons)||void 0===n?void 0:n.length)||0;x=e>0?"Added ".concat(e," protection cover").concat(e>1?"s":""):"Continue without add-ons"}else"premium_breakdown"===c.widgetType?x="Proceed to payment":"motor_celebration"===c.widgetType?x="":"dashboard_cta"===c.widgetType?x="dashboard"===a.choice?"Go to Dashboard":"Download Policy":"safety_condition_picker"===c.widgetType?x=a.length>0?"".concat(a.length," safety issue").concat(a.length>1?"s":""," noted"):"No specific conditions":"damage_photo_capture"===c.widgetType?x=(null==a?void 0:a.photosUploaded)?"Damage photos uploaded":"Skipped photo upload":"self_inspection"===c.widgetType?x="Self inspection completed":"surveyor_assigned"===c.widgetType?x="Surveyor acknowledged":"claim_heartbeat"===c.widgetType?x="":"settlement_offer"===c.widgetType?x="number"==typeof a?"Accepted ₹".concat(a.toLocaleString("en-IN")):"Declined offer":"garage_selector_claim"===c.widgetType?x="Selected: ".concat({gomechanic:"GoMechanic, Sector 29",carnation:"Carnation Auto, Cyber City",pitstop:"Pit Stop, MG Road",autobahn:"Autobahn Motors, DLF Phase 3",outside_network:"Other garage"}[a]||a):"reimbursement_upload"===c.widgetType?x="Invoice submitted for reimbursement":"claim_closure"===c.widgetType&&(x="");x&&i({type:"user",content:x,stepId:e,module:c.module,editable:!0});let p=c.processResponse(a,l.x.getState()),h={...l.x.getState(),...p};o(p),m(!1);let v=c.getNextStep(a,h),b=(0,g.p)(v);setTimeout(()=>{o({currentStepId:v,currentModule:(null==b?void 0:b.module)||h.currentModule})},300)},[e]),M=()=>{let a=(0,g.p)(e);if(!a||!x)return null;let t=l.x.getState(),s=a.getScript(t);switch(a.widgetType){case"selection_cards":return(0,r.jsx)(w,{options:s.options||[],onSelect:_});case"vehicle_reg_input":return(0,r.jsx)(k,{placeholder:s.placeholder,onSubmit:_});case"text_input":return(0,r.jsx)(C,{placeholder:s.placeholder,inputType:s.inputType||"text",onSubmit:_});case"number_input":return(0,r.jsx)(C,{placeholder:s.placeholder,inputType:"number",onSubmit:_});case"progressive_loader":return(0,r.jsx)(A,{onComplete:_});case"vehicle_details_card":return(0,r.jsx)(F,{onConfirm:()=>_("confirmed")});case"brand_selector":return(0,r.jsx)(L,{onSelect:_});case"model_selector":return(0,r.jsx)(z,{onSelect:_});case"variant_selector":return(0,r.jsx)(V,{onSelect:_});case"year_selector":return(0,r.jsx)(H,{onSelect:_});case"ncb_selector":return(0,r.jsx)(U,{onSelect:_});case"ncb_reward":return(0,r.jsx)(O,{onContinue:()=>_("continue")});case"insurer_selector":return(0,r.jsx)(X,{onSelect:_});case"editable_summary":return(0,r.jsx)(Y,{onConfirm:()=>_("confirmed")});case"rejection_screen":return(0,r.jsx)(Z,{});case"plan_calculator":return(0,r.jsx)(Q,{onComplete:_});case"plan_selector":return(0,r.jsx)($,{onSelect:_});case"plan_recommendation":return(0,r.jsx)(et,{onSelect:_});case"out_of_pocket_addons":return(0,r.jsx)(er,{onContinue:e=>_({addons:e})});case"protect_everyone_addons":return(0,r.jsx)(es,{onContinue:e=>_({addons:e})});case"premium_breakdown":return(0,r.jsx)(el,{onContinue:()=>_({})});case"motor_celebration":return(0,r.jsx)(ed,{onContinue:()=>_({})});case"dashboard_cta":return(0,r.jsx)(eo,{onSelect:e=>_({choice:e})});case"document_upload":return(0,r.jsx)(ei,{onContinue:e=>_(e)});case"safety_condition_picker":return(0,r.jsx)(ec.PK,{onContinue:e=>_(e)});case"damage_photo_capture":return(0,r.jsx)(ec.si,{onContinue:e=>_(e)});case"self_inspection":return(0,r.jsx)(ec.wu,{onComplete:e=>_(e)});case"surveyor_assigned":return(0,r.jsx)(ec.EW,{onContinue:()=>_("acknowledged")});case"claim_heartbeat":{let e=l.x.getState(),a=e.dashboardSubmittedClaims[e.dashboardSubmittedClaims.length-1];return(0,r.jsx)(ec.sO,{claimType:null==a?void 0:a.type,onContinue:()=>_("done")})}case"settlement_offer":return(0,r.jsx)(ec.he,{onAccept:e=>_(e),onDecline:()=>_("declined")});case"garage_selector_claim":return(0,r.jsx)(ec.Fr,{onSelect:e=>_(e)});case"reimbursement_upload":return(0,r.jsx)(ec.H_,{onContinue:e=>_(e)});case"claim_closure":return(0,r.jsx)(ec.BS,{onContinue:()=>_("done")});default:return null}},E=()=>{let a=(0,g.p)(e);return!!a&&["progressive_loader","vehicle_details_card","ncb_reward","editable_summary","rejection_screen","plan_calculator","plan_selector","plan_recommendation","out_of_pocket_addons","protect_everyone_addons","premium_breakdown","motor_celebration","dashboard_cta","document_upload","self_inspection","surveyor_assigned","claim_heartbeat","settlement_offer","claim_closure"].includes(a.widgetType)};return(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 aura-chat-bg",children:[(0,r.jsx)("div",{ref:d,className:"flex-1 overflow-y-auto px-6 py-6",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,r.jsx)(n.M,{initial:!1,children:a.map((e,s)=>{let n="bot"===e.type&&s===a.length-1&&!t;return(0,r.jsx)(b,{message:e,onEdit:N,animate:n},e.id)})}),t&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(f,{})}),(0,r.jsx)(n.M,{children:x&&E()&&(0,r.jsx)(v.E.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"mt-2 mb-4 ml-11",children:M()})}),(0,r.jsx)("div",{className:"h-4"})]})}),(0,r.jsx)(n.M,{children:x&&!E()&&(0,r.jsx)(v.E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{type:"spring",damping:28,stiffness:350},className:"shrink-0 aura-widget-glass max-h-[45vh] overflow-y-auto",children:(0,r.jsx)("div",{className:"max-w-lg mx-auto px-6 py-5 pb-8",children:M()})})}),(0,r.jsx)(n.M,{children:p.visible&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:.6},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:()=>h({stepId:"",visible:!1})}),(0,r.jsx)(v.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-x-4 top-1/2 -translate-y-1/2 max-w-sm mx-auto rounded-2xl shadow-2xl z-50 p-6",style:{background:"var(--aura-surface)",border:"1px solid var(--aura-border)"},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"var(--aura-surface-2)"},children:(0,r.jsx)("svg",{className:"w-6 h-6",style:{color:"#C084FC"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,r.jsx)("h3",{className:"text-[16px] font-semibold mb-2",style:{color:"var(--aura-text)"},children:"Edit this answer?"}),(0,r.jsx)("p",{className:"text-[13px] mb-6",style:{color:"var(--aura-text-subtle)"},children:"The conversation will continue from this point with your updated answer."}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>h({stepId:"",visible:!1}),className:"flex-1 py-2.5 rounded-xl text-[14px] font-medium transition-colors",style:{border:"1px solid var(--aura-border-strong)",color:"var(--aura-text-muted)"},children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{let{stepId:e}=p;h({stepId:"",visible:!1}),j(e)},className:"flex-1 py-2.5 rounded-xl text-[14px] font-medium text-white transition-colors",style:{background:"linear-gradient(135deg, #A855F7, #7E22CE)"},children:"Edit answer"})]})]})})]})}),(0,r.jsx)(n.M,{children:y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:()=>j(null)}),(0,r.jsxs)(v.E.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,y:60},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-x-0 z-50 shadow-2xl px-6 py-6 max-w-lg mx-auto ".concat((()=>{if(!y)return!1;let e=(0,g.p)(y);return["brand_selector","model_selector","variant_selector","year_selector","ncb_selector","insurer_selector","plan_selector","out_of_pocket_addons","protect_everyone_addons"].includes((null==e?void 0:e.widgetType)||"")})()?"bottom-0 top-16 rounded-t-[32px] overflow-y-auto pb-10":"bottom-0 rounded-t-[32px] pb-10 max-h-[45vh] overflow-y-auto"),style:{background:"var(--aura-surface)",borderTop:"1px solid var(--aura-border)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h4",{className:"text-[14px] font-semibold",style:{color:"var(--aura-text-muted)"},children:"Update your answer"}),(0,r.jsx)("button",{onClick:()=>j(null),className:"transition-colors",style:{color:"var(--aura-text-subtle)"},children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(()=>{if(!y)return null;let e=(0,g.p)(y);if(!e)return null;let a=l.x.getState(),t=e.getScript(a);switch(e.widgetType){case"selection_cards":return(0,r.jsx)(w,{options:t.options||[],onSelect:S});case"vehicle_reg_input":return(0,r.jsx)(k,{placeholder:t.placeholder,onSubmit:S});case"text_input":return(0,r.jsx)(C,{placeholder:t.placeholder,inputType:t.inputType||"text",onSubmit:S});case"number_input":return(0,r.jsx)(C,{placeholder:t.placeholder,inputType:"number",onSubmit:S});case"brand_selector":return(0,r.jsx)(L,{onSelect:S});case"model_selector":return(0,r.jsx)(z,{onSelect:S});case"variant_selector":return(0,r.jsx)(V,{onSelect:S});case"year_selector":return(0,r.jsx)(H,{onSelect:S});case"ncb_selector":return(0,r.jsx)(U,{onSelect:S});case"insurer_selector":return(0,r.jsx)(X,{onSelect:S});case"plan_selector":return(0,r.jsx)($,{onSelect:S});case"out_of_pocket_addons":return(0,r.jsx)(er,{onContinue:e=>S({addons:e})});case"protect_everyone_addons":return(0,r.jsx)(es,{onContinue:e=>S({addons:e})});default:return null}})()]})]})})]})}var ex=t(9094);function em(){let{updateState:e,resetJourney:a}=(0,l.x)(),t=(0,o.f)(e=>e.theme),d=(0,i.useSearchParams)(),u=d.get("mode"),x=d.get("vehicle"),m="explore"===u?"explore":"chat",[p,v]=(0,s.useState)(m),[g,b]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{a(),"chat"===m&&e({vehicleType:"bike"===x?"bike":"car",currentStepId:"registration.has_number",currentModule:"registration"}),b(!0)},[]),g)?(0,r.jsxs)("div",{className:"light"===t?"aura-light":"aura-dark",children:[(0,r.jsx)(ex.$,{}),(0,r.jsx)(ex.z,{}),(0,r.jsxs)(n.M,{mode:"wait",children:["explore"===p&&(0,r.jsx)(c.Z,{initialVehicle:"bike"===x?"bike":"car",onStartJourney:t=>{a(),e({vehicleType:t,currentStepId:"registration.has_number",currentModule:"registration"}),v("chat")},onJumpTo:(t,r)=>{a();let s=t.startsWith("db.");"vehicle_type.select"!==t&&function(e){let a="car"===e,{updateState:t}=l.x.getState();t({vehicleType:e,userName:"Rahul",registrationNumber:a?"DL01XX1234":"KA05AB9876",vehicleEntryType:"existing",vehicleDataSource:"auto_fetched",autoFetchSuccess:!0,vehicleData:{make:a?"Maruti":"Royal Enfield",model:a?"Swift Dzire":"Classic 350",variant:a?"LXI":"Dual Channel",fuelType:"petrol",registrationYear:2021,registrationMonth:"March",hasCngKit:!1,isCommercialVehicle:!1},previousPolicy:{insurer:"TATA AIG",expiryDate:"28/06/2024",policyType:"comprehensive",ncbPercentage:35,hadClaims:!1},policyStatus:"active",preQuoteComplete:!0,selectedPlanType:"comprehensive",selectedGarageTier:"network",selectedPlan:{name:"Comprehensive (Network)",type:"comprehensive",garageTier:"network",odPremium:a?5400:1800,tpPremium:a?2094:714,ncbDiscount:a?1890:630,totalPrice:a?7500:2500,addOnsAvailable:a?["engine_protection","extra_car_protection","consumables_cover","personal_accident","passenger_protection","paid_driver"]:["engine_protection","consumables_cover","personal_accident","passenger_protection","paid_driver"],features:["Own Damage cover — Accident, fire, theft, natural calamity","Third-party liability — Mandatory legal coverage","Cashless claims at 5,400+ garages — No upfront payment","Personal Accident cover — ₹15 lakh for owner-driver"],notCovered:["Normal wear and tear","Mechanical or electrical breakdown","Driving without valid license","Consequential damage"]},selectedAddOns:[],availablePlans:[],idv:a?75e4:175e3,idvMin:a?675e3:157500,idvMax:a?787500:183750,paymentComplete:!1,totalPremium:a?7500:2500})}(r),s?e({vehicleType:r,paymentComplete:!0,journeyComplete:!1,currentStepId:t,currentModule:"dashboard"}):e({vehicleType:r,currentStepId:t,currentModule:{"vehicle_type.select":"vehicle_type","registration.has_number":"registration","registration.enter_number":"registration","manual_entry.congratulations":"manual_entry","quote.plan_selection":"quote","addons.out_of_pocket":"addons","review.premium_breakdown":"review"}[t]||"vehicle_type"}),v("chat")}},"explore"),"chat"===p&&(0,r.jsxs)("div",{className:"h-screen flex flex-col overflow-hidden",style:{background:"var(--aura-bg)"},children:[(0,r.jsx)(h,{}),(0,r.jsx)(eu,{})]},"chat")]})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#121214"},children:(0,r.jsx)("div",{className:"w-8 h-8 border-3 border-t-transparent rounded-full animate-spin",style:{borderColor:"#A855F7",borderTopColor:"transparent"}})})}function ep(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#121214"},children:(0,r.jsx)("div",{className:"w-8 h-8 border-3 border-t-transparent rounded-full animate-spin",style:{borderColor:"#A855F7",borderTopColor:"transparent"}})}),children:(0,r.jsx)(em,{})})}}},function(e){e.O(0,[582,595,459,760,971,117,744],function(){return e(e.s=5595)}),_N_E=e.O()}]);