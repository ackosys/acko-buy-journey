"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{1098:function(e,t,s){s.d(t,{Mk:function(){return c},ZP:function(){return u},gf:function(){return l},h9:function(){return d}});var a=s(7437),r=s(2265),i=s(521),n=s(8614);function l(e,t){var s;let i=null!==(s=null==t?void 0:t.skipIntro)&&void 0!==s&&s,[n,l]=(0,r.useState)(i?"aadhaar_input":"intro"),[d,c]=(0,r.useState)([]),[x,u]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[p,f]=(0,r.useState)(0),[b,j]=(0,r.useState)(!1),[v,w]=(0,r.useState)(60),g=(0,r.useCallback)(e=>{let t={id:"ekyc-bot-".concat(Date.now(),"-").concat(Math.random()),type:"bot",content:e,timestamp:new Date};c(e=>[...e,t])},[]),y=(0,r.useCallback)(e=>{let t={id:"ekyc-user-".concat(Date.now(),"-").concat(Math.random()),type:"user",content:e,timestamp:new Date};c(e=>[...e,t])},[]);(0,r.useEffect)(()=>{if(i){g((0,a.jsx)(o,{}));return}let e=!0;return(async()=>{await new Promise(e=>setTimeout(e,300)),e&&(g("Payment received – your coverage of ₹1.0 Cr is reserved for you. \uD83C\uDF89"),await new Promise(e=>setTimeout(e,700)),e)&&(g("Now let's complete your e-KYC. It's mandatory for policy issuance and takes under 2 minutes."),await new Promise(e=>setTimeout(e,700)),e)&&(g("You'll need your **Aadhaar number** and access to the **mobile linked with Aadhaar**."),await new Promise(e=>setTimeout(e,700)),e&&(g((0,a.jsx)(o,{})),e&&l("aadhaar_input")))})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{if("otp_input"===n&&!b&&v>0){let e=setInterval(()=>{w(e=>e<=1?(j(!0),0):e-1)},1e3);return()=>clearInterval(e)}},[n,b,v]);let N=e=>{let t=e.replace(/\s/g,"");return t.length<12?"Please enter a valid 12-digit Aadhaar number":/^0/.test(t)?"Aadhaar number cannot start with 0":/^1/.test(t)?"Aadhaar number cannot start with 1":""};return{state:{step:n,messages:d,aadhaar:x,otp:h,otpAttempts:p,otpExpired:b,timerSeconds:v},actions:{setAadhaar:u,setOtp:m,handleAadhaarSubmit:()=>{let e=N(x);if(e){g("❌ ".concat(e));return}y(x),l("sending_otp"),setTimeout(()=>{g("Sending OTP to your Aadhaar-linked mobile...")},300),setTimeout(()=>{g("OTP sent to your mobile linked with ".concat("XXXX XXXX I 32")),l("otp_input"),w(60),j(!1)},2e3)},handleOtpSubmit:()=>{let t=h.replace(/\D/g,"");if(t.length<6){g("❌ Please enter the complete 6-digit OTP");return}if(b){g("❌ OTP has expired. Please request a new one.");return}y(h.replace(/(\d{1})(\d{1})(\d{1})(\d{1})(\d{1})(\d{1})/,"• • • • • •")),l("verifying"),setTimeout(()=>{g("Verifying OTP...")},300),setTimeout(()=>{if("123456"===t)g((0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center py-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-emerald-500/20 flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Identity Verified"}),(0,a.jsx)("p",{className:"text-purple-200/70 text-sm",children:"e-KYC completed successfully"})]}),(0,a.jsx)("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center shrink-0",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-white font-semibold text-sm mb-0.5",children:"Aadhaar KYC Complete"}),(0,a.jsxs)("p",{className:"text-emerald-300/70 text-xs",children:["Linked to ","XXXX XXXX I 32"]})]})]})}),(0,a.jsx)("p",{className:"text-center text-purple-200/60 text-sm",children:"Proceeding to next step..."})]})),l("success"),setTimeout(()=>e(),3e3);else{let e=p+1;f(e),e>=3?g("❌ Maximum OTP attempts reached. Please try again later or contact support at 1800 266 5433."):(g("❌ Incorrect OTP. ".concat(3-e," attempt").concat(3-e>1?"s":""," remaining.")),m(""),l("otp_input"))}},2e3)},handleResendOtp:()=>{g("Resending OTP..."),m(""),j(!1),w(60),setTimeout(()=>{g("New OTP sent to XXXX XXXX I 32")},1500)}}}}function o(){return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-purple-500/20 flex items-center justify-center shrink-0",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-white font-semibold text-sm mb-1",children:"e-KYC Verification"}),(0,a.jsx)("p",{className:"text-purple-200/70 text-xs",children:"Aadhaar-based identity verification"})]})]}),(0,a.jsx)("div",{className:"space-y-2.5",children:["Enter your 12-digit Aadhaar number","OTP sent to your Aadhaar-linked mobile","Verified instantly – takes under 2 minutes"].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-2.5",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center shrink-0 text-xs font-semibold text-white",children:t+1}),(0,a.jsx)("p",{className:"text-white/90 text-sm pt-0.5",children:e})]},t))}),(0,a.jsxs)("div",{className:"flex items-start gap-2 bg-white/5 rounded-xl px-3 py-2.5 border border-white/10",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-purple-300 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),(0,a.jsx)("p",{className:"text-xs text-white/60 leading-relaxed",children:"Your Aadhaar data is encrypted and transmitted securely to UIDAI. ACKO does not store your Aadhaar number."})]})]})}function d(e){let{messages:t}=e;return(0,a.jsx)(a.Fragment,{children:t.map(e=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4 ".concat("user"===e.type?"flex justify-end":"flex items-start gap-3"),children:["bot"===e.type&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center shrink-0 mt-1",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})})}),(0,a.jsx)("div",{className:"rounded-2xl px-4 py-3 ".concat("user"===e.type?"bg-white text-gray-900 max-w-[75%]":"bg-white/10 backdrop-blur-sm border border-white/10 text-white flex-1"),children:"string"==typeof e.content?(0,a.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-line",children:e.content}):e.content})]},e.id))})}function c(e){let{state:t,actions:s}=e;return"aadhaar_input"===t.step?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-center mb-2",children:(0,a.jsx)("p",{className:"text-xs text-purple-200/70",children:"Enter your 12-digit Aadhaar number"})}),(0,a.jsx)("input",{type:"tel",inputMode:"numeric",value:t.aadhaar,onChange:e=>s.setAadhaar(e.target.value.replace(/\D/g,"").slice(0,12).replace(/(\d{4})(?=\d)/g,"$1 ").trim()),onKeyDown:e=>"Enter"===e.key&&s.handleAadhaarSubmit(),placeholder:"1234 5678 9012",className:"w-full px-4 py-3.5 bg-white/10 border border-white/20 rounded-xl text-sm text-white placeholder:text-white/40 focus:outline-none focus:border-purple-400 focus:bg-white/15 transition-colors",autoFocus:!0}),(0,a.jsx)("button",{onClick:s.handleAadhaarSubmit,disabled:12!==t.aadhaar.replace(/\s/g,"").length,className:"w-full py-3.5 bg-white text-[#1C0B47] rounded-xl text-sm font-semibold hover:bg-white/90 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:"Start e-KYC"}),(0,a.jsx)(x,{})]}):"otp_input"===t.step?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-center mb-3",children:[(0,a.jsxs)("p",{className:"text-xs text-purple-200/70 mb-2",children:["OTP sent to ","XXXX XXXX I 32"]}),!t.otpExpired&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-purple-400 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-semibold text-purple-300",children:t.timerSeconds})}),(0,a.jsxs)("span",{className:"text-xs text-purple-300",children:["OTP expires in ",t.timerSeconds,"s"]})]}),t.otpExpired&&(0,a.jsx)("p",{className:"text-xs text-red-400",children:"⚠️ OTP has expired"})]}),(0,a.jsx)("div",{className:"flex gap-2 justify-center",children:[0,1,2,3,4,5].map(e=>(0,a.jsx)("input",{type:"tel",inputMode:"numeric",maxLength:1,value:t.otp[e]||"",onChange:a=>{let r=a.target.value.replace(/\D/g,"");if(r){let a=t.otp.split("");if(a[e]=r,s.setOtp(a.join("")),e<5){let t=document.querySelector('input[data-index="'.concat(e+1,'"]'));null==t||t.focus()}}},onKeyDown:a=>{if("Backspace"===a.key&&!t.otp[e]&&e>0){let t=document.querySelector('input[data-index="'.concat(e-1,'"]'));null==t||t.focus()}"Enter"===a.key&&6===t.otp.length&&s.handleOtpSubmit()},"data-index":e,className:"w-12 h-12 text-center bg-white/10 border border-white/20 rounded-xl text-white text-lg font-semibold focus:outline-none focus:border-purple-400 focus:bg-white/15 transition-colors",autoFocus:0===e},e))}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("button",{onClick:s.handleResendOtp,disabled:!t.otpExpired&&t.timerSeconds>0,className:"text-purple-300 hover:text-white transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:"Resend OTP"}),(0,a.jsx)("button",{className:"text-purple-300 hover:text-white transition-colors",children:"Wrong Aadhaar?"})]}),(0,a.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl px-3 py-2.5 flex items-start gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-amber-400 mt-0.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),(0,a.jsxs)("p",{className:"text-xs text-amber-200/90",children:["Demo: Enter ",(0,a.jsx)("strong",{children:"123456"})," to simulate successful verification"]})]}),(0,a.jsx)("button",{onClick:s.handleOtpSubmit,disabled:6!==t.otp.length||t.otpExpired,className:"w-full py-3.5 bg-white text-[#1C0B47] rounded-xl text-sm font-semibold hover:bg-white/90 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:"Verify OTP"}),(0,a.jsx)(x,{})]}):null}function x(){return(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("button",{className:"flex items-center gap-1.5 text-purple-300 hover:text-white transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),"KYC Help"]}),(0,a.jsxs)("button",{className:"flex items-center gap-1.5 text-purple-300 hover:text-white transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),"1800 266 5433"]})]})}function u(e){let{onComplete:t}=e,s=(0,r.useRef)(null),o=l(t);return(0,r.useEffect)(()=>{setTimeout(()=>{var e;null===(e=s.current)||void 0===e||e.scrollTo({top:s.current.scrollHeight,behavior:"smooth"})},100)},[o.state.messages]),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,a.jsx)("div",{ref:s,className:"flex-1 overflow-y-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,a.jsx)(d,{messages:o.state.messages}),(0,a.jsx)("div",{className:"h-4"})]})}),(0,a.jsx)(n.M,{children:("aadhaar_input"===o.state.step||"otp_input"===o.state.step)&&(0,a.jsx)(i.E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{type:"spring",damping:28,stiffness:350},className:"shrink-0 shadow-[0_-4px_40px_rgba(0,0,0,0.3)]",style:{background:"var(--motor-glass-bg)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",borderTop:"1px solid var(--motor-border)"},children:(0,a.jsx)("div",{className:"max-w-lg mx-auto px-5 py-5 pb-8",children:(0,a.jsx)(c,{...o})})})})]})}}}]);