"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{4588:function(e,t,i){i.d(t,{O9:function(){return d},__:function(){return m},cM:function(){return u},fL:function(){return s},hx:function(){return l},po:function(){return b},wd:function(){return c}});var n=i(2754);let o="acko_journey_snapshots";function a(){try{return JSON.parse(localStorage.getItem(o)||"{}")}catch(e){return{}}}function r(e){localStorage.setItem(o,JSON.stringify(e))}function l(e){let t=a();t[e.product]=e,r(t)}function c(e){var t;return null!==(t=a()[e])&&void 0!==t?t:null}function s(e){let t=a();delete t[e],r(t)}let u=new Set(["recommendation.result","review.summary","review.consent","review.dob_collection","review.dob_ack","payment.success","health_eval.intro","health_eval.lab_schedule","health_eval.schedule","completion.celebration"]),d=new Set(["life_basic_dob","life_basic_income","life_basic_summary","life_lifestyle_summary","life_dq_habits","life_basic_habits","life_dq_income","life_dq_coverage_input","life_quote_display","life_addons_intro","life_review","life_payment","life_ekyc","life_financial","life_medical_eval","life_underwriting","life_complete","life_db.personal_submitted","life_db.nominee_submitted","life_db.coverage_submitted"]),m=new Set(["quote.plans_ready","quote.plan_selection","quote.plan_selected","addons.out_of_pocket","addons.protect_everyone","addons.complete","review.premium_breakdown","payment.success","completion.dashboard"]);function b(e){let{product:t,currentStepId:i}=e,o=(0,n.xG)((0,n._f)()).dropOff;if("health"===t){var a,r;let t=null!==(r=null===(a=e.members)||void 0===a?void 0:a.length)&&void 0!==r?r:0,n=t>0?"".concat(t," member").concat(t>1?"s":""):"",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"monthly";return e?"₹".concat(e.toLocaleString("en-IN")).concat("monthly"===t?"/mo":"/yr"):""}(e.currentPremium,e.paymentFrequency);if(["recommendation.result","review.summary","review.consent","review.dob_collection","review.dob_ack"].includes(i))return{title:o.quoteReady(o.healthLabel),subtitle:[l,n].filter(Boolean).join(" \xb7 "),ctaLabel:o.completePurchase,route:"/health?resume=1",urgency:"high",badge:o.quoteReadyBadge};if("payment.success"===i||"health_eval.intro"===i)return{title:"Schedule your health check-up",subtitle:"Policy active \xb7 Tests pending".concat(n?" \xb7 "+n:""),ctaLabel:"Schedule now",route:"/health?resume=1",urgency:"high",badge:"Action needed"};if("health_eval.lab_schedule"===i||"health_eval.schedule"===i){let t=e.testScheduledLab?" \xb7 ".concat(e.testScheduledLab):"",i=e.testScheduledDate?" on ".concat(e.testScheduledDate):"";return{title:"Your health tests are scheduled",subtitle:"Tests booked".concat(i).concat(t),ctaLabel:"View details",route:"/health?resume=1",urgency:"medium",badge:"In progress"}}if("completion.celebration"===i)return{title:"Your health policy is active!",subtitle:"".concat(l?l+" \xb7 ":"").concat(n),ctaLabel:"View dashboard",route:"/health?resume=1",urgency:"low",badge:"Policy active"}}if("life"===t){let t=e.name?e.name:"",n=e.coverAmount?"₹".concat((e.coverAmount/1e7).toFixed(0)," Cr cover"):"",o=e.annualPremium?"₹".concat(e.annualPremium.toLocaleString("en-IN"),"/yr"):e.monthlyPremium?"₹".concat(e.monthlyPremium.toLocaleString("en-IN"),"/mo"):"";if(["life_basic_dob","life_basic_income","life_basic_summary","life_basic_habits","life_dq_habits","life_dq_income","life_dq_coverage_input"].includes(i))return{title:"".concat(t?"".concat(t,", we're "):"We're ","building your life plan"),subtitle:"Continue where you left off",ctaLabel:"Continue journey",route:"/life?resume=1",urgency:"medium",badge:"In progress"};if("life_lifestyle_summary"===i)return{title:t?"".concat(t,", your quote is almost ready"):"Your quote is almost ready",subtitle:"Just a few more details needed",ctaLabel:"Get my quote",route:"/life?resume=1",urgency:"medium",badge:"Almost there"};if("life_quote_display"===i||"life_addons_intro"===i)return{title:"".concat(t?t+", your":"Your"," life quote is ready"),subtitle:[o,n].filter(Boolean).join(" \xb7 "),ctaLabel:"Review & buy",route:"/life?resume=1",urgency:"high",badge:"Quote ready"};if("life_review"===i||"life_payment"===i)return{title:"Complete your life insurance purchase",subtitle:[o,n].filter(Boolean).join(" \xb7 "),ctaLabel:"Complete now",route:"/life?resume=1",urgency:"high",badge:"Action needed"};if("life_ekyc"===i)return{title:"Complete eKYC to activate your policy",subtitle:"Payment done \xb7 eKYC pending".concat(n?" \xb7 "+n:""),ctaLabel:"Complete eKYC",route:"/life?resume=1",urgency:"high",badge:"Action needed"};if("life_financial"===i)return{title:"Submit your income documents",subtitle:"eKYC done \xb7 Financial docs pending",ctaLabel:"Upload now",route:"/life?resume=1",urgency:"medium",badge:"Step pending"};if("life_medical_eval"===i)return{title:"Medical evaluation in progress",subtitle:"Results expected in 2–3 days".concat(n?" \xb7 "+n:""),ctaLabel:"Track status",route:"/life?resume=1",urgency:"medium",badge:"In progress"};if("life_underwriting"===i)return{title:"Your policy is being processed",subtitle:"Underwriting in progress".concat(n?" \xb7 "+n:""),ctaLabel:"Track status",route:"/life?resume=1",urgency:"low",badge:"Processing"};if("life_complete"===i){let e=[o,n].filter(Boolean).join(" \xb7 ")||"Term Life Plan \xb7 Active";return{title:t?"".concat(t,", your life policy is active!"):"Your life policy is active!",subtitle:e,ctaLabel:"View policy",route:"/life?screen=dashboard",urgency:"low",badge:"Policy active"}}if("life_db.personal_submitted"===i){let e=[o,n].filter(Boolean).join(" \xb7 ")||"Term Life Plan \xb7 Active";return{title:t?"".concat(t,", personal info update requested"):"Personal info update requested",subtitle:"Processing in 2-3 days \xb7 ".concat(e),ctaLabel:"View policy",route:"/life?screen=dashboard",urgency:"low",badge:"Update in progress"}}if("life_db.nominee_submitted"===i){let e=[o,n].filter(Boolean).join(" \xb7 ")||"Term Life Plan \xb7 Active";return{title:t?"".concat(t,", nominee update requested"):"Nominee update requested",subtitle:"Verification in 2-3 days \xb7 ".concat(e),ctaLabel:"View policy",route:"/life?screen=dashboard",urgency:"low",badge:"Update in progress"}}if("life_db.coverage_submitted"===i){let e=[o,n].filter(Boolean).join(" \xb7 ")||"Term Life Plan \xb7 Active";return{title:t?"".concat(t,", coverage update under review"):"Coverage update under review",subtitle:"Review in 5-7 days \xb7 ".concat(e),ctaLabel:"View policy",route:"/life?screen=dashboard",urgency:"low",badge:"Under review"}}}if("car"===t||"bike"===t){let n=function(e){let t=e.vehicleData;return(null==t?void 0:t.make)?[t.make,t.model].filter(Boolean).join(" "):"bike"===e.vehicleType?"Bike":"Car"}(e),a=e.registrationNumber?" \xb7 ".concat(e.registrationNumber.toUpperCase()):"",r=e.totalPremium?"₹".concat(e.totalPremium.toLocaleString("en-IN"),"/yr"):"",l="zero_dep"===e.selectedPlanType?"Zero Dep":"third_party"===e.selectedPlanType?"Third Party":"comprehensive"===e.selectedPlanType?"Comprehensive":"",c="/motor?vehicle=".concat(t,"&resume=1"),s="car"===t?o.carLabel:o.bikeLabel;if(["quote.plans_ready","quote.plan_selection"].includes(i))return{title:o.quoteReady(s),subtitle:"".concat(n).concat(a),ctaLabel:"View plans",route:c,urgency:"high",badge:o.quoteReadyBadge};if(["quote.plan_selected","addons.out_of_pocket","addons.protect_everyone","addons.complete","review.premium_breakdown"].includes(i))return{title:o.continueJourney,subtitle:[l,r,"".concat(n).concat(a)].filter(Boolean).join(" \xb7 "),ctaLabel:o.completePurchase,route:c,urgency:"high",badge:"Action needed"};if("payment.success"===i||"completion.dashboard"===i)return{title:"Your ".concat(s," policy is active"),subtitle:[l,"".concat(n).concat(a)].filter(Boolean).join(" \xb7 "),ctaLabel:"View policy",route:c,urgency:"low",badge:"Policy active"}}return null}},2336:function(e,t,i){i.d(t,{b:function(){return r}});var n=i(9625);let o={language:"en",isExistingAckoUser:null,userName:"",phone:"",pincode:"",nearbyHospitals:0,resolvedPersona:"first_timer",intent:null,coverageFor:[],members:[],hasMinor:!1,hasSenior:!1,buyingForParents:!1,coverageStatus:null,gmcAmount:null,totalExistingCover:null,wantsGapAnalysis:!1,existingInsurer:"",existingPolicyYears:null,pdfExtractedData:null,hasConditions:!1,hasHeartCondition:!1,hasSevereCondition:!1,memberConditions:{},priorities:[],recommendedPlans:[],selectedPlan:null,splitPlans:{},sumInsured:1e6,paymentFrequency:"monthly",addons:[],deductible:null,currentPremium:0,basePremium:0,currentStepId:"entry.welcome",currentModule:"entry",conversationHistory:[],isTyping:!1,showExpertPanel:!1,showAIChat:!1,journeyComplete:!1,paymentComplete:!1,postPaymentPhase:null,postPaymentScenario:"all_clear",doctorCallComplete:!1,testsComplete:!1,callScheduledDate:"",callScheduledTime:"",callScheduledLang:"english",testScheduledDate:"",testScheduledTime:"",testScheduledLab:"",dashboardClaimType:"",dashboardClaimHospital:"",dashboardClaimMember:"",dashboardClaimReason:"",dashboardClaimDate:"",dashboardClaimAmount:"",dashboardEditType:"",dashboardNewMemberName:"",dashboardNewMemberAge:"",dashboardNewMemberRelation:"",dashboardNewSumInsured:"",dashboardSubmittedClaims:[],dashboardSubmittedEdits:[],theme:"midnight"},a=0,r=(0,n.Ue)()((e,t)=>({...o,addMessage:t=>{let i={...t,id:"".concat(t.type,"-").concat(++a),timestamp:Date.now()};e(e=>({conversationHistory:[...e.conversationHistory,i]}))},updateState:i=>{e(e=>({...e,...i}));let n=["intent","hasSenior","buyingForParents","coverageStatus","members"];Object.keys(i).some(e=>n.includes(e))&&t().resolveAndSetPersona()},setExistingAckoUser:t=>e({isExistingAckoUser:t}),setLanguage:t=>e({language:t}),resolveAndSetPersona:()=>{e({resolvedPersona:function(e){let{intent:t,hasSenior:i,buyingForParents:n,coverageStatus:o,members:a}=e;if("exploring"===t)return i||n?n?"caring_child":"anxious_senior":"window_shopper";if(n)return"caring_child";let r=a.find(e=>"self"===e.relation);return r&&r.age>=45||i&&!n?"anxious_senior":"individual_policy"===o||"compare"===t?"switcher":"gmc"===o||"both"===o||"cover_enough"===t?"gap_filler":"first_timer"}(t())})},updateUserMessage:(i,n)=>{e({conversationHistory:t().conversationHistory.map(e=>e.stepId===i&&"user"===e.type?{...e,content:n}:e)})},trimAndUpdateFromStep:(i,n)=>{let o=t().conversationHistory,a=o.findIndex(e=>e.stepId===i&&"user"===e.type);-1!==a&&e({conversationHistory:[...o.slice(0,a),{...o[a],content:n}]})},resetJourney:()=>{a=0,e({...o})}}))}}]);