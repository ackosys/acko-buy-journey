"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{4588:function(e,t,n){n.d(t,{O9:function(){return d},__:function(){return m},cM:function(){return u},fL:function(){return s},hx:function(){return l},po:function(){return h},wd:function(){return c}});var o=n(2754);let a="acko_journey_snapshots";function i(){try{return JSON.parse(localStorage.getItem(a)||"{}")}catch(e){return{}}}function r(e){localStorage.setItem(a,JSON.stringify(e))}function l(e){let t=i();t[e.product]=e,r(t)}function c(e){var t;return null!==(t=i()[e])&&void 0!==t?t:null}function s(e){let t=i();delete t[e],r(t)}let u=new Set(["recommendation.result","review.summary","review.consent","review.dob_collection","review.dob_ack","payment.success","health_eval.intro","health_eval.lab_schedule","health_eval.schedule","completion.celebration"]),d=new Set(["life_quote_display","life_addons_intro","life_review","life_payment","life_ekyc","life_financial","life_medical_eval","life_underwriting","life_complete"]),m=new Set(["quote.plans_ready","quote.plan_selection","quote.plan_selected","addons.out_of_pocket","addons.protect_everyone","addons.complete","review.premium_breakdown","payment.success","completion.dashboard"]);function h(e){let{product:t,currentStepId:n}=e,a=(0,o.xG)((0,o._f)()).dropOff;if("health"===t){var i,r;let t=null!==(r=null===(i=e.members)||void 0===i?void 0:i.length)&&void 0!==r?r:0,o=t>0?"".concat(t," member").concat(t>1?"s":""):"",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"monthly";return e?"₹".concat(e.toLocaleString("en-IN")).concat("monthly"===t?"/mo":"/yr"):""}(e.currentPremium,e.paymentFrequency);if(["recommendation.result","review.summary","review.consent","review.dob_collection","review.dob_ack"].includes(n))return{title:a.quoteReady(a.healthLabel),subtitle:[l,o].filter(Boolean).join(" \xb7 "),ctaLabel:a.completePurchase,route:"/health?resume=1",urgency:"high",badge:a.quoteReadyBadge};if("payment.success"===n||"health_eval.intro"===n)return{title:"Schedule your health check-up",subtitle:"Policy active \xb7 Tests pending".concat(o?" \xb7 "+o:""),ctaLabel:"Schedule now",route:"/health?resume=1",urgency:"high",badge:"Action needed"};if("health_eval.lab_schedule"===n||"health_eval.schedule"===n){let t=e.testScheduledLab?" \xb7 ".concat(e.testScheduledLab):"",n=e.testScheduledDate?" on ".concat(e.testScheduledDate):"";return{title:"Your health tests are scheduled",subtitle:"Tests booked".concat(n).concat(t),ctaLabel:"View details",route:"/health?resume=1",urgency:"medium",badge:"In progress"}}if("completion.celebration"===n)return{title:"Your health policy is active!",subtitle:"".concat(l?l+" \xb7 ":"").concat(o),ctaLabel:"View dashboard",route:"/health?resume=1",urgency:"low",badge:"Policy active"}}if("life"===t){let t=e.name?e.name:"",o=e.coverAmount?"₹".concat((e.coverAmount/1e7).toFixed(0)," Cr cover"):"",a=e.annualPremium?"₹".concat(e.annualPremium.toLocaleString("en-IN"),"/yr"):e.monthlyPremium?"₹".concat(e.monthlyPremium.toLocaleString("en-IN"),"/mo"):"";if("life_quote_display"===n||"life_addons_intro"===n)return{title:"".concat(t?t+", your":"Your"," life quote is ready"),subtitle:[a,o].filter(Boolean).join(" \xb7 "),ctaLabel:"Review & buy",route:"/life?resume=1",urgency:"high",badge:"Quote ready"};if("life_review"===n||"life_payment"===n)return{title:"Complete your life insurance purchase",subtitle:[a,o].filter(Boolean).join(" \xb7 "),ctaLabel:"Complete now",route:"/life?resume=1",urgency:"high",badge:"Action needed"};if("life_ekyc"===n)return{title:"Complete eKYC to activate your policy",subtitle:"Payment done \xb7 eKYC pending".concat(o?" \xb7 "+o:""),ctaLabel:"Complete eKYC",route:"/life?resume=1",urgency:"high",badge:"Action needed"};if("life_financial"===n)return{title:"Submit your income documents",subtitle:"eKYC done \xb7 Financial docs pending",ctaLabel:"Upload now",route:"/life?resume=1",urgency:"medium",badge:"Step pending"};if("life_medical_eval"===n)return{title:"Medical evaluation in progress",subtitle:"Results expected in 2–3 days".concat(o?" \xb7 "+o:""),ctaLabel:"Track status",route:"/life?resume=1",urgency:"medium",badge:"In progress"};if("life_underwriting"===n||"life_complete"===n)return{title:"Your policy is being processed",subtitle:"Underwriting in progress".concat(o?" \xb7 "+o:""),ctaLabel:"Track status",route:"/life?resume=1",urgency:"low",badge:"Processing"}}if("car"===t||"bike"===t){let o=function(e){let t=e.vehicleData;return(null==t?void 0:t.make)?[t.make,t.model].filter(Boolean).join(" "):"bike"===e.vehicleType?"Bike":"Car"}(e),i=e.registrationNumber?" \xb7 ".concat(e.registrationNumber.toUpperCase()):"",r=e.totalPremium?"₹".concat(e.totalPremium.toLocaleString("en-IN"),"/yr"):"",l="zero_dep"===e.selectedPlanType?"Zero Dep":"third_party"===e.selectedPlanType?"Third Party":"comprehensive"===e.selectedPlanType?"Comprehensive":"",c="/motor?vehicle=".concat(t,"&resume=1"),s="car"===t?a.carLabel:a.bikeLabel;if(["quote.plans_ready","quote.plan_selection"].includes(n))return{title:a.quoteReady(s),subtitle:"".concat(o).concat(i),ctaLabel:"View plans",route:c,urgency:"high",badge:a.quoteReadyBadge};if(["quote.plan_selected","addons.out_of_pocket","addons.protect_everyone","addons.complete","review.premium_breakdown"].includes(n))return{title:a.continueJourney,subtitle:[l,r,"".concat(o).concat(i)].filter(Boolean).join(" \xb7 "),ctaLabel:a.completePurchase,route:c,urgency:"high",badge:"Action needed"};if("payment.success"===n||"completion.dashboard"===n)return{title:"Your ".concat(s," policy is active"),subtitle:[l,"".concat(o).concat(i)].filter(Boolean).join(" \xb7 "),ctaLabel:"View policy",route:c,urgency:"low",badge:"Policy active"}}return null}},2336:function(e,t,n){n.d(t,{b:function(){return r}});var o=n(9625);let a={language:"en",isExistingAckoUser:null,userName:"",phone:"",pincode:"",nearbyHospitals:0,resolvedPersona:"first_timer",intent:null,coverageFor:[],members:[],hasMinor:!1,hasSenior:!1,buyingForParents:!1,coverageStatus:null,gmcAmount:null,totalExistingCover:null,wantsGapAnalysis:!1,existingInsurer:"",existingPolicyYears:null,pdfExtractedData:null,hasConditions:!1,hasHeartCondition:!1,hasSevereCondition:!1,memberConditions:{},priorities:[],recommendedPlans:[],selectedPlan:null,splitPlans:{},sumInsured:1e6,paymentFrequency:"monthly",addons:[],deductible:null,currentPremium:0,basePremium:0,currentStepId:"entry.welcome",currentModule:"entry",conversationHistory:[],isTyping:!1,showExpertPanel:!1,showAIChat:!1,journeyComplete:!1,paymentComplete:!1,postPaymentPhase:null,postPaymentScenario:"all_clear",doctorCallComplete:!1,testsComplete:!1,callScheduledDate:"",callScheduledTime:"",callScheduledLang:"english",testScheduledDate:"",testScheduledTime:"",testScheduledLab:"",dashboardClaimType:"",dashboardClaimHospital:"",dashboardClaimMember:"",dashboardClaimReason:"",dashboardClaimDate:"",dashboardClaimAmount:"",dashboardEditType:"",dashboardNewMemberName:"",dashboardNewMemberAge:"",dashboardNewMemberRelation:"",dashboardNewSumInsured:"",dashboardSubmittedClaims:[],dashboardSubmittedEdits:[],theme:"midnight"},i=0,r=(0,o.Ue)()((e,t)=>({...a,addMessage:t=>{let n={...t,id:"".concat(t.type,"-").concat(++i),timestamp:Date.now()};e(e=>({conversationHistory:[...e.conversationHistory,n]}))},updateState:n=>{e(e=>({...e,...n}));let o=["intent","hasSenior","buyingForParents","coverageStatus","members"];Object.keys(n).some(e=>o.includes(e))&&t().resolveAndSetPersona()},setExistingAckoUser:t=>e({isExistingAckoUser:t}),setLanguage:t=>e({language:t}),resolveAndSetPersona:()=>{e({resolvedPersona:function(e){let{intent:t,hasSenior:n,buyingForParents:o,coverageStatus:a,members:i}=e;if("exploring"===t)return n||o?o?"caring_child":"anxious_senior":"window_shopper";if(o)return"caring_child";let r=i.find(e=>"self"===e.relation);return r&&r.age>=45||n&&!o?"anxious_senior":"individual_policy"===a||"compare"===t?"switcher":"gmc"===a||"both"===a||"cover_enough"===t?"gap_filler":"first_timer"}(t())})},updateUserMessage:(n,o)=>{e({conversationHistory:t().conversationHistory.map(e=>e.stepId===n&&"user"===e.type?{...e,content:o}:e)})},trimAndUpdateFromStep:(n,o)=>{let a=t().conversationHistory,i=a.findIndex(e=>e.stepId===n&&"user"===e.type);-1!==i&&e({conversationHistory:[...a.slice(0,i),{...a[i],content:o}]})},resetJourney:()=>{i=0,e({...a})}}))}}]);